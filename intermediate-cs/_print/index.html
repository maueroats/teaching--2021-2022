<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.101.0" />
<link rel="canonical" type="text/html" href="https://maueroats.github.io/teaching--2021-2022/intermediate-cs/">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/teaching--2021-2022/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/teaching--2021-2022/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-192x192.png" sizes="192x192">

<title>Intermediate CS | WY CS</title>
<meta name="description" content="Overview
Intermediate Computer Science uses the
DrRacket environment and the Picturing
Programs textbook. Use
WeScheme if you cannot install programs, â€¦">
<meta property="og:title" content="Intermediate CS" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://maueroats.github.io/teaching--2021-2022/intermediate-cs/" />

<meta itemprop="name" content="Intermediate CS">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Intermediate CS"/>
<meta name="twitter:description" content=""/>




<link rel="preload" href="/teaching--2021-2022/scss/main.min.d025e7f93eb7a713039676faaf01ccf911a0435790c00ed7c3e93d0345d088e1.css" as="style">
<link href="/teaching--2021-2022/scss/main.min.d025e7f93eb7a713039676faaf01ccf911a0435790c00ed7c3e93d0345d088e1.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/teaching--2021-2022/">
		<span class="navbar-logo"></span><span class="font-weight-bold">WY CS</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/ecs/" ><span>ECS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/teaching--2021-2022/intermediate-cs/" ><span class="active">IntermediateCS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/ap-cs/" ><span>AP CS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/ai/" ><span>AI</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/resources/" ><span>Resources</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"></div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/teaching--2021-2022/intermediate-cs/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Intermediate CS</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-523fdcee2894451d77d8584f8943b969">1. Introduction</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-239f5c86c0996ca813df7689a4efdaf8">HW 01 B</a></li>


    
  
    
    
	
<li>1.2: <a href="#pg-8abf81d9cc361f6e6f356e5526ad9086">HW 01 C</a></li>


    
  
    
    
	
<li>1.3: <a href="#pg-a1236a2086af755f12047dd52e29c4ca">Ch01.QuizA</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-8cfc75a1a81461299fc71d72f958cce6">3. Images</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1: <a href="#pg-9664b967d706e3b10e980aa444e8ffbd">Exercises</a></li>


    
  
    
    
	
<li>2.2: <a href="#pg-b1fe94d43cf507fcacdb668ad09e0a2f">Tangrams</a></li>


    
  
    
    
	
<li>2.3: <a href="#pg-73ff074edda682779e57e82ad8c8953c">Art Project</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-10bd17b08a4ebbcbf705b8b707b3f4f3">6. Animations I</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1: <a href="#pg-4a30ff2d3344ecf1846b769a06cd6285">Animations Summary</a></li>


    
  
    
    
	
<li>3.2: <a href="#pg-2b336be80e0e601a2757ebb3eaa001d7">Animations Intro Slides</a></li>


    
  
    
    
	
<li>3.3: <a href="#pg-8bf9d2f34f5f4ed14cfe099d6eeebeb6">Animations Outline</a></li>


    
  
    
    
	
<li>3.4: <a href="#pg-ba46521b5e5fee598e6ab7a0276b4557">Animations Key, Mouse</a></li>


    
  
    
    
	
<li>3.5: <a href="#pg-b79211c233efdd0f2f93e582ad9f87e3">Animation Examples</a></li>


    
  
    
    
	
<li>3.6: <a href="#pg-285ab82bfab6cffb7543e1e1141536d9">Animation Portfolio I</a></li>


    
  
    
    
	
<li>3.7: <a href="#pg-20c5ea6a6c3d480b4e1cd064776c33a8">Animation Portfolio II</a></li>


    
  
    
    
	
<li>3.8: <a href="#pg-cf95e8dd7b20b683044d6307a532e6d1">Animation Project</a></li>


    
  
    
    
	
<li>3.9: <a href="#pg-0c67ce3de91e79c92011e547d0a7f7f1">Info: Signature Story</a></li>


    
  
    
    
	
<li>3.10: <a href="#pg-6bfb1b3a9dda47ccab381933eeeb347a">Info: Check-Expects</a></li>


    
  
    
    
	
<li>3.11: <a href="#pg-33fb15cf10515bd5b4c8c78bec708d66">big-bang 00</a></li>


    
  
    
    
	
<li>3.12: <a href="#pg-08fad0896193803b3cf47f4b30cb5c6c">big-bang 01</a></li>


    
  
    
    
	
<li>3.13: <a href="#pg-6ffcb8518e155be2c3f54866f4b07a93">big-bang 02</a></li>


    
  
    
    
	
<li>3.14: <a href="#pg-6df68663420992a0a42bd5003dcea3c7">big-bang 03</a></li>


    
  
    
    
	
<li>3.15: <a href="#pg-2703464eb4ae6cd64354d08a5a891097">big-bang 04</a></li>


    
  
    
    
	
<li>3.16: <a href="#pg-5cc479e56be4fd42c214dbb92fcee96e">big-bang 05</a></li>


    
  
    
    
	
<li>3.17: <a href="#pg-7e058158468f2721e8aba8a8cbff75a6">Daily Animations</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.17.1: <a href="#pg-947015c624e69e4cdadb8066e433356c">2018.10.12</a></li>


    
  
    
    
	
<li>3.17.2: <a href="#pg-9ce84638c9c3034b4a2d7413c3bcefae">2018.10.11</a></li>


    
  
    
    
	
<li>3.17.3: <a href="#pg-b8dfe957c1258094cda31aa43a301344">2017-10-12</a></li>


    
  
    
    
	
<li>3.17.4: <a href="#pg-c29368cd88d7579150124151d250ac7a">2017-10-10</a></li>


    
  
    
    
	
<li>3.17.5: <a href="#pg-fc2acc773b04c36045ed93c512c2a06c">Animation Practice</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3.18: <a href="#pg-970e585ff3c238efa0b18548de5d0f97">Resources</a></li>


    
  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-3a9aeb8cf82c992ced9579593cb5abd9">7. Numbers</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.1: <a href="#pg-14ed15cfcb1a19f3c960c04c46d4e5ac">7. Summary</a></li>


    
  
    
    
	
<li>4.2: <a href="#pg-7496b16c963dec085bfddab4b0f1db49">7. Exercises 1</a></li>


    
  
    
    
	
<li>4.3: <a href="#pg-f5bdf567ca70ebc847dba0516fa4cf9b">7. Exercises 2</a></li>


    
  
    
    
	
<li>4.4: <a href="#pg-8bb25e4f65fb53c51d9b5c1b3f7bdf21">7. Exercises 3</a></li>


    
  
    
    
	
<li>4.5: <a href="#pg-5c2543852f51f151317772de94006d9a">7. Exercises 4</a></li>


    
  
    
    
	
<li>4.6: <a href="#pg-57f1a990f68bea16c46e1459988f3b7e">7. Exercises 5</a></li>


    
  
    
    
	
<li>4.7: <a href="#pg-ec000af0637be1afb777e65d2aeb0cd0">7. Exercises 6</a></li>


    
  
    
    
	
<li>4.8: <a href="#pg-6064ed098a6d345367c852ef7149bfb8">7. Review 1</a></li>


    
  
    
    
	
<li>4.9: <a href="#pg-6952629c2c7824eb7193f045cf66c9dd">7. Review 2</a></li>


    
  
    
    
	
<li>4.10: <a href="#pg-0302938d2d616ce35a56672071105558">7. Numbers Quiz A</a></li>


    
  
    
    
	
<li>4.11: <a href="#pg-75eca2780fef2c31780583605f5a068e">Slides: Max and min</a></li>


    
  
    
    
	
<li>4.12: <a href="#pg-f49216d0f7e5c7a8a987437541b896ab">Randomness</a></li>


    
  
    
    
	
<li>4.13: <a href="#pg-758cd8408cf7b969637c9779c67c288f">Worksheets</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.13.1: <a href="#pg-76df91f2f5ffc66cd603991386ae91ed">Ch07 WS 01</a></li>


    
  
    
    
	
<li>4.13.2: <a href="#pg-9f5db60fcff74ddd20f389b466768cf1">Ch07 WS 03</a></li>


    
  
    
    
	
<li>4.13.3: <a href="#pg-0307e91db5e0eba9df3ae1e2f1faec2e">Ch07 WS 04</a></li>


    
  

    </ul>
    
  
    
    
	
<li>4.14: <a href="#pg-e5ef4a527779ca8965d12bd51e3a2bda">Resources</a></li>


    
  

    </ul>
    
  
    
    
	
<li>5: <a href="#pg-b3ef63ef3b150b4d5883e55da502052a">8. Number Models</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-f59e4045e88ed607657b11af204a5590">8. Number Models 1</a></li>


    
  
    
    
	
<li>5.2: <a href="#pg-79378ddcff3692977adef7428b0f21cc">Number Models 1</a></li>


    
  
    
    
	
<li>5.3: <a href="#pg-4974ea3f137718c08eb2750d92d47d61">Number Models 2</a></li>


    
  
    
    
	
<li>5.4: <a href="#pg-3af7fcbd71469203bf321cde233646eb">Number Models 3</a></li>


    
  
    
    
	
<li>5.5: <a href="#pg-5c0501efebc2adb8381ea20ab62c13d8">Number Models 4</a></li>


    
  
    
    
	
<li>5.6: <a href="#pg-378edce69f6a05825fc27f29265ad4b3">Number Models 5</a></li>


    
  
    
    
	
<li>5.7: <a href="#pg-d86448d1412814fa22a3d71bd9f2107a">Number Model Review</a></li>


    
  
    
    
	
<li>5.8: <a href="#pg-41a21ee576568bf5f36c692f09e4cc22">Number Model Review II</a></li>


    
  
    
    
	
<li>5.9: <a href="#pg-7c8a3fa3f08d56ca51bfbe8594c609ac">Number Graph Zoom</a></li>


    
  
    
    
	
<li>5.10: <a href="#pg-8e7174dcbf16382a3bf7a197d87cca4c">8. Number Project</a></li>


    
  
    
    
	
<li>5.11: <a href="#pg-be9e9fb3f1a25457a7db89151bf601d2">8. Number Finale</a></li>


    
  
    
    
	
<li>5.12: <a href="#pg-51aa55335bf4290ca6ddbb253b056a6b">8. Build It Test</a></li>


    
  
    
    
	
<li>5.13: <a href="#pg-21caefdfa40864a5a44baed95363feab">8. Test Corrections</a></li>


    
  
    
    
	
<li>5.14: <a href="#pg-d92ee09cf2fa4435430ad4e7570e2ba1">Number Review More</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-e30e77d5af79d4d0901931820078f3a6">13. Booleans</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>6.1: <a href="#pg-b88d8570474d481e6c909694dc6cc7b1">13. Exercises B</a></li>


    
  
    
    
	
<li>6.2: <a href="#pg-be05258bb40cec09d56670c42edb0d15">13. Exercises C</a></li>


    
  
    
    
	
<li>6.3: <a href="#pg-86de8d7b50d27f1672632e0706598e71">13. Intro Exercises 1</a></li>


    
  
    
    
	
<li>6.4: <a href="#pg-3cf3b7420d2be7dd450bf75acc7a2659">13. Intro Exercises 2</a></li>


    
  
    
    
	
<li>6.5: <a href="#pg-c3daee86825e0dbbbab7d62c7daa4076">13. Intro Exercises 3</a></li>


    
  
    
    
	
<li>6.6: <a href="#pg-3d2b549f2395df37f719f33a400a7a27">Ch13 Exercises</a></li>


    
  

    </ul>
    
  
    
    
	
<li>7: <a href="#pg-6ee83f2bf76147e653d276fb89fc3939">14. Booleans II</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>7.1: <a href="#pg-92a05027dea2638b67e3935f948d44c7">14. Essentials</a></li>


    
  

    </ul>
    
  
    
    
	
<li>8: <a href="#pg-c65ee4a465930bc33f37b3c0b8a931b4">15. Conditionals</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>8.1: <a href="#pg-65d455a6eb0af3d9f533d6f5fa566539">15. Slides</a></li>


    
  
    
    
	
<li>8.2: <a href="#pg-f8a9865b5b7a99c187d6aebfc0496f34">15. Cond Patterns</a></li>


    
  
    
    
	
<li>8.3: <a href="#pg-13f789128c6ca51871374c42c76da9c9">15. Another Challenge</a></li>


    
  
    
    
	
<li>8.4: <a href="#pg-724b39094412471851b85bf9c8ad1cb8">15. Graphing Review</a></li>


    
  
    
    
	
<li>8.5: <a href="#pg-0e2cf0e9064ef6291875f7fa6b2c9b73">15. Heatmap</a></li>


    
  
    
    
	
<li>8.6: <a href="#pg-738b91afd10ba67e02d8bc6f6b2b47ac">15. Heatmap with Contours</a></li>


    
  
    
    
	
<li>8.7: <a href="#pg-f71e734ef7f3219aa7fa13aa50c32f7d">15. Practice All</a></li>


    
  
    
    
	
<li>8.8: <a href="#pg-5eb9083147ec6c1a7b411304fe247ccf">15. Practice Quiz</a></li>


    
  

    </ul>
    
  
    
    
	
<li>9: <a href="#pg-a15afecd1bb1187df28db96a65a64a26">17. Cond Animations</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>9.1: <a href="#pg-81074f50ef782a8e423ef68b545b1402">17.C</a></li>


    
  
    
    
	
<li>9.2: <a href="#pg-f17c0516777d83c35df5a320ffa74f86">17.D</a></li>


    
  
    
    
	
<li>9.3: <a href="#pg-c966f51e265a092867666119612be233">17.E</a></li>


    
  
    
    
	
<li>9.4: <a href="#pg-3021a95f6860818d63049f4630b713de">Jan A</a></li>


    
  

    </ul>
    
  
    
    
	
<li>10: <a href="#pg-2407f86c711ddaa126e20e5ccd5b40b6">Sem.I Review</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>10.1: <a href="#pg-638c48bdd7f03314d10b3d05d64e593e">I.1 Semester I Review 1</a></li>


    
  
    
    
	
<li>10.2: <a href="#pg-4cb4fd7e541542f361bbc5fe28522d85">I.2 Semester I Review 2</a></li>


    
  
    
    
	
<li>10.3: <a href="#pg-e6106113fd3eb513dc6bfe35f3dfe378">I.3 Semester I Review 3</a></li>


    
  
    
    
	
<li>10.4: <a href="#pg-22dd4231cf386bb20298dab41d90652e">I.4 Semester I Review 4</a></li>


    
  
    
    
	
<li>10.5: <a href="#pg-fdc4ba33f8bb7ccefa0006e81f13c129">I.5 Semester I Review 5</a></li>


    
  
    
    
	
<li>10.6: <a href="#pg-4f06cbb063bb82afa1ffdc279f3f328a">I.6 Semester I Review 6</a></li>


    
  
    
    
	
<li>10.7: <a href="#pg-13d923a338dfeb56cb6682e70e140d40">I.7 Semester I Review 7</a></li>


    
  
    
    
	
<li>10.8: <a href="#pg-28586b0ce9fcb4a39b5ac6581e8df31c">I.8 Semester I Review 8</a></li>


    
  
    
    
	
<li>10.9: <a href="#pg-4504c3d4abae62c1f83b2d5e2d0757e7">I.E Semester Review E</a></li>


    
  
    
    
	
<li>10.10: <a href="#pg-e1b735863901203e025ce795ebc0098e">I.F Semester Review F</a></li>


    
  
    
    
	
<li>10.11: <a href="#pg-8b1bc4238c3d9a0b9feca04798869027">Sem.1 Final</a></li>


    
  
    
    
	
<li>10.12: <a href="#pg-0d5741899086f61b0084c990b271daf2">Sem.I 2020 Review Notes</a></li>


    
  
    
    
	
<li>10.13: <a href="#pg-924ddc0767219b5674df1f2423187d28">Semester Review Topics List</a></li>


    
  

    </ul>
    
  
    
    
	
<li>11: <a href="#pg-dbba681097e4231d18a95083eacf1bb8">20. Using Structures</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>11.1: <a href="#pg-69bd00b88f494ed96063f27ec0dd26f1">20. Posn Util</a></li>


    
  
    
    
	
<li>11.2: <a href="#pg-8506e45104fed045bbfce862c84c5483">20. Libraries</a></li>


    
  
    
    
	
<li>11.3: <a href="#pg-3f783b27763f9e7e9651cc9d4f36bef6">20. Troubleshoot</a></li>


    
  
    
    
	
<li>11.4: <a href="#pg-e1b1a9819b6f7eda1602918ac0cc068e">20. Posn Math</a></li>


    
  
    
    
	
<li>11.5: <a href="#pg-57100c2d6c0a03bbacd1c54269142c51">20. Posn Math Programming</a></li>


    
  
    
    
	
<li>11.6: <a href="#pg-171407d938732ab96112a68aaa0ee4b1">20. Click Circle</a></li>


    
  
    
    
	
<li>11.7: <a href="#pg-b6f75fefc78458abc8193d7b712233af">20. Click Circle Questions</a></li>


    
  
    
    
	
<li>11.8: <a href="#pg-a3fd1a8b78df629c9598db01947af822">20. Click Mega</a></li>


    
  
    
    
	
<li>11.9: <a href="#pg-6c0e58aaed8b3d2490c3fd9f3dc8da8d">20. Silly Square</a></li>


    
  
    
    
	
<li>11.10: <a href="#pg-f4106eb4f0f151018f3292bc82de22fc">20. Tightrope</a></li>


    
  
    
    
	
<li>11.11: <a href="#pg-be5e5ca728b3e53656c0dc3fa8f8a537">20. Click Rectangle</a></li>


    
  
    
    
	
<li>11.12: <a href="#pg-a3788813e67b80abed909a253be4c6f4">20. Chase</a></li>


    
  
    
    
	
<li>11.13: <a href="#pg-fe71f277cf2809e08b5153c317e154ed">20. Map Image</a></li>


    
  
    
    
	
<li>11.14: <a href="#pg-c8059548a3df952304b8d640a12a6c85">20. Color Enhancing</a></li>


    
  
    
    
	
<li>11.15: <a href="#pg-cd9a094f9ec38eb24c037300d24944b7">20. Review</a></li>


    
  
    
    
	
<li>11.16: <a href="#pg-92169a6171619c5cf5467bd202585242">20. Ball Driving</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>11.16.1: <a href="#pg-52f61972d72ffc776a679acc7be61d47">1. Intro</a></li>


    
  
    
    
	
<li>11.16.2: <a href="#pg-2a75935d997a3c07900d02fca683de37">2. Starter Code</a></li>


    
  
    
    
	
<li>11.16.3: <a href="#pg-9f01b3d2cb4265909572ab98c1bf3b17">3. Controls</a></li>


    
  
    
    
	
<li>11.16.4: <a href="#pg-877a6b2814f7524db86d596d33fc568e">4. Motion</a></li>


    
  
    
    
	
<li>11.16.5: <a href="#pg-00da32600fae14ac553d5a2a5582374b">5. End Game</a></li>


    
  
    
    
	
<li>11.16.6: <a href="#pg-5a1fee53a7417832355a599fea9385dc">6. Animation</a></li>


    
  

    </ul>
    
  
    
    
	
<li>11.17: <a href="#pg-76234351ffd5005d789a3b6d1a872dbe">20. Quiz C</a></li>


    
  
    
    
	
<li>11.18: <a href="#pg-679298e30f0d82562d742d67b79602c7">20. Quiz D</a></li>


    
  
    
    
	
<li>11.19: <a href="#pg-5abb893893ea1c9e5aa6b0b3580b4b1d">Advanced: Aimbooster</a></li>


    
  
    
    
	
<li>11.20: <a href="#pg-9a262f25e4df862e8425735186dc05b3">Troll Quiz Practice</a></li>


    
  
    
    
	
<li>11.21: <a href="#pg-4b522a02066f6370bdb4f4dbdd9a5555"></a></li>


    
  

    </ul>
    
  
    
    
	
<li>12: <a href="#pg-32c7c13089603efc09d369cbfe06e8ff">21. Structures</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>12.1: <a href="#pg-ccb680abb58f6020aabc436f1887fc6d">21. PV Intro</a></li>


    
  
    
    
	
<li>12.2: <a href="#pg-c148196515ad5637657c2a9ec7a0bf67">21. Two Actions, One Tick</a></li>


    
  
    
    
	
<li>12.3: <a href="#pg-bd86bc2e2431247b6d4b696921006d14">Moving Ball</a></li>


    
  
    
    
	
<li>12.4: <a href="#pg-f0af65eccd69f8c2f9eb444c175dac2d">Speed Typer</a></li>


    
  
    
    
	
<li>12.5: <a href="#pg-2bef6813c9a4f58a710734fa01fa492a">Agar.io</a></li>


    
  

    </ul>
    
  
    
    
	
<li>13: <a href="#pg-029b44d7937371c46641f895d4215827">22a. Recursion</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>13.1: <a href="#pg-5d0dfdc936bf8c832825779345325f6f">22a. Learn Recursion</a></li>


    
  
    
    
	
<li>13.2: <a href="#pg-b96f8371df7033e08f8a64ee046822a8">22a. Fibonacci</a></li>


    
  
    
    
	
<li>13.3: <a href="#pg-9eefef1e69d495226c56c44db5f25a95">22a. Digits</a></li>


    
  
    
    
	
<li>13.4: <a href="#pg-ae21ff872f845acf455f4e9318aeec8c">22a. Sum Digits</a></li>


    
  
    
    
	
<li>13.5: <a href="#pg-81673625fac5fa8d9586d284e28e9b97">22a. Digits II</a></li>


    
  
    
    
	
<li>13.6: <a href="#pg-7f9c6bdf9636f89d167790c7fb78b20a">22a. Digits III</a></li>


    
  
    
    
	
<li>13.7: <a href="#pg-5be1856d065cfaf206084a1e2ca9bb5b">22a. Digits V</a></li>


    
  
    
    
	
<li>13.8: <a href="#pg-0baf69f218fa04fcf2efa6923eb54e25">22a. Fibsum</a></li>


    
  
    
    
	
<li>13.9: <a href="#pg-1c4623c36e7105a7cc172ae4b2fef48b">22a. More Recursion</a></li>


    
  
    
    
	
<li>13.10: <a href="#pg-fecca8696026ea518effa53f99a2b487">22a. Harmonic</a></li>


    
  
    
    
	
<li>13.11: <a href="#pg-f2a244a2b1f52fc6a333f73f5bfe0ba9">22a. Practice&#43;&#43;</a></li>


    
  
    
    
	
<li>13.12: <a href="#pg-f5bf4736497ceedd091f301b086b7dfc">22a. ss3</a></li>


    
  
    
    
	
<li>13.13: <a href="#pg-eebb2068a262a62dcce3739a88e914ae">22a. Recursive Helpers</a></li>


    
  
    
    
	
<li>13.14: <a href="#pg-f74d3eb913a9e610400e00f3c16a62c3">22a. Recursion Quiz Practice</a></li>


    
  
    
    
	
<li>13.15: <a href="#pg-9765a574ca5a6f722fb6da8df202ab40">22a. Recursion Quiz 2018</a></li>


    
  
    
    
	
<li>13.16: <a href="#pg-70ddd1611c23f4b2b158c97b75a2b1ae">22a. Recursion Practice I 2019</a></li>


    
  
    
    
	
<li>13.17: <a href="#pg-c62736cf455a8d5a6b29bc887e381d8a">Roygbiv Code</a></li>


    
  
    
    
	
<li>13.18: <a href="#pg-a34fedc4f5b908701096f5c03d5fa35d">22a. Strings</a></li>


    
  
    
    
	
<li>13.19: <a href="#pg-cafc07c28fcede25f31c70bf2370f160">22a. Helpers</a></li>


    
  
    
    
	
<li>13.20: <a href="#pg-bc1974457de2f10eba0470cd331d567a">22a. Helpers: Count Divisors</a></li>


    
  
    
    
	
<li>13.21: <a href="#pg-cbdaea8451268a0739331dffe8edcff0">22a. Recursion Practice 3</a></li>


    
  
    
    
	
<li>13.22: <a href="#pg-c5ee31598d4fca7a7e22453b951f1424">22a. Recursion Self Quiz</a></li>


    
  
    
    
	
<li>13.23: <a href="#pg-5dbe03c51a99982e3560ec04e9c1e612">22a. Recursion Practice 4</a></li>


    
  
    
    
	
<li>13.24: <a href="#pg-9822291ebe298e8854081c05bdf2314d">22a. Mini-Quiz</a></li>


    
  
    
    
	
<li>13.25: <a href="#pg-b1f4f3789128b9c55606876e41d040e2">22a. Recursion Quiz 2</a></li>


    
  
    
    
	
<li>13.26: <a href="#pg-f2900ceca9639c5ef3f8ecfc57d2d30e">22a. Recursion Practice 5</a></li>


    
  
    
    
	
<li>13.27: <a href="#pg-6e0d8dceaa9df84023179dc5319ccca5">22a. Recursion Practice 6</a></li>


    
  
    
    
	
<li>13.28: <a href="#pg-13f0f7238dcad71e99a2208c006b4e10">Quiz 3 (Hard)</a></li>


    
  
    
    
	
<li>13.29: <a href="#pg-722c873ad2ae2829655e4f4fbd010676">Quiz 4 (Medium)</a></li>


    
  
    
    
	
<li>13.30: <a href="#pg-9ffa02d53bdcaa6edd71e88a9c97bd0f">22a. Feb.G Review</a></li>


    
  
    
    
	
<li>13.31: <a href="#pg-cc20c5c77daf3b418734250468745452">22a. Hangman Project</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>13.31.1: <a href="#pg-31a31760ffb95519d5b7d36c372c968d">22a. Hangman Outline</a></li>


    
  
    
    
	
<li>13.31.2: <a href="#pg-4543b40d6f82ae8c0e4f1eee7207f0f0">22a. Hangman Images</a></li>


    
  
    
    
	
<li>13.31.3: <a href="#pg-57b442fdeb47f62381e484ee16fff9ba">22a. Hangman Key Handler</a></li>


    
  
    
    
	
<li>13.31.4: <a href="#pg-f638b06eaf675d63f68ec47c5b2cfcdd">22a. Hangman DH Warmup</a></li>


    
  
    
    
	
<li>13.31.5: <a href="#pg-0b64b15134f0d48734136a51b87adcca">22a. Hangman Draw Handler</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>14: <a href="#pg-642d39560360a59fa877c274f66dea7f">22b. Lists</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>14.1: <a href="#pg-59061b5c464d514e077e9bdf7eed05c1">22. List Intro</a></li>


    
  
    
    
	
<li>14.2: <a href="#pg-9c2dd6a91d2f05bac4246a1e2154017c">22b. List Exercises 1</a></li>


    
  
    
    
	
<li>14.3: <a href="#pg-187196e1a1e965a5030ba57c69bd3fd2">22b. List Exercises 1.5</a></li>


    
  
    
    
	
<li>14.4: <a href="#pg-681f97f121c3ff544b1819dd415a7874">22b. List Exercises 2</a></li>


    
  
    
    
	
<li>14.5: <a href="#pg-4abe293a4367042f48847fffe3579d8e">22b. Bubble Wrap</a></li>


    
  
    
    
	
<li>14.6: <a href="#pg-7cfc22dbe9a841c6e6e0da910b5f2ccd">Bubble Review</a></li>


    
  
    
    
	
<li>14.7: <a href="#pg-ae726727d42b8dba4417b37e1f742ddf">22b. List Exercises 3</a></li>


    
  
    
    
	
<li>14.8: <a href="#pg-78a2eb0bbbd3db57715db39a4aacfd66">22b. List Exercises 4</a></li>


    
  
    
    
	
<li>14.9: <a href="#pg-7f4c0188acce5333d15fa0d4d336182f">22. Additional Resources</a></li>


    
  
    
    
	
<li>14.10: <a href="#pg-e13078157c5daa76f18a31ef4d724280">Parcels</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>14.10.1: <a href="#pg-a77561ee42b7ae03d0090f35368451da">Grid</a></li>


    
  
    
    
	
<li>14.10.2: <a href="#pg-78ae3a444f04f2b11f85173fdec32821">Distances</a></li>


    
  
    
    
	
<li>14.10.3: <a href="#pg-7387a5d109a4f3922f6eaf9f8fdd97e0">Coloring</a></li>


    
  
    
    
	
<li>14.10.4: <a href="#pg-7e34b7b1a6e17b0abc3ee7f84bda85e7">Animation</a></li>


    
  

    </ul>
    
  
    
    
	
<li>14.11: <a href="#pg-ca26e2737162c16fb6828092a1bd7552">Parcels</a></li>


    
  

    </ul>
    
  
    
    
	
<li>15: <a href="#pg-d843816572d08b580a0971e246b65d4e">24. Universe</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>15.1: <a href="#pg-396e6e1b872832717e788534a9cce8d9">Universe Overview</a></li>


    
  
    
    
	
<li>15.2: <a href="#pg-a669b9e28be3854b19ce06e8f0bc1988">U Walkthrough</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>15.2.1: <a href="#pg-acdc86c26651d0375fa261ed195a3ef0">Description</a></li>


    
  
    
    
	
<li>15.2.2: <a href="#pg-35a822662ebe8de4fb490c1fe3f6a767">01 Model</a></li>


    
  
    
    
	
<li>15.2.3: <a href="#pg-76d71848752fc6c776c1a3f2ed4abf4a">02 Message</a></li>


    
  
    
    
	
<li>15.2.4: <a href="#pg-cbb248449af9985f8061a8651edd333f">03 Checkpoint</a></li>


    
  
    
    
	
<li>15.2.5: <a href="#pg-78f10dcafa4ec0c1f12c1a842df37356">04 Draw-H</a></li>


    
  
    
    
	
<li>15.2.6: <a href="#pg-1c01078e2cd0e4177e3816006dc1bf66">05 Receive H</a></li>


    
  
    
    
	
<li>15.2.7: <a href="#pg-4a6d2476f676652f49389e88a2ebcefa">06 Key H</a></li>


    
  
    
    
	
<li>15.2.8: <a href="#pg-c5890fed992b8ed01878e84c8e4f6754">07 Big Bang</a></li>


    
  
    
    
	
<li>15.2.9: <a href="#pg-95dcd153344d1c0e6b6acafa6e8641e1">08 Server</a></li>


    
  
    
    
	
<li>15.2.10: <a href="#pg-b1dad60896aaf76189f5d8b59b4d73dc">09 Enhance</a></li>


    
  

    </ul>
    
  
    
    
	
<li>15.3: <a href="#pg-40efabd8f5f7267cf70e8573f7eaa5af">Money on the Table</a></li>


    
  
    
    
	
<li>15.4: <a href="#pg-c683d4f39c7c6a00a1635c2a55d07b08">Universe Mini Projects</a></li>


    
  
    
    
	
<li>15.5: <a href="#pg-3a6bf5e2e7a7e255460ff0cf17656552">Universe Color</a></li>


    
  
    
    
	
<li>15.6: <a href="#pg-5baf9d8b418ff4f05de17166fcc58ebb">Universe Taking Turns</a></li>


    
  
    
    
	
<li>15.7: <a href="#pg-a9557578e7351e55b5f19686a83bbc32">Universe Quiz 4</a></li>


    
  
    
    
	
<li>15.8: <a href="#pg-f6b21e587cec8b42bab52a8c798b6fdb">Universe Slapjack</a></li>


    
  
    
    
	
<li>15.9: <a href="#pg-53ca0eb4554e503c96a5d650af74a23c">Universe Paint</a></li>


    
  
    
    
	
<li>15.10: <a href="#pg-757693a7b7c56bedac928cdf040a09f6">Gray Rectangles</a></li>


    
  
    
    
	
<li>15.11: <a href="#pg-f2d511ba52331054f45f3765ab86d818">Universe Resources</a></li>


    
  
    
    
	
<li>15.12: <a href="#pg-9f603cc279570ad21089b04367512d69">Universe Mistakes</a></li>


    
  

    </ul>
    
  
    
    
	
<li>16: <a href="#pg-c054c92f48c0cf7fd0175abfe91bd9cd">Projects</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>16.1: <a href="#pg-e1b8ece92651357c8aab878f45d9ca04">Battleship</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>16.1.1: <a href="#pg-e417e1576a9cdf76f6fd25fd796c84a3">Battleship Model</a></li>


    
  
    
    
	
<li>16.1.2: <a href="#pg-fbf7a5f50b9a32f57c86fdb74ce092f4">Battleship Examples</a></li>


    
  
    
    
	
<li>16.1.3: <a href="#pg-80817c971f05e4bdb36fdbe2185dea85">Battleship Outline</a></li>


    
  
    
    
	
<li>16.1.4: <a href="#pg-e8dbd0fde048eb472388002c6c7a5e84">Battleship Checks</a></li>


    
  
    
    
	
<li>16.1.5: <a href="#pg-717e51c204d39880ed36cd4af2da140b">Battleship Action</a></li>


    
  

    </ul>
    
  
    
    
	
<li>16.2: <a href="#pg-43bf5ff72413ae1c1c43625d66b3bc9e">Snake</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>16.2.1: <a href="#pg-100ec0a6cd961c62621db0b98a4d8a57">Snake Intro</a></li>


    
  
    
    
	
<li>16.2.2: <a href="#pg-e454e4c20413bebf24562beeaf13e77a">Snake Functions</a></li>


    
  
    
    
	
<li>16.2.3: <a href="#pg-5242548c638271352915b3ac84470bdc">Snake Multiplayer</a></li>


    
  
    
    
	
<li>16.2.4: <a href="#pg-f2e250f1ba2556c8fd7712ca1e397d4b">Snake AI</a></li>


    
  

    </ul>
    
  
    
    
	
<li>16.3: <a href="#pg-398f5d0346c54df81601ae7f700333d5">Reversi</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>16.3.1: <a href="#pg-38d878eb708d45c292d48751470f1d59">Reversi Overview</a></li>


    
  
    
    
	
<li>16.3.2: <a href="#pg-6dd679a15eed9667c5965c931a1e342f">Reversi Structs</a></li>


    
  
    
    
	
<li>16.3.3: <a href="#pg-72c727d36443e05478dd293a759f46a8">Reversi Placement</a></li>


    
  
    
    
	
<li>16.3.4: <a href="#pg-a557b182fec08f01faa268f2988a3d50">Reversi Indicator</a></li>


    
  
    
    
	
<li>16.3.5: <a href="#pg-7c439ba049b3aaf74830406517deee80">Reversi Ray</a></li>


    
  
    
    
	
<li>16.3.6: <a href="#pg-685e2134fd125decc99ae0983a7ffb96">Reversi Board</a></li>


    
  
    
    
	
<li>16.3.7: <a href="#pg-3b2ddceea20c2a733b6ab670c4d22e7a">Reversi Flip Plan</a></li>


    
  
    
    
	
<li>16.3.8: <a href="#pg-d986bc6b4d613dab5dc4db413a68e2c3">Reversi Count Flips</a></li>


    
  
    
    
	
<li>16.3.9: <a href="#pg-3c61f27fd43e8278ee26acb2513e564f">Reversi Stack</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>17: <a href="#pg-4af2b0ec09999c43ba7ebe8aeb77fddb">Sem.II Review</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>17.1: <a href="#pg-fa1bec56a1d591615f5281b23b34e93e">2020 Sem.II Final</a></li>


    
  
    
    
	
<li>17.2: <a href="#pg-afa7599b11de21b2d5e2eeed78437093">2022 Review 1</a></li>


    
  
    
    
	
<li>17.3: <a href="#pg-56c2f960ce7d24117aeb32fbe310b9ad">2022 Review 2</a></li>


    
  
    
    
	
<li>17.4: <a href="#pg-ff7ad332d7774e4897386a9abf008a41">2022 Review 3</a></li>


    
  
    
    
	
<li>17.5: <a href="#pg-ac1a36dcc6088e5b0b605dcaf49d5992">2022 Review 4</a></li>


    
  
    
    
	
<li>17.6: <a href="#pg-96a3ff491cc523cb297c466f661a5729">2022 Review 5</a></li>


    
  

    </ul>
    
  
    
    
	
<li>18: <a href="#pg-1d242f2465a06d53315afa61f82df49b">Typed Racket</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>18.1: <a href="#pg-2288813b463ff61d9daccd347fb5d237">Typed Intro</a></li>


    
  
    
    
	
<li>18.2: <a href="#pg-888b55853e8e49c17cb05259fd57ae55">Typed Variables and Functions</a></li>


    
  
    
    
	
<li>18.3: <a href="#pg-6177adb93be34e17cde6f9b3d3e7817b">Typed Structures</a></li>


    
  
    
    
	
<li>18.4: <a href="#pg-5220bf9263cd2ea13b2d492737fd33d7">Typed Big Bang</a></li>


    
  
    
    
	
<li>18.5: <a href="#pg-47846b3542800ea97ccf5b9ae4b61b0b">Typed Exercises 1</a></li>


    
  
    
    
	
<li>18.6: <a href="#pg-a61bd0c8fdedc34c039564f2e5079af8">Typed Exercises 2</a></li>


    
  
    
    
	
<li>18.7: <a href="#pg-bba91e529baf49fd4749fe443cce6b07">Typed Exercises 3</a></li>


    
  
    
    
	
<li>18.8: <a href="#pg-0856288b52610edac5709488b73cc04d">Bumper Cars</a></li>


    
  
    
    
	
<li>18.9: <a href="#pg-028755577803b1e43e5617884c5014d8">Bumper Two Player</a></li>


    
  
    
    
	
<li>18.10: <a href="#pg-407f85ffc54e7be43020f700c96676d1">Checkers</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>18.10.1: <a href="#pg-646d881889413937fefccbdb7316004b">Checkers Outline</a></li>


    
  
    
    
	
<li>18.10.2: <a href="#pg-4ad415304eca8abb8a2d263361fac9b5">Checkers Model</a></li>


    
  
    
    
	
<li>18.10.3: <a href="#pg-c0d236169e81fd1cb8ae287cdfdc69de">Checkers Legal Moves</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>19: <a href="#pg-a3861a79dace27996b423f78d96d62cc">Resources</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>19.1: <a href="#pg-2bc58bd4312742294d4e8f76cc4ab5ab">Why Racket?</a></li>


    
  
    
    
	
<li>19.2: <a href="#pg-0d182456df17b3b8c9693d06fa645084">Online Resources</a></li>


    
  
    
    
	
<li>19.3: <a href="#pg-e65dd2779ee30572edb18849774a99c4">WeScheme</a></li>


    
  
    
    
	
<li>19.4: <a href="#pg-52056ee4392651fcd62d03a4d963900d"></a></li>


    
  
    
    
	
<li>19.5: <a href="#pg-0f52b2fb30e28815ecc9974a155a5b1a"></a></li>


    
  

    </ul>
    
  
    
    
	
<li>20: <a href="#pg-f3caad2ae6b9e66cd2b1c9ebbee88bd8">Pro Features</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>20.1: <a href="#pg-5261d7a3f863322039b61f6cae26ed53">Strings for Experts</a></li>


    
  
    
    
	
<li>20.2: <a href="#pg-ab524830dd139661d4fd9db08ce06e34">Build Image</a></li>


    
  
    
    
	
<li>20.3: <a href="#pg-ac86bfdd672161ce3e957deb190419a4">Advanced Structures</a></li>


    
  
    
    
	
<li>20.4: <a href="#pg-9312861537a8418bd9efcdb42ee8b776">Match</a></li>


    
  
    
    
	
<li>20.5: <a href="#pg-ee17784e979e9fe5593b77ea1f8bff8d">For</a></li>


    
  

    </ul>
    
  
    
    
	
<li>21: <a href="#pg-9adc1a7eb4eaca8f92329e1e1f344c8b">Online Help</a></li>


    
  

    </ul>


<div class="content">
      <h2 id="overview">Overview</h2>
<p>Intermediate Computer Science uses the
<a href="https://racket-lang.org">DrRacket</a> environment and the <a href="http://PicturingPrograms.com">Picturing
Programs</a> textbook. Use
<a href="https://www.wescheme.org">WeScheme</a> if you cannot install programs, but
read the <a href="/teaching--2021-2022/intermediate-cs/resources/ics-wescheme-note/">notes on WeScheme</a> because it is different in some
ways.</p>
<p>Eventually you will want to understand <a href="/teaching--2021-2022/intermediate-cs/resources/why-racket/">why we learn
Racket</a> instead of a more popular
language like Python.</p>
<h2 id="extra-info-online-course">Extra Info: Online Course</h2>
<p>The <a href="/teaching--2021-2022/intermediate-cs/e-courses/">Racket MOOC</a> is a good place to look if you want more detail.</p>
<!-- Cannot get this image to display inline looking good with the -->
<!-- styles from docdock.
img
src='/intermediate-cs/e-courses/edX.png' height='16px' 
style='display:inline;' / -->

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-523fdcee2894451d77d8584f8943b969">1 - 1. Introduction</h1>
    
	<p>Learn the essentials of image manipulation: rotating, flipping, and combining images.</p>
<!--This should be first in the list!! Need to solve that problem.-->
<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch01/ch01b-review/" >HW 01 B</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch01/ch01c/" >HW 01 C</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch01/ch01quiza/" >Ch01.QuizA</a></li>
</span></p>
</ul>
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-239f5c86c0996ca813df7689a4efdaf8">1.1 - HW 01 B</h1>
    <div class="lead">Two images of designs to practice making in Racket.</div>
	<h2 id="opener">Opener</h2>
<p><img src="hw01b-rot.jpg" alt="Short image-making openers" title="Homework 1 B opener"></p>
<h2 id="practice">Practice</h2>
<p>You may omit the border lines.</p>
<p><img src="ch01-review-small.jpg" alt="Two designs to make" title="Chapter 1 Review"></p>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8abf81d9cc361f6e6f356e5526ad9086">1.2 - HW 01 C</h1>
    
	<p>Opener: Write the result of the third &ldquo;step&rdquo;, as seen in the Stepper.</p>
<pre><code>(+ (+ 1 5)
   (* 8 (+ 2 3))
   (* 7 2))
</code></pre>
<p>Class/homework:</p>
<p>Make the two images below. For the third question, use the Stepper and
find which steps (what numbers) give negative results.</p>
<p><img src="hw1c-small.jpg" alt="Designs to make" title="Chapter 1 HW C">
<a href="hw1c.jpg">(Big image)</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a1236a2086af755f12047dd52e29c4ca">1.3 - Ch01.QuizA</h1>
    
	<h2 id="base-images">Base images</h2>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch01/ch01quiza/w.png"/> 
</figure>
<p><img src="bird.png" alt="Bird" title="Bird">
<img src="sparkle.png" alt="Sparkle" title="Sparkle">
<img src="wallpaper-small.png" alt="Background" title="Rocky Mountain National Park"></p>
<h2 id="make-these-images">Make these images</h2>
<p>You do not need to include the box or the title.</p>
<ol>
<li>
<p>Image one. (<a href="goal-1.png">Large version</a>.)







<div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 210px">
	<img class="card-img-top" src="/teaching--2021-2022/intermediate-cs/ch01/ch01quiza/goal-1_hu479cfab31d60dd781c359c66a92a1edc_9656_200x0_resize_catmullrom_3.png" width="200" height="144">
	
	<div class="card-body px-0 pt-2 pb-0">
		<p class="card-text">
Four cursive letter Ws.
</p>
	</div>
	
</div></p>
</li>
<li>
<p>Image two: note repeated mountain theme. (<a href="goal-2.png">Large version</a>.)







<div class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 260px">
	<img class="card-img-top" src="/teaching--2021-2022/intermediate-cs/ch01/ch01quiza/goal-2_hu89cd8059c6a76090c2108b29d90ba762_308982_250x0_resize_catmullrom_3.png" width="250" height="600">
	
	<div class="card-body px-0 pt-2 pb-0">
		<p class="card-text">
Mountain, bird, and necklace.
</p>
	</div>
	
</div></p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8cfc75a1a81461299fc71d72f958cce6">2 - 3. Images</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-9664b967d706e3b10e980aa444e8ffbd">2.1 - Exercises</h1>
    
	<ul>
<li>
<p><a href="https://drive.google.com/open?id=1LpEhhP8PbjzrJ3VJJsX2lpgzBqu64YBELHLWuZx69qs">Additional
Exercises</a></p>
</li>
<li>
<p><a href="https://drive.google.com/open?id=1NBaniy4YxL_wXuM194b_bXYaXvKUZYUK5nfpzjx_aEc">Even More Additional
Exercises</a></p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b1fe94d43cf507fcacdb668ad09e0a2f">2.2 - Tangrams</h1>
    
	<p>If you are unfamiliar with <a href="https://en.wikipedia.org/wiki/Tangram">tangrams</a>, read a bit about them.</p>
<h2 id="goal">Goal</h2>
<p>Without using coordinates (that is, just beside, above, overlay, and their
align variants), create the eagle below. Match shapes; the colors do
not matter. In order to get both the tail
and the feet on, expect to need <em>one</em> coordinate-using function (e.g.,
place-image or overlay/xy).</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch03/tangrams/aguila.jpg"
         alt="Tangram Eagle" width="400"/> 
</figure>
<h2 id="shape-images">Shape Images</h2>
<p>Use the full-size versions (see Attachments) of the images below. The
<a href="tangram-pieces.rkt">Racket starter code</a> creates variables A through G holding these
shapes (without the letters).</p>
<p>Save the linked file and open it in DrRacket to get the starter code.</p>
<p>If you are using WeScheme, you can load them directly from the
Attachments links using <code>bitmap/url</code>.</p>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Attachments</h4>

     <section class="article">
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/ch03/tangrams/files/A.png">A.png</a>
(3 kB)
</li>
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/ch03/tangrams/files/B.png">B.png</a>
(3 kB)
</li>
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/ch03/tangrams/files/C.png">C.png</a>
(3 kB)
</li>
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/ch03/tangrams/files/D.png">D.png</a>
(2 kB)
</li>
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/ch03/tangrams/files/E.png">E.png</a>
(2 kB)
</li>
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/ch03/tangrams/files/F.png">F.png</a>
(1 kB)
</li>
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/ch03/tangrams/files/G.png">G.png</a>
(3 kB)
</li>
</section>


</div>

<table>
<thead>
<tr>
<th>Shapes</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td><img src="files/A.png" width="75" ></td>
<td>B</td>
<td><img src="files/B.png" width="75" ></td>
<td>C</td>
<td><img src="files/C.png" width="75" ></td>
<td>D</td>
<td><img src="files/D.png" width="75" ></td>
</tr>
<tr>
<td>E</td>
<td><img src="files/E.png" width="75" ></td>
<td>F</td>
<td><img src="files/F.png" width="75" ></td>
<td>G</td>
<td><img src="files/G.png" width="75" ></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-73ff074edda682779e57e82ad8c8953c">2.3 - Art Project</h1>
    
	<p><strong>Deadline</strong>: Turn in by Monday, September 27.</p>
<p><strong>Produce</strong>: One complex piece of art per person.</p>
<p><strong>Goal</strong>: Art projects should demonstrate a range of functions from the
chapter, try to use 3-4 from each category in your whole project.</p>
<ul>
<li>
<p>Methods of placement: beside, above, overlay, place-image, as well as
the &ldquo;<code>/align</code>&rdquo; variations. (Use the variations!)</p>
</li>
<li>
<p>Changing pictures: crop, scale, rotate.</p>
</li>
<li>
<p>Shapes: triangles (many!), lots more listed at the end of Chapter 3 (PDF
pages 60&ndash;61).</p>
</li>
<li>
<p>Colors: <code>color-database</code>, <code>make-color</code> from the internet, <code>colorize</code>
or <code>name-&gt;color</code>.</p>
</li>
</ul>
<p><strong>Remember</strong>: This is a short project. <em>I expect you will spend no more than
three hours on it</em>, including time working in class Monday and Tuesday.</p>
<p>It is OK to simplify and focus on using the goal functions (see
above).</p>
<h2 id="steps">Steps</h2>
<ol>
<li>Find one inspiration piece of art.</li>
<li>Have idea approved before the first class ends.</li>
<li>Complete by working in class Friday and Monday, and possibly some
time at home over the weekend.</li>
</ol>
<h2 id="choice-1-drrackets-take-on-moma">Choice 1: DrRacket&rsquo;s take on MoMA</h2>
<p>Choose a piece of art for inspiration.</p>
<ul>
<li>School appropriate.</li>
<li>No duplicates with anyone you know in any class.</li>
<li>MoMA archive:
<ul>
<li><a href="https://archive.org/details/metropolitanmuseumofart-gallery?subject=Metropolitan&amp;sort=&amp;&amp;and%5B%5D=subject%3A%22Japan%22&amp;and%5B%5D=textile">Textiles from Japan</a> - which could have <a href="https://archive.org/details/mma_textile_68020">floral
patterns</a> or <a href="https://archive.org/details/mma_textile_68078">numbers from the cataloging process</a></li>
<li><a href="https://archive.org/details/metropolitanmuseumofart-gallery?subject=Metropolitan&amp;sort=&amp;&amp;and%5B%5D=subject%3A%22Islamic%22">Islamic art</a> &mdash; <a href="https://archive.org/details/mma_panel_445109">like this</a></li>
</ul>
</li>
</ul>
<h2 id="choice-2-picture-puzzles">Choice #2: Picture Puzzles</h2>
<p>Goal: create two pictures that are challenging or interesting to
recreate once they are finished. If you can get someone to say, &ldquo;How
did you do that?&rdquo;, your puzzle is a success.</p>
<p>Possible sources:</p>
<ul>
<li><a href="https://duckduckgo.com/?q=geometry+puzzles&amp;t=h_&amp;iax=1&amp;ia=images">Geometry puzzles</a></li>
<li><a href="https://duckduckgo.com/?q=triangle+puzzles&amp;t=h_&amp;iar=images&amp;iax=1&amp;ia=images">Triangle puzzles</a></li>
<li><a href="https://duckduckgo.com/?q=mondrian+art&amp;t=h_&amp;iar=images&amp;iax=1&amp;ia=images">Mondrian</a></li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-10bd17b08a4ebbcbf705b8b707b3f4f3">3 - 6. Animations I</h1>
    <div class="lead">Big-bang for animations. Essential information and walkthroughs.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-4a30ff2d3344ecf1846b769a06cd6285">3.1 - Animations Summary</h1>
    <div class="lead">A quick list of essential information for making animations.</div>
	<p>This is a summary, not an introduction. It has a digest of all of the
information you will want later.</p>
<h2 id="essentials">Essentials</h2>
<p>These essentials are on page 100 (PDF page 111) or page 138 (PDF page
149). <strong>There is a detailed checklist on page 105 (PDF page 116)</strong>. Use it!
You should memorize them.</p>
<ul>
<li>
<p><code>model</code>: What the computer remembers.</p>
</li>
<li>
<p><code>draw-handler: model -&gt; image</code>: Draw the model on the screen; adds non-moving parts to the image. (<code>on-draw</code>)</p>
</li>
<li>
<p><code>tick-handler: model -&gt; model</code>: Update the model as time passes. (<code>on-tick</code>)</p>
</li>
<li>
<p><code>key-handler: model key -&gt; model</code>: Update the model when a key is hit. (<code>on-key</code>)</p>
</li>
<li>
<p><code>mouse-handler: model x y event -&gt; model</code>: Update the model when the
mouse is moved or clicked. The inputs x and y are numbers, the event is a string. (<code>on-mouse</code>)</p>
</li>
</ul>
<h2 id="design-process">Design Process</h2>
<p>When designing every function, these are the steps you should follow:</p>
<ol>
<li>Signature</li>
<li>Purpose</li>
<li>Example</li>
<li>Function &mdash; write it</li>
<li>Test &mdash; check-expect</li>
</ol>
<p>Reference: page 70 (PDF page 81) has a longer version of the same list.</p>
<h2 id="faq">F.A.Q.</h2>
<ul>
<li>
<p>Q: Why do you write &ldquo;model&rdquo; when the model is just an image?</p>
<p>A: Next chapter our models will be numbers, and soon after that our models
will be sentences. If you memorize &ldquo;model&rdquo; as the type, you don&rsquo;t need to memorize a new signature every chapter.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2b336be80e0e601a2757ebb3eaa001d7">3.2 - Animations Intro Slides</h1>
    <div class="lead">The basics of big-bang: on-tick, on-draw.</div>
	<h1 id="intro-to-animation">Intro to Animation</h1>
<hr>
<h1 id="opener">Opener</h1>
<p>Write two functions:</p>
<ul>
<li>
<p><code>rotator: image -&gt; image</code> that turns the image 10 degrees.</p>
</li>
<li>
<p><code>middle-placer: image -&gt; image</code> that places the given
image in the center of a yellow circle of radius 200.</p>
</li>
</ul>
<hr>
<h1 id="animation-code">Animation Code</h1>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">starter</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;purple&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">delay-time</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#000">starter</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-tick</span> <span style="color:#000">rotator</span> <span style="color:#000">delay-time</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-draw</span> <span style="color:#000">middle-placer</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><hr>
<h1 id="animation-vocabulary">Animation Vocabulary</h1>
<ul>
<li>
<p>model: the part that changes</p>
</li>
<li>
<p>on-tick: model -&gt; model</p>
<p>Moves to next time.</p>
</li>
<li>
<p>on-draw: model -&gt; image</p>
<p>Shows the result. Draw things that do not move here.</p>
</li>
</ul>
<hr>
<h1 id="paper-exercise-i">Paper Exercise I</h1>
<ul>
<li>
<p>A shape is shown on a yellow circle of radius 200.</p>
</li>
<li>
<p>The shape grows 25% larger every tick, but the circle does not.</p>
</li>
</ul>
<ol>
<li>
<p>Write a tick handler.</p>
</li>
<li>
<p>Write the big-bang.</p>
</li>
</ol>
<hr>
<h1 id="paper-exercise-ii">Paper Exercise II</h1>
<ul>
<li>
<p>A shape starts in the center of a circle.</p>
</li>
<li>
<p>The shape moves to the right 10 pixels every tick.</p>
</li>
</ul>
<h2 id="write-the-tick-handler">Write the tick handler</h2>
<hr>
<h1 id="class-work">Class work</h1>
<p>Exercises 6.4.2 and 6.4.3 (pdf page 106)</p>
<p>Bonus: 6.4.4</p>
<h1 id="homework">Homework</h1>
<p>Read Section 6.3 (beginner mistakes)</p>
<hr>
<h1 id="animation-more-vocab">Animation more vocab</h1>
<ul>
<li>
<p>on-key: model key -&gt; model</p>
</li>
<li>
<p>on-mouse: model number(x) number(y) event -&gt; model</p>
</li>
</ul>
<hr>
<p>You found <a href="animation-day1.rkt">the code!</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8bf9d2f34f5f4ed14cfe099d6eeebeb6">3.3 - Animations Outline</h1>
    <div class="lead">Step by step, how to make a basic animation.</div>
	<h1 id="all-steps">All Steps</h1>
<ol>
<li>Model</li>
<li>Draw handler</li>
<li>Tick handler</li>
<li>Key handler?</li>
<li>Mouse handler?</li>
</ol>
<hr>
<h1 id="1-decide-model">1. Decide model</h1>
<ul>
<li>
<p>What will the computer remember in order to draw a scene?</p>
<ul>
<li>
<p>the moving parts</p>
</li>
<li>
<p>image or number (usually)</p>
</li>
</ul>
</li>
<li>
<p>Write down type of model: image, number, string.</p>
</li>
<li>
<p>Make an example (used in later testing).</p>
</li>
</ul>
<hr>
<h1 id="2-draw-handler">2. Draw handler</h1>
<ul>
<li>
<p>How will you draw the model on the screen?</p>
<ul>
<li>
<p>non-moving parts go here</p>
</li>
<li>
<p>place image in appropriate spots</p>
</li>
</ul>
</li>
<li>
<p>Write and test this function!</p>
</li>
</ul>
<hr>
<h1 id="3-tick-handler">3. Tick handler</h1>
<ul>
<li>
<p>How will the model change from second to second?</p>
<ul>
<li>in comes old model</li>
<li>out goes new model</li>
</ul>
</li>
<li>
<p>Write function and test a single step first!</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ba46521b5e5fee598e6ab7a0276b4557">3.4 - Animations Key, Mouse</h1>
    <div class="lead">Learning mouse and key handler.</div>
	<h1 id="grow-with-key">Grow with Key</h1>
<p>Stretch 10% larger when a key is hit.</p>
<ul>
<li>Write function</li>
<li>Signature?</li>
</ul>
<p>Just wider not taller?</p>
<hr>
<h1 id="mouse-date">Mouse Date</h1>
<p>Show picture of calendar at mouse location.</p>
<hr>
<h1 id="mouse-line">Mouse Line</h1>
<p>Calendar position:</p>
<ul>
<li>on line y=x</li>
<li>matches mouse vertical position</li>
</ul>
<hr>
<h1 id="thrice-same">Thrice Same</h1>
<p>Same image appears 3x, horizontally.</p>
<p>How?</p>
<hr>
<h1 id="shake-and-move">Shake and Move</h1>
<ul>
<li>Move 5 pixels down when mouse is moved.</li>
<li>Enlarge 6% every second.</li>
<li>Move 10 pixels up when a key is hit.</li>
</ul>
<hr>
<h1 id="homework">Homework</h1>
<ul>
<li>6.7.2</li>
<li>6.7.3</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b79211c233efdd0f2f93e582ad9f87e3">3.5 - Animation Examples</h1>
    
	<p>Here is a complete example (<a href="full-animation-example.rkt">raw Racket code available</a>) that
shows how to:</p>
<ul>
<li>move an image down every tick</li>
<li>draw three copies of the image in a row</li>
<li>make the image get larger when you hit a key</li>
<li>make the image get smaller when you move the mouse</li>
</ul>
<h2 id="big-bang">Big bang</h2>
<p>The big bang goes last in the Racket file, but it is first here so you can see
how everything comes together.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#000">original-model</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-tick</span> <span style="color:#000">move-down</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-draw</span> <span style="color:#000">three-copies</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-key</span> <span style="color:#000">reset</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-mouse</span> <span style="color:#000">shrink</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="tick-handler">Tick handler</h2>
<p>Move the image down by inserting an invisible rectangle above it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">move-down</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">above</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;white&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>           <span style="color:#000">model</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="draw-handler">Draw handler</h2>
<p>Draw three copies of the same thing in a row. (Use this trick for the tires of your car!)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">three-copies</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay/align</span> <span style="color:#4e9a06">&#34;middle&#34;</span> <span style="color:#4e9a06">&#34;top&#34;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">beside</span> <span style="color:#000">model</span>
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#0000cf;font-weight:bold">75</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;white&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>           <span style="color:#000">model</span>
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#0000cf;font-weight:bold">75</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;white&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>           <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">empty-scene</span> <span style="color:#0000cf;font-weight:bold">500</span> <span style="color:#0000cf;font-weight:bold">400</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="key-handler">Key handler</h2>
<p>Always return the original model, no matter what. This resets the animation.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">original-model</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">square</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;purple&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">reset</span> <span style="color:#000">model</span> <span style="color:#000">key</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">original-model</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h2 id="mouse-handler">Mouse handler</h2>
<p>Shrink the model by 1% any time the mouse is moved.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">shrink</span> <span style="color:#000">model</span> <span style="color:#000">x</span> <span style="color:#000">y</span> <span style="color:#000">event</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">scale</span> <span style="color:#0000cf;font-weight:bold">0.99</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-285ab82bfab6cffb7543e1e1141536d9">3.6 - Animation Portfolio I</h1>
    
	<ol>
<li>Purple square that moves up when you hit any key.</li>
<li>Throwing star that spins and maybe moves across the screen as time passes.</li>
<li>Sunset with a horizon: sun moves down and goes behind some
(non-white) horizon.</li>
</ol>
<!-- 4. Car with two wheels that spin when you move the mouse. -->
<h2 id="advanced">Advanced</h2>
<p>Learn how to use <code>cond</code> and make a car that drives back and forth
across the screen.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">model</span> <span style="color:#0000cf;font-weight:bold">75</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;</span> <span style="color:#000">model</span> <span style="color:#0000cf;font-weight:bold">300</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#000">model</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;transparent&#34;</span><span style="color:#000;font-weight:bold">)]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#0000cf;font-weight:bold">600</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;transparent&#34;</span><span style="color:#000;font-weight:bold">)])</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-20c5ea6a6c3d480b4e1cd064776c33a8">3.7 - Animation Portfolio II</h1>
    
	<ol>
<li>
<p>An arrow flies across the screen and stops with the head of the
arrow buried in the target (but the fletching still visible).</p>
</li>
<li>
<p>(Fan.) A fan with three blades is in the off position. When you
hit a key, all of the blades get larger. Making the blades &ldquo;move&rdquo; is
an optical illusion that probably takes too much effort, but if you
want try it with the mouse motion.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cf95e8dd7b20b683044d6307a532e6d1">3.8 - Animation Project</h1>
    
	<p><strong>Deadline</strong>: Finish before Monday, October XX. Turn in Tuesday, October XX.</p>
<p><strong>Produce</strong>: One sequence of big-bang animations per group. (Groups of at most two.)</p>
<p><strong>Goal</strong>: Animation projects should demonstrate the use of draw, tick, mouse, and key handlers.</p>
<p><strong>Time</strong>: Spend approximately two hours on this project.</p>
<p>Making an animation is a way to study for Monday&rsquo;s animation
test. Think of your work as a way to study and become more familiar
with animations.</p>
<h2 id="suggestion">Suggestion</h2>
<p>We don&rsquo;t have the technical skills to make animations that work exactly like you imagine. A compromise is to break your idea into several &ldquo;scenes&rdquo;, put each scene into a big-bang, and then manually close the window each time to advance to the next big-bang.</p>
<h2 id="ideas">Ideas</h2>
<ul>
<li>House of Mirrors</li>
<li>Illusions</li>
<li>Jump Scare (one big-bang ends and another starts)</li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li>Every type of handler is used</li>
<li>Design process visible for at least one big-bang.</li>
<li>Please save all large images separately and load using <code>bitmap</code> (see note).</li>
</ul>
<h2 id="details">Details</h2>
<p>You should consider these inspirations:</p>
<ul>
<li>
<p>Drawing: placing a moving object behind another object.</p>
</li>
<li>
<p>Motion: rotate, move by adding (above), move by subtracting (crop)</p>
</li>
<li>
<p>Placing more than one moving image on a screen.</p>
<ul>
<li>place-image</li>
<li>overlay/align</li>
</ul>
</li>
</ul>
<h2 id="important-note">Important Note</h2>
<p>Save all big images separately. Put the &ldquo;bigImage.png&rdquo; file in the
same folder you have saved your Racket program. Load the picture like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">background</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap</span> <span style="color:#4e9a06">&#34;bigImage.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>Use the same method to keep transparency in images that you have found online.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0c67ce3de91e79c92011e547d0a7f7f1">3.9 - Info: Signature Story</h1>
    <div class="lead">Why do handlers have specific signatures?</div>
	<p>Racket requires functions with specific signatures for the handlers in
a big bang animation. This page motivates that with a story.</p>
<h2 id="story">Story</h2>
<p>Once upon a time, every teacher in my school required students in
their class to make &ldquo;name tents&rdquo;. This was a great idea, but every
teacher had different requirements.</p>
<ul>
<li>First period wanted your preferred first name, written large on the
name tent.</li>
<li>Second period wanted a preferred name and a last initial.</li>
<li>Third period wanted a preferred name (large), and also your grade written in the
lower right.</li>
<li>Fourth period wanted a preferred name (large), and a stripe made of
your favorite color drawn along the left side.</li>
</ul>
<p>Some students found themselves carrying around four different name
tents, each one different, to satisfy each class&rsquo;s requirements.</p>
<p>Other students thought this was ridiculous and they made one name
tent - preferred name written large, followed by last initial, grade
in the lower right corner, with a stripe of their favorite color drawn
along the left side. They used this one name tent to satisfy the
requirements of each class they attended.</p>
<h2 id="racket-connection">Racket Connection</h2>
<p>You could imagine a similar situation in the Big Bang:</p>
<ul>
<li>Mouse handler A wants no additional information, just the image
being currently shown. All it does is <code>(rotate 5 img)</code>.</li>
<li>Mouse handler B wants the image being currently shown and the
x-coordinate of the mouse. It does <code>(place-image img x 100 bg)</code>.</li>
<li>Mouse handler C wants the image being currently shown and the
y-coordinate of the mouse.</li>
<li>Mouse handler D wants the current image and the event (like
<code>&quot;button-down&quot;</code>).</li>
<li>Mouse handler E wants only the x and y coordinates of the mouse, and
no information about the past image. It does <code>(place-image pic:stick-figure x y bg)</code>.</li>
</ul>
<p>This would be possible, you could indicate in <code>big-bang</code> which kinds of information
you wanted:</p>
<pre><code>    (on-mouse:old A)
    (on-mouse:old+x B)
    (on-mouse:old+y C)
    (on-mouse:old+event D)
    (on-mouse:x+y E)
</code></pre>
<p>The developers of Racket decided that this was a ridiculous level of
detail, and instead they decided to make a rule to make their own
lives easier: your mouse handler function <strong>must</strong> take in all of the
available information: old image, x-coordinate of the mouse,
y-coordinate of the mouse, and the &ldquo;mouse-event&rdquo;. You don&rsquo;t have to
<em>use</em> any of the information, but for consistency you have to have
enough parameters to your function so there is a place to <em>put</em> each
piece of information.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6bfb1b3a9dda47ccab381933eeeb347a">3.10 - Info: Check-Expects</h1>
    <div class="lead">The importance of check-expects.</div>
	<h2 id="importance-of-checks">Importance of Checks</h2>
<p>Good check-expects give you a road map to write your
function. Check-expects should be correct based on the <em>purpose</em> of
your function, not its current behavior.</p>
<ul>
<li>A working function should
pass all of its check-expects.</li>
<li>A function that does not do
what it is supposed to do should fail some check-expect.</li>
<li>A function that sometimes gives the right answer and sometimes gives
the wrong answer should pass some check-expects but not all of them.</li>
</ul>
<p>The idea of check-expects is important because when you are working
with more complex and possibly buggy functions (later in the course),
the specification (&ldquo;check-expect&rdquo;) can be written <em>first</em>, then you
can test to see your progress in completing the goals you set
(so it is not all or nothing).</p>
<p>Five example check-expect ideas from checkers that build in complexity:</p>
<ul>
<li>is it legal to move diagonally to an empty square?</li>
<li>is it illegal to move diagonally to an occupied square?</li>
<li>is it legal to jump a single opponent&rsquo;s piece?</li>
<li>is it illegal to jump your own piece?</li>
<li>is it illegal to jump off the board?</li>
</ul>
<p>A programmer might start by allowing any move to an adjacent square,
then put in rules that the square had to be unoccupied, then allow
jumping, etc.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-33fb15cf10515bd5b4c8c78bec708d66">3.11 - big-bang 00</h1>
    <div class="lead">Why do handlers have specific signatures?</div>
	<h2 id="application-practice">Application Practice</h2>
<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<ol>
<li>
<p>You want to turn <code>pah</code> into a key handler <code>pa</code>. Write the signature
for <code>pa</code>. Write the new function <code>pa</code>.</p>
<pre><code> (define pusher-square (square 5 &quot;solid&quot; &quot;transparent&quot;))
 (define (pah x) (beside pusher-square x))
</code></pre>
</li>
<li>
<p>You need to modify the definition of your mouse handler <code>pm</code> so that it
can be run when you press a key instead of using the mouse. How do you do that?</p>
<pre><code> (define (pm img x y event) (rotate 5 img))
</code></pre>
</li>
<li>
<p>What kind of handler is the function <code>pq</code> appropriate for right
now?</p>
<pre><code> (define (pq a b c d) (crop-left a 5))
</code></pre>
</li>
<li>
<p>Convert the <code>pq</code> above to a tick handler <code>pqt</code>. Also give
the correct signature of <code>pqt</code>.</p>
</li>
<li>
<p>Use the starter code below to answer the questions.</p>
<pre><code> (define (go-right n) (+ n 5))
 (define (go-left n) (- n 5))
 (define (draw-bar n) (rectangle n 30 &quot;solid&quot; &quot;purple&quot;))
 (big-bang 100
     (on-mouse go-right)
     (on-key go-left)
     (to-draw draw-bar))
</code></pre>
<ol>
<li>What is the first &ldquo;thing&rdquo; given to the draw handler? What kind
of &ldquo;thing&rdquo; is it? (a.k.a. What is the type of the &ldquo;initial model&rdquo;?)</li>
<li>What is the signature of the mouse handler <code>go-right</code> (not the
original)?</li>
<li>What is the signature of the key handler <code>go-left</code> (not the original)?</li>
</ol>
</li>
</ol>
<!-- would it be better to use an image model for Q6? -->
<ol start="6">
<li>
<p>The animation below is supposed to be a stick figure moving to the
right in an empty scene. What is wrong with the code below? How
would you fix it?</p>
<pre><code> (define (bad-push-right n) 
   (rectangle n 0 &quot;solid&quot; &quot;orange&quot;))
 (define (bad-draw n)
   (overlay (beside (rectangle n 0 &quot;solid&quot; &quot;blue&quot;)
                    pic:stick-figure)
             (empty-scene 300 200)))
 (big-bang 50
   (on-tick bad-push-right 0.25)
   (to-draw bad-draw))
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-08fad0896193803b3cf47f4b30cb5c6c">3.12 - big-bang 01</h1>
    
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<p>Practice looking at code and making inferences about the types of
various functions.</p>
<p>The phrases &ldquo;signature&rdquo; and &ldquo;type signature&rdquo; mean the same thing.</p>
<ol>
<li>
<p>Given the example usage below, write a possible type signature for <code>d1</code>.</p>
<pre><code> (d1 pic:stick-figure 100 50) 
 =&gt; (make-color 100 50 250 255)
</code></pre>
</li>
<li>
<p>Write a possible signature for <code>d2</code>.</p>
<pre><code> (d2 120 &quot;blue&quot;)
 =&gt; (place-image pic:book 120 100 (rectangle 200 150 &quot;solid&quot; &quot;blue&quot;))
</code></pre>
</li>
<li>
<p>Write a possible signature for <code>d3</code>.</p>
<pre><code> (define arg (circle 20 &quot;solid&quot; &quot;orange&quot;))
 (overlay (d3 20 arg &quot;function d3&quot;)
          (circle 60 &quot;solid&quot; &quot;blue&quot;))
</code></pre>
</li>
<li>
<p>(a) Write the signature for <code>k1</code> given the examples below. (b) Write a
purpose for <code>k1</code>. <strong>(c) Write the code for the function <code>k1</code>.</strong></p>
<pre><code> (k1 pic:scheme-logo 200 320) =&gt; (ellipse 200 100 &quot;solid&quot; &quot;red&quot;)
 (k1 (square 74 &quot;solid&quot; &quot;orange&quot;) 350 190) =&gt; (ellipse 350 100 &quot;solid&quot; &quot;red&quot;)
</code></pre>
</li>
<li>
<p>The information about a particular animation is given below:</p>
<pre><code> (big-bang pic:bloch
     (to-draw render-in-sunset)
     (on-tick d4a 0.5)
     (on-key d4b))
</code></pre>
<ol>
<li>Just to make sure: what kind of thing (&ldquo;type&rdquo;) is <code>pic:bloch</code>?</li>
<li>What is the signature for <code>render-in-sunset</code>?</li>
<li>What the name and signature of the tick handler?</li>
<li>Give the name of the key handler and its signature.</li>
</ol>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6ffcb8518e155be2c3f54866f4b07a93">3.13 - big-bang 02</h1>
    
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<p>You should be familiar with <a href="/teaching--2021-2022/intermediate-cs/ch06/bigbang-check/">the importance of check-expects</a> before doing the exercises.</p>
<h2 id="long-leg-triangle">Long Leg Triangle</h2>
<p>The first animation code is below.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">left-mid</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay/align</span> <span style="color:#000">img</span> <span style="color:#4e9a06">&#34;left&#34;</span> <span style="color:#4e9a06">&#34;middle&#34;</span> <span style="color:#000">img</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">empty-scene</span> <span style="color:#0000cf;font-weight:bold">350</span> <span style="color:#0000cf;font-weight:bold">250</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">initial-model</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">right-triangle</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#0000cf;font-weight:bold">100</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;blue&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#000">initial-model</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-mouse</span> <span style="color:#000">...to-write...</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">to-draw</span> <span style="color:#000">left-mid</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><ol>
<li>Sketch the first image shown when the code is run. (Commit to
your best guess before testing it.)</li>
<li>What kind of &ldquo;thing&rdquo; is the initial model?</li>
</ol>
<h3 id="mouse-handler-1">Mouse Handler 1</h3>
<p>The purpose of the mouse handler <code>my-mouse</code>
is to create a triangle with width equal to the
x-coordinate of the mouse but with the y-coordinate always 100.</p>
<ol start="3">
<li>
<p>Write a check-expect showing the result when the mouse moves to the
point (150,75).</p>
<pre><code> (check-expect (my-mouse initial-model 150 75 &quot;move&quot;) ...)
</code></pre>
</li>
<li>
<p>Write another check-expect that has <em>everything</em> different from the
one above. (Every single input, and the output.)</p>
</li>
</ol>
<h3 id="mouse-handler-2">Mouse Handler 2</h3>
<p>Now we write another, different mouse handler.
The purpose of this mouse handler, <code>slide-handler</code>, is to make it seem
like there is a large off-screen triangle that you slide back and
forth onto the screen so that the tip of the triangle is at the
x-coordinate of the mouse.</p>
<ol start="5">
<li>Write a check-expect for <code>slide-handler</code>.</li>
<li>Write a totally different check-expect for <code>slide-handler</code>.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6df68663420992a0a42bd5003dcea3c7">3.14 - big-bang 03</h1>
    
	<h2 id="part-a">Part A</h2>
<p>Setup:</p>
<pre tabindex="0"><code>(define (draw-h-a c)
  (overlay (circle 100 &#34;solid&#34; c)
           (square 80 &#34;outline&#34; &#34;black&#34;)))
(big-bang (make-color 0 0 250)
  (on-draw draw-h-a 210 180) ;; little new thing?
  (on-mouse minnie-a))
</code></pre><ol>
<li>What &ldquo;kind of thing&rdquo; is the model? (Same question, restated: what
is the type of the model?)</li>
<li>What is the signature of <code>draw-h-a</code>?</li>
<li>What is the name and signature for the mouse handler?</li>
<li>Write a <code>check-expect</code> for the mouse handler that shows that when
the old model is <code>(make-color 0 0 250)</code> and you move the mouse to
coordinates (80, 130), the new model is <code>(make-color 80 255 255)</code>.</li>
<li>Make up another check-expect for the mouse handler, guessing its
purpose from the first example.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2703464eb4ae6cd64354d08a5a891097">3.15 - big-bang 04</h1>
    
	<p>Setup:</p>
<pre tabindex="0"><code>(define (short n) 
  (beside (rectangle (- n 20) 10 &#34;solid&#34; &#34;yellow&#34;)
          (square 20 &#34;solid&#34; &#34;goldenrod&#34;)))
(define initial (short 300))
(define (draw-h-4 m)
  (overlay/align &#34;right&#34; &#34;bottom&#34; 
                 m (rectangle 300 200 &#34;solid&#34; &#34;lightblue&#34;)))
(big-bang initial
  (on-draw draw-h-4)
  (on-mouse melody))
</code></pre><ol>
<li>
<p>What &ldquo;kind of thing&rdquo; is the model? (Same question, restated: what
is the type of the model?)</p>
</li>
<li>
<p>What is the signature of <code>draw-h-4</code>?</p>
</li>
<li>
<p>Make an accurate drawing of the first image shown.</p>
</li>
<li>
<p>What is the name and signature for the mouse handler?</p>
</li>
<li>
<p>Write a <code>check-expect</code> for the mouse handler that shows that when
the old model is <code>initial</code> and you move the mouse to
coordinates (30, 75), the new model is <code>demo1</code>:</p>
<pre><code> (define demo1 (above (short 280) (square 10 &quot;solid&quot; &quot;red&quot;)))
</code></pre>
</li>
<li>
<p>Write a purpose for the mouse handler. What do you think it does?</p>
</li>
<li>
<p>Make a diagram with 3 columns showing the models in the top row
(with mouse motion between them) and
the result of applying the draw handler in the second row.</p>
</li>
<li>
<p>Write a check-expect for the mouse handler, showing exactly what
happens when you move the mouse with the old model being <code>demo1</code>.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5cc479e56be4fd42c214dbb92fcee96e">3.16 - big-bang 05</h1>
    <div class="lead">Setting (and resetting) animations to a given state.</div>
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<h2 id="a">A</h2>
<pre tabindex="0"><code>(define (more n) (+ n 5))
(big-bang 25
  (on-tick more 0.2)
  (on-draw work))
</code></pre><p>You want to see an animation of a solid blue circle increasing in
radius in the center of a 400x300 black outline rectangle.</p>
<ol>
<li>
<p>What kind of model is this animation using?</p>
</li>
<li>
<p>Write code for the draw handler.</p>
</li>
<li>
<p>Moving the mouse resets the circle to its original size, radius 25.</p>
<ol>
<li>Suppose the mouse handler is called <code>cleo</code>. What is the
signature of <code>cleo</code>?</li>
<li>What line of code adds this mouse handler to the animation?</li>
<li>Write a check-expect for the mouse handler showing that when
the (old) radius is 75 and the mouse is moved to (210, 80), the
radius resets to 25.</li>
<li>Write code for mouse handler.</li>
</ol>
</li>
</ol>
<h2 id="b">B</h2>
<p>An alternate version.</p>
<pre tabindex="0"><code>(define (draw-h img) (overlay img (rectangle 400 300 &#34;solid&#34; &#34;purple&#34;)))
(define (biggr img) (scale 1.02 img))
(big-bang (circle 25 &#34;solid&#34; &#34;yellow&#34;)
  (on-tick biggr 0.2)
  (on-draw draw-h)
  (on-mouse maxie))
</code></pre><p>Again, suppose you want <code>maxie</code> to reset the circle to its
original size when called.</p>
<ol>
<li>Write the signature for <code>maxie</code>.</li>
<li>Write the code for the <code>maxie</code>.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7e058158468f2721e8aba8a8cbff75a6">3.17 - Daily Animations</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-947015c624e69e4cdadb8066e433356c">3.17.1 - 2018.10.12</h1>
    
	<p>Make an animation with two stick figures moving at the same time:</p>
<ol>
<li>One starts at the top left corner of the frame and moves right.</li>
<li>The other starts in the bottom right corner of the frame and moves
left.</li>
</ol>
<p>It is OK if the animation does not work once the figures get to the
edge(s).</p>
<p>Remember: start with one moving figure, work through the process step
by step until you have one figure moving correctly. Then add the other
figure.</p>
<h2 id="homework">Homework</h2>
<p>Exercise 6.5.5 from the book.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9ce84638c9c3034b4a2d7413c3bcefae">3.17.2 - 2018.10.11</h1>
    
	<ol>
<li>
<p>Make an animation with a shape that turns 15 degrees and grows by
20% every second. (Possibly adjust to 5 degrees and 2% every 0.3
sec once it works and you want it to look good.)</p>
</li>
<li>
<p>Make an animation where a shape starts in the upper left corner of
an outlines rectangle and moves to a position 5 pixels right and
two pixels down every 0.1 second.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b8dfe957c1258094cda31aa43a301344">3.17.3 - 2017-10-12</h1>
    
	<p>Make an animation of a dog that:</p>
<ul>
<li>
<p>gets bigger every time you hit a key (every key).</p>
</li>
<li>
<p>gets smaller when you move the mouse.</p>
</li>
</ul>
<h1 id="memorize">Memorize</h1>
<p>Memorize the steps of the design process!</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c29368cd88d7579150124151d250ac7a">3.17.4 - 2017-10-10</h1>
    
	<ul>
<li><a href="flying-rectangle.rkt">Flying purple rectangle</a></li>
</ul>
<p>Make a small rectangle centered in the middle of the bottom of a big white rectangular canvas. As time goes on the rectangle should move up.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch06/daily/2017-10-10/flying-rectangle.gif"/> 
</figure>
<ul>
<li><strong>Growing diamond</strong>. Make a diamond that sits on the right side of the page
and gets larger.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fc2acc773b04c36045ed93c512c2a06c">3.17.5 - Animation Practice</h1>
    <div class="lead">Practice writing big-bang code and identifying common errors.</div>
	<h2 id="progress-bar-1">Progress bar 1</h2>
<p>Make a solid purple bar that starts in the middle of the left side of the screen and grows to the right at a constant rate.</p>
<ol>
<li>
<p>Model</p>
</li>
<li>
<p>Draw handler</p>
</li>
<li>
<p>Tick handler</p>
</li>
</ol>
<p>Add in a feature so that the bar shrinks when you wiggle the mouse.</p>
<p>(<a href="purple-bar.rkt">Solution code</a>)</p>
<h2 id="errors-1">Errors #1</h2>
<p>What is wrong?</p>
<p>The variable <a href="http://img10.deviantart.net/cb20/i/2009/014/2/4/indoor_scene_by_thekeyofe.png">indoors</a> is an indoor picture.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">indoors</span> <span style="color:#204a87;font-weight:bold">...</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">model</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000">pic:stick-figure</span> 
</span></span><span style="display:flex;"><span>                       <span style="color:#000;font-weight:bold">(</span><span style="color:#000">empty-scene</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tick-h</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000">img</span> <span style="color:#000">indoors</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="errors-2">Errors #2</h2>
<p>What is wrong?</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">start</span> <span style="color:#000">pic:stick-figure</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">tick-h</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">beside</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">square</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;white&#34;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">start</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#000">start</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-draw</span> <span style="color:#000">show-it</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-tick</span> <span style="color:#000">tick-h</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-970e585ff3c238efa0b18548de5d0f97">3.18 - Resources</h1>
    <div class="lead">External documents for learning about big-bang.</div>
	<ul>
<li>
<p><a href="https://docs.google.com/document/d/1vlnUh2IjuwEBj-cvnqP7qww03LYGuqLto1eqbkGLV4M/edit?usp=sharing">Chapter 6 Worksheet
1</a>:
introduction and a quick reference chart.</p>
</li>
<li>
<p><a href="https://docs.google.com/document/d/16v_4PSZMPGZCNFK4cdSqEaqcWg5vZ2Ds179gZUjhsHo/edit?usp=sharing">Chapter 6 Worksheet
2</a>:
A stack of beginner animation exercises with a lot of variety.</p>
</li>
<li>
<p><a href="https://docs.google.com/document/d/1kKznW0FQOfhWTHgM_agX3B1yiD2yyoN3UKuWBqPhGKc/edit?usp=sharing">Chapter 6 Worksheet
3</a>:
Two animations and <code>check-within</code>. Read Section 7.5.3 in Picturing
Programs (book page 116).</p>
</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3a9aeb8cf82c992ced9579593cb5abd9">4 - 7. Numbers</h1>
    <div class="lead">Numerical functions, including gradients.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-14ed15cfcb1a19f3c960c04c46d4e5ac">4.1 - 7. Summary</h1>
    <div class="lead">Everything you should know from Chapter 7.</div>
	<p>The chapter is about doing math with numbers.</p>
<h2 id="essential-summary">Essential summary</h2>
<ul>
<li>Basic arithmetic</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">/</span> <span style="color:#0000cf;font-weight:bold">13</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; thirteen divided by seven</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">11</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#0000cf;font-weight:bold">9</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; nine minus one</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">quotient</span> <span style="color:#0000cf;font-weight:bold">21912</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">remainder</span> <span style="color:#0000cf;font-weight:bold">21912</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><ul>
<li>Maximum, minimum, absolute value</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">max</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">-4</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; ==&gt; 0</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">min</span> <span style="color:#0000cf;font-weight:bold">255</span> <span style="color:#0000cf;font-weight:bold">300</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; ==&gt; 255</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#0000cf;font-weight:bold">-10</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; ==&gt; 10</span>
</span></span></code></pre></div><ul>
<li>Exponents, square root, squaring:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">expt</span> <span style="color:#0000cf;font-weight:bold">1.01</span> <span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; 1.01 to the 95 power is about 2.57</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">sqrt</span> <span style="color:#0000cf;font-weight:bold">9</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; square root of 9 is three</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">sqr</span> <span style="color:#0000cf;font-weight:bold">1241</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; when you square 1241 you get 1540081</span>
</span></span></code></pre></div><ul>
<li>Inexact answers, checking with tolerance</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#204a87">&gt;</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">sqrt</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">; about 2.236</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">#i2.23606797749979</span>
</span></span></code></pre></div><p>The <code>#i</code> at the start of <code>#i2.236...</code> means that the number is an &ldquo;inexact&rdquo; decimal.
You should never use check-expect with inexact numbers, because the inexact results can be different on different computers! Instead, use <code>check-within</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-within</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">sqrt</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">2.236</span> <span style="color:#0000cf;font-weight:bold">0.001</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><ul>
<li>Special numbers: both pi is built in. Your tests should still pass if you use either the buit in value of <code>pi</code> or <code>3.1415</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#204a87">&gt;</span> <span style="color:#204a87">pi</span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">#i3.141592653589793</span>
</span></span></code></pre></div><ul>
<li>Getting rid of fractions. The best generic method to use is <code>real-&gt;int</code>. Otherwise there are specific functions that will round traditionally, round up (ceiling), and round down (floor).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">real-&gt;int</span> <span style="color:#0000cf;font-weight:bold">0.5</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">real-&gt;int</span> <span style="color:#0000cf;font-weight:bold">1.5</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">real-&gt;int</span> <span style="color:#0000cf;font-weight:bold">2.5</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">ceiling</span> <span style="color:#0000cf;font-weight:bold">1.2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">floor</span> <span style="color:#0000cf;font-weight:bold">1.7</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">round</span> <span style="color:#0000cf;font-weight:bold">1.6</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h2 id="more-important-ideas">More Important Ideas</h2>
<ul>
<li>Inexact numbers and <code>check-within</code></li>
<li><code>build3-image</code> or <code>build-image</code></li>
<li><code>map3-image</code> or <code>map-image</code></li>
<li><code>(random 5)</code> gives 0, 1, 2, 3, or 4.</li>
<li>A remainder of zero means the numerator is a multiple of the denominator.</li>
<li>How to make a gradient, changing color smoothly from pink to light blue.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7496b16c963dec085bfddab4b0f1db49">4.2 - 7. Exercises 1</h1>
    <div class="lead">Exercises.</div>
	<p>Practice the design process making each of these functions:</p>
<ul>
<li>
<p>Write a function that takes in the radius of a circle and outputs the circumference.</p>
</li>
<li>
<p>Write a function to find the cost of a cart full of g pounds of grapefruit and b pounds of bananas. The grapefruit costs $1.49/lb and the bananas cost $0.59/lb.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f5bdf567ca70ebc847dba0516fa4cf9b">4.3 - 7. Exercises 2</h1>
    <div class="lead">Exercises working with number functions.</div>
	<p>Exercises:</p>
<ol>
<li>
<p><code>hypotenuse</code>: Given the lengths of two legs of a right triangle, return the length of the third side.</p>
</li>
<li>
<p><code>slope</code>: Given the x and y coordinates of two points (x1,y1) and (x2,y2) - in that order - return the slope of the line between those points. (OK if it does not work for vertical lines.)</p>
</li>
<li>
<p><code>distance</code>: Given the x and y coordinates of two points (x1,y1) and (x2,y2), find the distance between them.</p>
</li>
<li>
<p><code>quadratic-1</code>: Given a, b, and c, find one solution to the equation <code>a x^2+b x + c = 0</code>.</p>
</li>
<li>
<p><code>quadratic-2</code>: Given a, b, and c, find the other solution to <code>a x^2+b x + c = 0</code>.</p>
</li>
<li>
<p>Make an animation with a number model. Use the number to control the current amount of rotation of the object. The tick handler makes the object spin. Moving the mouse causes the animation to spin faster. Make hitting a key reset the position to zero.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8bb25e4f65fb53c51d9b5c1b3f7bdf21">4.4 - 7. Exercises 3</h1>
    <div class="lead">More exercises writing functions.</div>
	<ol>
<li>
<p>Write a function <code>at-most-250</code> that takes in a number and puts out the same number, or 250 if the number is larger than 250.</p>
</li>
<li>
<p>Write a function <code>small-0</code> that takes in two numbers and gives out the distance to zero of the number that is closest to zero on the number line. It should work with negative numbers as well.</p>
</li>
<li>
<p>Write a function <code>stuck-50-150</code> that takes in a number x and gives out x. Except if x is below 50, give an answer of 50. Also if x is more than 150, give an answer of 150.</p>
</li>
<li>
<p><code>random-a</code>: Write a function that gives a random number between -50 and 50.</p>
</li>
<li>
<p><code>random-b</code>: Write a function that gives a random even number 0-200.</p>
</li>
<li>
<p><code>dice</code>: Write a function that gives the total from randomly rolling two six sided dice.</p>
</li>
<li>
<p><code>rstar</code>:
Write a function that makes a star with a random side length.</p>
</li>
<li>
<p><code>dstar</code>:
Write a function that makes two stars next to each other, one should
have a random side length and the other should have sides that are
twice as long. (Note: make sure to write and test your non-random
function first!)</p>
</li>
<li>
<p>Challenge: make a star with a random number of sides. For the third number, the &ldquo;step&rdquo;, try <code>(remainder 31 sides)</code>. You will want a helper function that knows the number of sides.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5c2543852f51f151317772de94006d9a">4.5 - 7. Exercises 4</h1>
    <div class="lead">Planning and testing, not writing functions.</div>
	<h2 id="planning-and-testing">Planning and Testing</h2>
<p>Write every part of the design process <strong>except</strong> the function.
Do write tests!</p>
<ul>
<li>
<p>count-factors: take a number N and find out how many numbers 1,2,&hellip;,N divide N.</p>
</li>
<li>
<p>angle-pts: take in six numbers (x1,y1) (x2,y2) (x3,y3) and give the angle in degrees made by line segments going to those three points in that order.</p>
</li>
<li>
<p>Classwork: make a point follow the graph of y = sqrt(100^2-x^2) from x=-95 to x=95
(Don&rsquo;t like math? Use the <a href="better-mathgraph.rkt">graph of the function y = 3x+50</a> on the same interval.)</p>
</li>
<li>
<p>Homework: 8.3.6 page 142 (PDF page 153). Parabola graph.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-57f1a990f68bea16c46e1459988f3b7e">4.6 - 7. Exercises 5</h1>
    <div class="lead">Helper functions, limiting values, random numbers, and the distance formula.</div>
	<h2 id="helper-functions-1">Helper functions 1</h2>
<p>Re-use functions you have already written.
This is shown a lot in the chapter (exercises 7.8-7.10, or 7.15-7.17, or 7.18-7.19).
You should also be seeing it in this worksheet.</p>
<p>Look for ways you can use these functions later.</p>
<ul>
<li>
<p>(<code>dot-on: image -&gt; image</code>): Place a radius 5 solid red circle on the
lower right corner of an image.</p>
</li>
<li>
<p>(<code>at-least-10: number -&gt; number)</code>: Take in any number, put out a
number that is at least 10.</p>
<pre><code>  (check-expect (at-least-10 75) 75)
  (check-expect (at-least-10 3) 10)       
</code></pre>
</li>
</ul>
<h2 id="limiting-values">Limiting values</h2>
<p>Restricting values to an allowable range is useful all of the
time. Learn to do it proficiently.</p>
<ul>
<li>
<p>(<code>limit</code>) Make a function called <code>limit</code> that takes in an integer and puts out
an integer between 0 and 255. Numbers below 0 should become 0, and
numbers above 255 should become 255. Otherwise the answer should be
the same as the input number.</p>
<pre><code>  (check-expect (limit -8) 0)
  (check-expect (limit 900) 255)
</code></pre>
</li>
<li>
<p>(<code>dot-leash</code>): This function takes in a number (<code>y</code>) and puts out a
radius 5 solid red circle on the lower right hand corner of a
rectangle that is 2y wide and y tall.</p>
<p>Restrictions on individual sides (these do not restrict <code>y</code>, just
the way the answer looks):</p>
<ul>
<li>
<p>the width will not grow over 300</p>
</li>
<li>
<p>the height is at most 200 and at least 10</p>
<pre><code>(check-expect (dot-leash 3) (dot-on (rectangle 6 10))
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="random-numbers">Random numbers</h2>
<ul>
<li>
<p><code>random-tenth: number(top) -&gt; number</code>. Put out a random real number
of the form <code>xy.z</code>, between 10.0 and <code>top</code>. Assume the number <code>top</code>
is at least 10.0.</p>
<p>For example, <code>(random-tenth 10.3)</code> could put out 10.0, 10.1, 10.2,
or 10.3. Since there are four possibilities, each one should be
picked about 1/4 of the time. If you run (random-tenth 10.3) a
bunch of times in the bottom window, you should see all of the
possibilities.</p>
</li>
<li>
<p><code>four-up: integer -&gt; number</code>. Round an integer up to the nearest
multiple of 4.</p>
<pre><code>  (check-expect (four-up 9) 12)
  (check-expect (four-up 99) 100)
  (check-expect (four-up 400) 400)
</code></pre>
<p>This question is a bit challenging. If you can the first two
check-expects to pass but not the last, that&rsquo;s pretty good.</p>
</li>
</ul>
<h2 id="distance-formula">Distance formula</h2>
<ul>
<li>
<p>The distance between (x0,y0) and (x1,y1) is <code>(distance x0 y0 x1 y1)</code>.
Write the distance function and two good tests to make sure it works
correctly. (This function is important, make sure you know how to do
it without thinking too hard.)</p>
<ul>
<li>One test should be when the answer is an integer.</li>
<li>Another test should be when the answer is a square root.</li>
</ul>
</li>
<li>
<p><code>make-circ: number(x) number(y) -&gt; image</code>. Produce a solid maroon
circle sized so that you
could place its center at (150,100) and the point (x,y) would be
just on the edge.</p>
<pre><code>  (make-circ 200 220) =&gt; (circle 130 &quot;solid&quot; &quot;maroon&quot;)
</code></pre>
</li>
<li>
<p><code>test-circ number(x) number(y) image(background) -&gt; image</code>. Using
the given image as the background, draw a radius 4 solid brown
circle centered at <code>(x,y)</code> and a solid maroon circle centered at
<code>(150,100)</code> with <code>(x,y)</code> just on its edge.</p>
<pre><code>  (test-circ 175 160 (empty-scene 400 200))
</code></pre>
  <figure>
      <img src="/teaching--2021-2022/intermediate-cs/ch07/exercises-5/test-circ.png"/> 
  </figure>
</li>
</ul>
<h2 id="animation-fun">Animation Fun</h2>
<p>Make a red dot follow the graph of <code>y=x</code> until it gets to <code>y=150</code>,
then move along <code>y=150</code> as <code>x</code> increases.</p>
<p>Note: in the computer coordinate system, the red dot will appear to
move down and to the right as it follows <code>y=x</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ec000af0637be1afb777e65d2aeb0cd0">4.7 - 7. Exercises 6</h1>
    <div class="lead">Limiting warmup, more random numbers, distance.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<h2 id="opener">Opener</h2>
<p>A digital thermometer gives temperature readouts with one decimal
place. The <code>random-therm</code> function gives a possible temperature
reading between $96.7$ and $100.5$, inclusive. Write the
<code>random-therm</code> function.</p>
<h2 id="random">Random</h2>
<ul>
<li>
<p>(<code>ball-jump</code>) A ball is supposed to teleport around the screen,
moving to a random x coordinate. The x-coordinates chosen should be
multiples of 10 between 70 and 250. Write a function that will give
the new x-coordinate. Example of random choices:</p>
<pre><code>  (ball-jump 0) =&gt; 90
  (ball-jump 0) =&gt; 170
  (ball-jump 0) =&gt; 120
</code></pre>
</li>
</ul>
<h2 id="distances">Distances</h2>
<ul>
<li>
<p>(<code>dist-to-circ</code>)
A circle has radius $80$ and center $(200,150)$. Write a function to
compute the distance from $(x,y)$ to the circle. When $(x,y)$ is
inside the circle or on the perimeter of the circle, the distance is $0$.</p>
</li>
<li>
<p>(<code>dist-to-sq</code>) <strong>Harder Challenge.</strong>
A square of side length 50 is placed with center at (175,90). Find
the distance from a point (x,y) to the square. If your point is
inside the square, the distance is zero. Draw a picture.</p>
</li>
</ul>
<h2 id="other">Other</h2>
<ul>
<li>
<p>(<code>swerve-heading</code>)
A compass is currently pointing a certain direction between 0 and
359 degrees. (0 degrees = North, not that it matters) The driver
swerves a little bit, changing the heading by a random amount, at
most ten degrees in either direction. The <code>swerve-heading</code> function
takes in the original direction and produces the new, randomly
varied, direction.</p>
<p>Once you have the basic method working, make sure that the output
direction is between 0 and 359 degrees. When the current heading is
near 0 or 360 it can be a little tricky.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6064ed098a6d345367c852ef7149bfb8">4.8 - 7. Review 1</h1>
    <div class="lead">Bare-bones review.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<ol>
<li>
<p>Write a function <code>f1</code> to create a random number between 10 and 50.</p>
</li>
<li>
<p>Write a function <code>tree</code> to make a tree given a radius and a
height. We measure the height of the tree to the center of the
circle, not the very top. The width of the trunk should be the same
as the radius. Shown below is <code>(tree 90 220)</code>.</p>
<p>Force the trunk to be at
least twice the radius, so <code>(tree 90 20)</code> should produce the same
image as <code>(tree 90 180)</code>.</p>
 <figure>
     <img src="tree.png"/> 
 </figure>
</li>
</ol>
<h2 id="challenging-but-reasonable">Challenging but reasonable</h2>
<ol>
<li>
<p>(<code>rq1</code>) Write a function that takes in one input <code>n</code> and gives
random numbers between 100 and 1000. The first possible random number
is 100, and after that increase 100 by multiples of <code>n</code>. Example: When n
is 500, the only possible results are 100 and 600. When n is 7, the
first possible number past 100 is 107.</p>
</li>
<li>
<p>The <a href="https://en.wikipedia.org/wiki/Golden_ratio">Golden Ratio</a> is
$(1 + \sqrt{5})/2$. Rectangles whose sides are in the golden ratio
have been considered aesthetically pleasing since Greek times, and
are called &ldquo;golden rectangles&rdquo;. Make
a function that generates a random golden rectangles with one side
between 100 and 300 pixels long.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6952629c2c7824eb7193f045cf66c9dd">4.9 - 7. Review 2</h1>
    <div class="lead">Review of signatures, random numbers, random functions, math.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<h2 id="signatures">Signatures</h2>
<p>Remember that when you are describing a model which is a string, you
should write model(string) instead of just model or string. This makes
it clear that you know <em>exactly</em> the role that value plays in the
animation.</p>
<h3 id="triangle-in-the-corner">Triangle in the corner</h3>
<p>You are making an animation that shows a triangle in the upper left
corner of a 400x200 rectangle, filled in to the location of the mouse.</p>
<ol>
<li>What is a good model?</li>
<li>What is the signature for the mouse-handler?</li>
<li>What is the signature for the draw-handler?</li>
<li>You add a feature so hitting a key resets the animation to show the
top half of the rectangle shaded. (a) What is the signature for the
key handler? (b) Write code for the key handler.</li>
</ol>
<h3 id="countdown">Countdown</h3>
<p>An animation shows a number in the middle of a rectangle. The number
starts at 60 and goes down one every second.</p>
<ol>
<li>Describe a good choice for a model. (What type?)</li>
<li>What is the signature for the tick-handler?</li>
<li>What is the signature for the draw-handler?</li>
</ol>
<h2 id="random-numbers">Random Numbers</h2>
<h3 id="choices">Choices</h3>
<ol>
<li>What expression randomly chooses -1, 0, or 1? (With all equally
likely.)</li>
<li>Write an expression that randomly chooses a number from -18 to 18.</li>
<li>Write an expression to create a random multiple of 100, from 2000
to 3000.</li>
<li>Write a function that takes in a number $m$ and puts out a random
number between 10 and $m$. Bonus: If $m$ is less than 10, always put out
10.</li>
<li>(Harder.) Write a function that gives a random multiple of 3 between 81 and
228.</li>
<li>(This problem was very hard, consider it AP Racket.) Write a
function that takes in a number $n$ and puts out a random number
between $-10n$ and $50n$.</li>
</ol>
<h3 id="random-vs-nonrandom">Random vs Nonrandom</h3>
<p>Create a rectangle with a random width from 100 to 400 and a random
height from 200 to 300. Put a circle in the middle of the rectangle
that has half the height of the rectangle.</p>
<figure>
    <img src="red-sun-random.png"/> 
</figure>
<h2 id="math">Math</h2>
<ol>
<li>Write a Racket function to compute $g(x) = \sqrt{7-3x}$.</li>
<li>Write a function that takes in a number and puts out a number that
is between 20 and 200 by taking numbers smaller than 20 and making
them 20, and numbers bigger than 200 become 200, and numbers in the
middle do not change.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0302938d2d616ce35a56672071105558">4.10 - 7. Numbers Quiz A</h1>
    <div class="lead">A reasonable quiz, maybe one half question too long. Extra credit for all homework being turned in.</div>
	<ol>
<li>
<p>Make a function that picks a color that has a random amount of red,
either 50, 150, 250, and a random amount of green, either 100 or 200.
Use it to make six 50x50 squares next to each other.</p>
</li>
<li>
<p>Check if a random integer between 0 and 60 (inclusive) has a square root
between 3.5 and 7.5. Use <code>check-within</code>. You can comment out your test
when you know it works.</p>
</li>
<li>
<p>Make a gradient from maroon to olive that takes 500 pixels to go
all of the way (so it doesn&rsquo;t get to olive before the end).</p>
</li>
<li>
<p>(<code>pinkify</code>)
Write a function that takes in an image and removes some green from
it according to the directions below:</p>
<ul>
<li>The center of the color change is (100,120).</li>
<li>Green within 10 pixels of (100,120) should be untouched.</li>
<li>As you
get further away, the green should fade to black, so at (365,120)
there is 0 green left.</li>
<li>There should be some small amount of green left
until you get all of the way to (365,120), although you will probably
not be able to see it.</li>
</ul>
</li>
</ol>
<p>Make sure to include check-expects that demonstrate that green is
untouched in the center area and gone on the edge.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-75eca2780fef2c31780583605f5a068e">4.11 - Slides: Max and min</h1>
    <div class="lead">Slideshow of exercises to learn max, min, abs, and random.</div>
	<h1 id="maximum-minimum-random">Maximum, Minimum, Random</h1>
<hr>
<h2 id="make-a-table">Make a Table</h2>
<p>Max = greatest.
Min = least.
Abs = absolute value.</p>
<table>
<thead>
<tr>
<th style="text-align:center">x</th>
<th style="text-align:center">(min x 10)</th>
<th style="text-align:center">(max x 10)</th>
<th style="text-align:center">(abs x)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-15</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td style="text-align:center">-5</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
<tr>
<td style="text-align:center">&hellip;</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
</tr>
</tbody>
</table>
<p>Include x = 8, 13, 18 as well.</p>
<hr>
<h1 id="which-keeps-numbers-small">Which keeps numbers small?</h1>
<table>
<thead>
<tr>
<th style="text-align:center">x</th>
<th style="text-align:center">(min x 10)</th>
<th style="text-align:center">(max x 10)</th>
<th style="text-align:center">(abs x)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-15</td>
<td style="text-align:center">-15</td>
<td style="text-align:center">10</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">-5</td>
<td style="text-align:center">-5</td>
<td style="text-align:center">10</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
<td style="text-align:center">10</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">10</td>
<td style="text-align:center">13</td>
<td style="text-align:center">13</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">10</td>
<td style="text-align:center">18</td>
<td style="text-align:center">18</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="use-check-expect">Use Check-expect</h1>
<p>Always write check-expects when keeping numbers small or large. It is very easy to have mistakes in this kind of code.</p>
<hr>
<h1 id="random">Random</h1>
<p>(random 5) =&gt; 0, 1, 2, 3, 4</p>
<p>( ????   ) =&gt; 0, 1, 2, &hellip;, 100</p>
<hr>
<h1 id="random-range">Random range</h1>
<p>(random 101) =&gt; 0, 1, 2, &hellip;, 100</p>
<p>( ????     ) =&gt; 50, 51,52, &hellip;, 150</p>
<hr>
<h1 id="random-functions">Random functions</h1>
<p>Beginning student needs at least one parameter for a function.
You can give the parameter a job if you want:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">random</span> <span style="color:#000">start-num</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#000">start-num</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">random</span> <span style="color:#0000cf;font-weight:bold">101</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><hr>
<h1 id="checking-random">Checking random?</h1>
<ul>
<li>
<p>Uses random number? <a href="/teaching--2021-2022/intermediate-cs/ch07/random/">Test a helper function</a>.</p>
</li>
<li>
<p>Produces a random number? No check.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f49216d0f7e5c7a8a987437541b896ab">4.12 - Randomness</h1>
    <div class="lead">Making random numbers.  Testing functions that use random numbers.</div>
	<ul>
<li>Random numbers: <code>(random 3)</code> gives a random number 0, 1, or 2. Notice that there are three possible answers, but they start counting at 0. Run the code below and you should get different answers each time.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">random</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">random</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">random</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)</span> 
</span></span></code></pre></div><h2 id="random-ranges">Random ranges</h2>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">note</h4>

    We use the phrase &ldquo;from 10 to 200&rdquo; or &ldquo;between 10 and 200&rdquo; to both mean all of the integers n so that 10&lt;=n&lt;=200.

</div>

<p>How many numbers are there from 10 to 200, inclusive? It&rsquo;s easy to make a mistake. My favorite method is to subtract a number to make the bottom of the range start counting at one.</p>
<p>Be sure you understand the previous paragraph before reading on!</p>
<p>When you already have a random number from 0 to 50, how can you get a random number between 30 and 80?</p>
<h2 id="using-randomness">Using randomness</h2>
<p>It is hard to test random functions, so write non-random versions first, and use the randomness as an input. Test the non-random functions!</p>
<p>Example: Make an ellipse of a random height 150-250 pixels tall, and twice as wide.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">; make-ellipse-nr: string(color) number(height) -&gt; image</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">; purpose: make an ellipse height units tall and 2*height units wide in the given color</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ellipse-nr</span> <span style="color:#000">color</span> <span style="color:#000">height</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ellipse</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#000">height</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">height</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#000">color</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">; see below for check-expect</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ellipse</span> <span style="color:#000">color</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ellipse-nr</span> <span style="color:#000">color</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#0000cf;font-weight:bold">150</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">random</span> <span style="color:#0000cf;font-weight:bold">101</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch07/random/nonrandom-check.png"/> <figcaption>
            <h4>Test your nonrandom function well!</h4>
        </figcaption>
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-758cd8408cf7b969637c9779c67c288f">4.13 - Worksheets</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-76df91f2f5ffc66cd603991386ae91ed">4.13.1 - Ch07 WS 01</h1>
    
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>Translate each expression into Racket. You can look up <a href="https://docs.racket-lang.org/reference/generic-numbers.html">lots of
arithmetic
functions</a>
if you are interested. There&rsquo;s more if you are into <a href="https://docs.racket-lang.org/math/number-theory.html">KAM or math
team</a> subjects.</p>
<ol start="0">
<li>
<p>Does the test <code>(check-within (sqrt 11) 3 0.3)</code> pass?</p>
<ul>
<li>In this statement, what is the expected answer?</li>
<li>In this statement, what is the tolerance (the amount of error
allowed in a correct answer)?</li>
</ul>
</li>
<li>
<p>Write a <code>check-within</code> statement that says <code>(sqrt 19)</code> is $4.4 \pm
0.05$.</p>
</li>
<li>
<p>Write an incorrect (and failing) <code>check-within</code> statement that says
<code>(sqrt 19)</code> is $4.4 \pm 0.01$.</p>
</li>
<li>
<p>$100 + 50$</p>
</li>
<li>
<p>$200 + 800 + 900 + 80$</p>
</li>
<li>
<p>$500 / 8$</p>
</li>
<li>
<p>$1011 - 231$</p>
</li>
<li>
<p>the whole number of times 2145 is divisible by 7 (&ldquo;quotient&rdquo;)</p>
</li>
<li>
<p>the amount left over when 2145 is broken into groups of 7
(&ldquo;remainder&rdquo;)</p>
</li>
<li>
<p>$\sqrt{17}$</p>
</li>
<li>
<p>$11^8$</p>
</li>
</ol>
<h2 id="on-the-computer">On the computer</h2>
<ol start="101">
<li>
<p>there is a shortcut for squaring, <a href="https://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._sqr%29%29">find
it</a>
and compute $163^2$</p>
</li>
<li>
<p>Find $\frac{13}{29} + \frac{31}{17}$ as a fraction.</p>
</li>
<li>
<p>Write the function $f(x) = x^2 - 8x + 7$ and test it.</p>
</li>
<li>
<p>What is the difference between $5 + \sqrt{169-256}$ and
$5 - \sqrt{169+256}$. Carefully explain Racket&rsquo;s response to each.</p>
</li>
<li>
<p>Do 7.2.6: write a function to compute one of the solutions of
$ax^2+bx+c=0$ using the quadratic formula.</p>
</li>
<li>
<p>Write a function to compute the distance between (x0, y0) and
(x1, y1). Include check-expects.</p>
<p>(define (distance x0 y0 x1 y1) &hellip;)</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9f5db60fcff74ddd20f389b466768cf1">4.13.2 - Ch07 WS 03</h1>
    
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<ol>
<li>
<p>The function <code>f</code> takes in a number and puts out a number. When the
input is 5, the output is 30. When the input is 7, the output
is 22.</p>
<ol>
<li>Write two check-expects for <code>f</code>.</li>
<li>Write the function definition.</li>
</ol>
</li>
<li>
<p>An animation uses <strong>a number model</strong> to control the radius of an orange
circle centered at (150,100) on a 300x300 background. Every 0.5
seconds the radius increases by 5. When you move the mouse, the
edge of the circle passes through the location of the mouse event
(so the radius is set to be the distance from (150,100)).</p>
<pre><code> (big-bang 80
     (to-draw dh)
     (on-key kh)
     (on-mouse mh)
     (on-tick th 0.5))
</code></pre>
<ol>
<li>What is the signature of the draw handler?</li>
<li>Make a careful drawing of the initial image you see.</li>
<li>Write the draw handler.</li>
<li>What is the signature of the tick handler?</li>
<li>Make a careful drawing of one tick after the start of the
animation.</li>
<li>Write the tick handler.</li>
<li>What is the signature of the mouse handler?</li>
<li>Write a check-expect showing what happens when the radius is 70
and the mouse moves to (180,140).</li>
<li>Write the mouse handler.</li>
</ol>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0307e91db5e0eba9df3ae1e2f1faec2e">4.13.3 - Ch07 WS 04</h1>
    
	<ol>
<li>
<p>Write the function <code>fix: number -&gt; number</code> that has the following
properties:</p>
<ul>
<li>input &lt; 100 gives an output of 100</li>
<li>input &gt; 300 gives an output of 300</li>
<li>otherwise the output is the same as the input</li>
</ul>
</li>
<li>
<p>Write the function <code>rand5: anything -&gt; integer</code>. This function
outputs a random multiple of 5 between 100 and 150 (inclusive).</p>
</li>
<li>
<p>Write the function <code>rand-shapes: anything -&gt; image</code>. This function
outputs an image of a square next to the image of a circle.</p>
<ul>
<li>The radius of the circle equal to the side length of the square.</li>
<li>The radius of the circle is one of 20, 30, 40, 50, &hellip;, 100.</li>
</ul>
</li>
<li>
<p>(Summary.) Create a random house-making function,
<code>rh : anything -&gt; image</code>.
A house is
triangle exactly fitting over a square.
The width of the house should be chosen randomly among the numbers
120, 140, 160,  &hellip;, 280.</p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e5ef4a527779ca8965d12bd51e3a2bda">4.14 - Resources</h1>
    <div class="lead">External documents for learning about Chapter 7, including gradients.</div>
	<ul>
<li><a href="https://docs.google.com/document/d/193fiEVjSxTPF1i4WgTRjRHps3qDP1dcPxuBqJgEJAok/edit?usp=sharing">Chapter 7 Worksheet
A</a>:
Important basic info for working with numbers, including <code>#i</code> and <code>check-within</code>.</li>
<li><a href="https://docs.google.com/document/d/1aGHOEBBIaDv7YhWzprDr4v0WdzwZz1o40hTDViT9FXU/edit?usp=sharing">Chapter 7 Worksheet
BC</a>:
Lists of good problems from the book (Picturing Programs, Chapter 7).</li>
<li><a href="https://docs.google.com/document/d/1w3D3FDAfiulQOswVmcWqs1ShFq46mLckEGKzKdqEsuI/edit?usp=sharing">Chapter 7 Worksheet
D</a>:
First big gradient creation practice.</li>
<li><a href="https://docs.google.com/document/d/1AZH9UpUeo7K8mb5cn4bYoUDXT686-vQpVs3WApLW-xQ/edit?usp=sharing">Chapter 7 Worksheet
E</a>:
More gradients, including a radial gradient!</li>
<li><a href="https://docs.google.com/document/d/1bm-zTl0d4QM-Px9C9rF43uS05RjtWLGqhNwAPn0UyIQ/edit?usp=sharing">Chapter 7 Worksheet
F</a>:
Scaffolded practice with check-expects, more gradients.</li>
<li><a href="https://docs.google.com/document/d/1lNz7j5k5pNnxG4OREckKYMDHY6EVp701nPoCbmfHWSA/edit?usp=sharing">Chapter 7 Worksheet
G</a>:
Mostly advanced exercises, including the &ldquo;reverse greyscale&rdquo; transformation.</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b3ef63ef3b150b4d5883e55da502052a">5 - 8. Number Models</h1>
    <div class="lead">Animations that remember a number instead of an image.</div>
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/models-1/" >8. Number Models 1</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-1/" >Number Models 1</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-2/" >Number Models 2</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-3/" >Number Models 3</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-4/" >Number Models 4</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-5/" >Number Models 5</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-review/" >Number Model Review</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-review-2/" >Number Model Review II</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-graph-zoom/" >Number Graph Zoom</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-project/" >8. Number Project</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-finale/" >8. Number Finale</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-test/" >8. Build It Test</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/test-corrections/" >8. Test Corrections</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch08/number-review-more/" >Number Review More</a></li>
</span></p>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-f59e4045e88ed607657b11af204a5590">5.1 - 8. Number Models 1</h1>
    <div class="lead">Number models, beginning to middle difficulty.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



<ol>
<li>
<p>A circle increases its radius by 5 every tick. Hitting a key
reduces the radius by 50%.</p>
</li>
<li>
<p>A square moves along a horizontal line. Every time you move the mouse, it moves right 1 pixel. When you hit a key it moves left 4 pixels.</p>
</li>
<li>
<p>A small solid circle randomly moves between x=20, x=60, and x=100 on a fixed horizontal line. (You pick the $y$ coordinate.)</p>
</li>
<li>
<p>Optional / too hard. Make the graph of $y=x(200-x)/50$. See below.</p>
</li>
</ol>
<h2 id="optional-graphing-a-function">Optional: Graphing a function</h2>
<p>Learn this method for graphing $y=f(x)$ using <code>build-image</code>.</p>
<ul>
<li>
<p>Color points based on $c(x,y) = \left|y-f(x)\right|$.</p>
</li>
<li>
<p>When $c(x,y)=0$, the point $(x,y)$ is exactly on the graph, so you
want it black.</p>
</li>
<li>
<p>Color based on $C = c(x,y)$. Black when C
is 0, changing to white when C is (say) 5. Multiply by 255/5 = 51 in
this case, because 5*51 = 255 of color = white.</p>
</li>
<li>
<p>Explore how changing the 51 changes the thickness of the line.</p>
</li>
</ul>
<!-- Depending on how thick you want the line, try other numbers -->
<!-- besides 5. -->
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000">y</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">1/2</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c2</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">1/2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000">y</span> <span style="color:#0000cf;font-weight:bold">40</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000">y</span> <span style="color:#0000cf;font-weight:bold">40</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">color-f</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gray</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">51</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)))))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gray</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-color</span> <span style="color:#000">n</span> <span style="color:#000">n</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">max</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">min</span> <span style="color:#0000cf;font-weight:bold">255</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">real-&gt;int</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">build-image</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#0000cf;font-weight:bold">100</span> <span style="color:#000">color-f</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-79378ddcff3692977adef7428b0f21cc">5.2 - Number Models 1</h1>
    <div class="lead">Three animations to practice identifying number models.</div>
	<h1 id="identify-the-model">Identify the model</h1>
<p>A white rectangle background that slowly fades to blue.</p>
<hr>
<h1 id="identify-the-model-1">Identify the model</h1>
<p>A shape of your choice moves across the screen, rotating as it moves.</p>
<hr>
<h1 id="animate">Animate</h1>
<p>A shape of your choice moves across the screen, rotating as it moves.</p>
<ul>
<li>Model</li>
<li>Get on computer and do it</li>
</ul>
<hr>
<h1 id="create-the-animation">Create the animation</h1>
<p>A star moves diagonally across the screen from (0,0) to (200,100) on a big 200x200 background.</p>
<hr>
<h1 id="challenge">Challenge</h1>
<p>A red star follows the equation of the ellipse (x/100)^2 + (y/50)^2 = 1.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4974ea3f137718c08eb2750d92d47d61">5.3 - Number Models 2</h1>
    <div class="lead">Progress bar, dot that follows a line.</div>
	


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">note</h4>

    Please read Sections 8.1-8.4 in the book!

</div>

<ol>
<li>
<p>Make a progress bar that shrinks in half every time a key is hit.</p>
 <figure>
     <img src="2017-10-27-bar-1.png"/> 
 </figure>
 <figure>
     <img src="2017-10-27-bar-2.png"/> 
 </figure>
 <figure>
     <img src="2017-10-27-bar-3.png"/> 
 </figure>
</li>
<li>
<p>Make a dot that moves along a line from (50,0) to (250,300).</p>
</li>
<li>
<p>Exercise 8.4.4 from the text. Be sure to follow the design process!</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3af7fcbd71469203bf321cde233646eb">5.4 - Number Models 3</h1>
    <div class="lead">Remainder to repeat. Random dots.</div>
	<h2 id="remainder-warmups">Remainder warmups</h2>
<h3 id="opener">Opener</h3>
<p>Divide 324 by 7. What is the quotient? The remainder?</p>
<h3 id="follow-up">Follow-up</h3>
<p>When you change 324 to other numbers, what possible remainders can you get? (For example, can you get a remainder of 2 by dividing something by 7? What?)</p>
<h3 id="animation">Animation</h3>
<p>An animation will just count from 0 to 6, then start over again at zero.</p>
<p>Write the model you choose, then checks and a function for the tick handler.</p>
<h2 id="more-animation">More animation</h2>
<p>Show the numbers (in order): 10, 30, 50, 70, 90, then go back to 10 and repeat.</p>
<ul>
<li>Model?</li>
<li>Tick handler.</li>
</ul>
<h2 id="repetition-without-conditionals">Repetition (without conditionals)</h2>
<p>What does this tick-hander do? Write checks for the results when num=0, num=1, and num=4.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">repeat-it</span> <span style="color:#000">num</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">remainder</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#000">num</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="class-practice">Class practice</h2>
<p>1a. Make a shape of your choice start at x=100, y=40, then move to x=100,y=110, then to x=100,y=180, then back to x=100, y=40. The motion should happen every second.</p>
<p>1b. Hit a key to make the shape go to a random one of those three locations.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5c0501efebc2adb8381ea20ab62c13d8">5.5 - Number Models 4</h1>
    
	<ul>
<li>
<p>How to show a number in an image:</p>
<ul>
<li>(number-&gt;string 50) makes &ldquo;50&rdquo;</li>
<li>(text &hellip;) wrapped around that makes an image</li>
</ul>
<p>Example: <code>(text (number-&gt;string 50) FONT-SIZE &quot;purple&quot;)</code> produces an image with the number 50 in FONT-SIZE point purple font.</p>
</li>
<li>
<p>Make a dot follow the line y=2x-30 from x=0 to x=100. Repeat over from x=0 once the dot gets to 100.</p>
</li>
<li>
<p>Draw a random radius circle (10&lt;=r&lt;=100) on the screen. Show the radius inside the circle.</p>
<p>Writing check-expects is key to making this work!</p>
</li>
</ul>

<figure>
    <img src="circle-50.png"/> 
</figure>

<ul>
<li>
<p>Make an animation of a point moving along the right-opening parabola x=y^2. The point should hit (0,0), (25,5), (100,10), (225,15), and (400,20) before repeating. The draw handler can be a little tricky too - make sure you test it so you know it works.</p>
</li>
<li>
<p>Challenge: can you make the point hit (100,-10), (25,-5), (0,0), (25,5), and (100,10) instead?</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-378edce69f6a05825fc27f29265ad4b3">5.6 - Number Models 5</h1>
    
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<ol>
<li>
<p>Write a <em>function</em> <code>q1</code> that produces a random number from the set { 50,
130, 210, 290, 370, 450, 530 }, each one equally likely.</p>
</li>
<li>
<p>Write a <em>function</em> <code>q2</code> that produces a random number from the set
{ 25, 36, 49, 64, 81}, each one equally likely. (A little thinking
and math is needed.)</p>
</li>
<li>
<p>Describe in words a strategy you could use in order to create a
function that prints out a random sized square above an image of
the text &ldquo;Area: XXX&rdquo;? (Where XXX = the actual area of the shape.)</p>
</li>
<li>
<p>Actually do the strategy you explained in 3.</p>
</li>
<li>
<p>Make an animation where a dot follows the graph of
$$ f(x) = 0.001 (x-30)(x-10)(x+40), $$
with a display window [-50,50]x[-50,50] with visible axes.</p>
<ul>
<li>Write two check-expects that show that you have typed your
function $f$ correctly.</li>
<li>As time passes the dot moves to the right (along the graph)</li>
<li>Hitting a key makes the dot jump to a random location (on the graph).</li>
<li>When the mouse is moving, the dot moves to the left (along the
graph).</li>
</ul>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d86448d1412814fa22a3d71bd9f2107a">5.7 - Number Model Review</h1>
    <div class="lead">A summary of the key points of Chapters 7-8. Preparation for a test.</div>
	<p>Things to know:</p>
<ol>
<li>
<p>Animation following the graph of an equation:</p>
<ul>
<li>Computer coordinates</li>
<li>People coordinates</li>
</ul>
</li>
<li>
<p>Repetition using <code>remainder</code>.</p>
</li>
<li>
<p>Max/min to keep values large/small.</p>
</li>
<li>
<p>Randomness</p>
<ul>
<li>Range of random numbers (e.g., 10&lt;=x&lt;=50).</li>
<li>Write and test a non-random function first.</li>
</ul>
</li>
<li>
<p>Write checks for a function that you do not yet know how to write.</p>
</li>
</ol>
<p>Terms:</p>
<ul>
<li>Computer coordinates: (0,0) in the upper left, positive y going down.</li>
<li>People coordinates: (0,0) in the center, positive y going up.</li>
</ul>
<p>Sample code:</p>
<ul>
<li><a href="people-coordinates-demo.rkt">People coordinates demo</a></li>
</ul>
<h2 id="review-problems">Review Problems</h2>
<ol>
<li>
<p>Make a sunset: a half circle.</p>
<ul>
<li>shrinks in radius</li>
<li>changes color from red(ish) to black as the sun sets.
(Advanced: yellow to magenta.)</li>
</ul>
</li>
<li>
<p>Make a point that follows the graph of the equation y=((x-50)/10)^2</p>
<ul>
<li>Use &ldquo;people coordinates&rdquo;. Each quadrant should be 75x100.</li>
<li>Move from x=-75 to x=75 in people coordinates.</li>
<li>Repeats the path from over and over.</li>
<li>Hit a key make the point go to x=0 people coordinates (and start moving).</li>
<li>Move the mouse to make the point move. (The point should seem to move faster when you move the mouse.)</li>
</ul>
</li>
<li>
<p>Make a rectangle that is three times as wide as it is tall.</p>
<ul>
<li>Height is determined by y-coordinate of the mouse.</li>
<li>Height decreases 5 units every time you hit a key.</li>
<li>Height cannot go below 20 units using key.</li>
<li>Height cannot go above 150 units using mouse.</li>
<li>You choose the color.
(Advanced: color of grey depends on y-coordinate.)</li>
</ul>
</li>
<li>
<p>(Maybe omit.) (&hellip; feel free to skip.)
Make a line that you can move up and down with the mouse.</p>
<ul>
<li>Straight line through x=0, y=70</li>
<li>Passes through the point where the mouse is sitting.</li>
</ul>
</li>
</ol>
<h2 id="information-flow-for-question-2">Information Flow for Question 2</h2>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
<div class="mermaid">
graph LR;
   A[x-computer] --> B[x-people]
   B --> |func| C[y-people]
   C --> D[y-computer]
</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-41a21ee576568bf5f36c692f09e4cc22">5.8 - Number Model Review II</h1>
    <div class="lead">Review with focus on graphing functions.</div>
	<p>Definitions: <em>people coordinates</em> are coordinates where (0,0) refers to
the origin where the axes cross and positive y numbers are above the
x-axis. <em>Computer coordinates</em> have (0,0) in the upper left corner and
positive y means &ldquo;down&rdquo;.</p>
<ol>
<li>
<p>You are making a viewing window that ranges from x=-300 to x=500 and
from y=-200 to y=600.</p>
</li>
<li>
<p>Write three check-expects for the function <code>x-people</code>, which takes in a computer x-coordinate and produces a &ldquo;people&rdquo; x-coordinate.</p>
</li>
<li>
<p>Write three check-expects for the function <code>y-computer</code>, which takes in a people y-coordinate and produces a &ldquo;computer&rdquo; y-coordinate.</p>
</li>
<li>
<p>Write the functions <code>x-people</code> and <code>y-computer</code>. Make sure
they pass your tests.</p>
</li>
<li>
<p>Write the functions <code>x-computer</code> and <code>y-people</code> that are the
inverse of <code>x-people</code> and <code>y-computer</code>, just in case you need
them&hellip; be sure to test.</p>
</li>
<li>
<p>Make a model t goes from 0 to 628 repeatedly. You will need to
write a draw handler and a tick handler. The equations below give
the x and y people coordinates to use to place the model.</p>
<pre><code>     x-people-func = (* 250 (cos (/ t 100)))
     y-people-func = (* 150 (sin (/ t 100)))
</code></pre>
</li>
</ol>
<h2 id="information-flow">Information Flow</h2>
<p>This program works a little differently from the previous one. Keep in
mind what information you have in your model and what you need in
order to plot the result.</p>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
<div class="mermaid">
graph TD;
   A[model=t] --> x-people
   A --> y-people
   x-people --> x-computer
   y-people --> y-computer
</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7c8a3fa3f08d56ca51bfbe8594c609ac">5.9 - Number Graph Zoom</h1>
    <div class="lead">Small scale people coordinates on the x-axis with a big window.</div>
	<p>A good graph of <code>(sin x)</code> would have x-people from -5 to 5 and y-people from -1 to 1. That is only a 10x2 window, too small to really see anything.</p>
<p>We want to graph the same function in a 300x200 window.</p>
<h2 id="outline">Outline</h2>
<p>We have a function that takes in people x-coordinates and puts out
people y-coordinates, so the infomation will flow as diagrammed below.</p>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
<div class="mermaid">
graph LR;
   A[x-computer] --> B[x-people]
   B --> |func| C[y-people]
   C --> D[x-computer]
</div>

<h2 id="heading"></h2>
<p>This means figuring out conversion functions.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8e7174dcbf16382a3bf7a197d87cca4c">5.10 - 8. Number Project</h1>
    <div class="lead">Create an artistic zoomed-in graph for your review project.</div>
	<p>Requirements:</p>
<ul>
<li>Four quadrants.</li>
<li>Axes do not meet in the center.</li>
<li>People coordinates are not in 1 to 1 ratio with computer coordinates.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-be9e9fb3f1a25457a7db89151bf601d2">5.11 - 8. Number Finale</h1>
    <div class="lead">This is the last graphing practice. It should be easier now that you have done all of the other ones. Do it before the project for &lsquo;scaffolding&rsquo;.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>We are going to make this graph:</p>
<figure>
    <img src="warmup-graph.png"/> 
</figure>
<p>The equation we are using is:</p>
<pre><code>(define (func x)
  (* (- x 5)
     (+ x 2)
     (- x 7)))
</code></pre>
<p>The range of people coordinates we want to graph is:
$$-5 \le x \le 7 $$
$$-400 \le y \le 100 $$</p>
<p>Your want to make the graph have dimensions 360x250 (in computer
coordinates).</p>
<ol>
<li>
<p>Write two checks for the function <code>x-computer-&gt;x-people</code> that
takes in a computer coordinate and puts out a people coordinate.</p>
</li>
<li>
<p>Possibly using <a href="https://www.wolframalpha.com/">WolframAlpha</a>, write
the function <code>x-computer-&gt;x-people</code>.</p>
</li>
<li>
<p>Write two checks for the function <code>y-people-&gt;y-computer</code>.</p>
</li>
<li>
<p>Write and test the function <code>y-people-&gt;y-computer</code>.</p>
</li>
<li>
<p>Check your work.</p>
<pre><code> (check-expect (x-computer-&gt;x-people 150) 0)
 (check-expect (y-people-&gt;y-computer 0) 50)
</code></pre>
</li>
<li>
<p>Write a draw handler that will place a dot on the graph of the
function. The model will be the computer x-coordinate.</p>
</li>
<li>
<p>Design and test a tick handler that will start on the left side of
the screen, trace the curve to the right side, then repeat.</p>
</li>
</ol>
<h2 id="bonus-graph-of-the-line">Bonus: Graph of the line</h2>
<ol>
<li>
<p>Write <code>rf</code> (or <code>real-func</code>), which takes in a computer x-coordinate, changes
it to people x-coordinates, applies your function, and then changes
the result back to computer y-coordinates. You may have already
written this as part of your animation.</p>
</li>
<li>
<p>Use <code>build-image</code> to create a 360x250 image where the amount of
gray at (x,y) is given by limiting
$$ 100 * \left| y - \text{rf}(x) \right| . $$</p>
</li>
<li>
<p>It took a little extra work to get the axes to show with this method&hellip;</p>
</li>
</ol>
<figure>
    <img src="warmup-animated.gif"/> 
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-51aa55335bf4290ca6ddbb253b056a6b">5.12 - 8. Build It Test</h1>
    <div class="lead">An animation to test your skills.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>The model is a time we will call $t$. The time will be between $0$ and $6\pi$.</p>
<p>The people coordinates are given by:</p>
<pre><code>  (define (x-blue t) (* 200 (cos t))
  (define (y-red  t) (* 150 (sin t))
</code></pre>
<h2 id="yellow-box">Yellow Box</h2>
<p>Make a 400x50 yellow rectangle for the background.
Place a single horizontal gray line in the middle (for the axis).</p>
<p>The horizontal axis of the graph will be &ldquo;t&rdquo;. On the vertical axis,
graph the <code>y-red</code> function with a red dot.</p>
<ul>
<li>Computer coordinates are $0 \le x \le 400$ and $0 \le y \le 50$.</li>
<li>People coordinates are horizontally $0\le t \le 6\pi$ and vertically
$-200 \le
y \le 200$.</li>
</ul>
<p>After have the first part working, on the same image, graph the
<code>x-blue</code> function vertically with a blue dot. (So really the <code>x-blue</code> will
be a vertical amount.)</p>
<h2 id="side-bars">Side Bars</h2>
<p>The right side bar is a 50x400 white rectangle.  The red dot moves
with x-coordinate 25 and y-coordinate given by <code>y-red</code>, using the same model <code>t</code> as the rest of the animation.</p>
<p>The bottom side bar is a 400x50 white rectangle. The blue dot moves with x-coordinate <code>x-red</code> and y-coordinate 25.</p>
<h2 id="center-box">Center Box</h2>
<p>The center box is a 400x400 outlined rectangle. The purple dot moves
with x-coordinate from <code>x-blue</code> and y-coordinate from <code>y-red</code>.</p>
<h2 id="demo">Demo</h2>
<figure>
    <img src="ch08-complex.gif"/> 
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-21caefdfa40864a5a44baed95363feab">5.13 - 8. Test Corrections</h1>
    
	<p><a href="https://docs.google.com/document/d/1eEIpi5qKbtrFmycjpI_Q2eXL0yTCrSh9CbHEybYvXnQ/edit?usp=sharing">Chapter 8 Test</a></p>
<p>Do corrections for +8 or more points of credit.</p>
<p>Corrections mean complete, correct following of the design process for each function.</p>
<p>Scores will still be &ldquo;curved&rdquo;.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d92ee09cf2fa4435430ad4e7570e2ba1">5.14 - Number Review More</h1>
    
	<p>More review problems:</p>
<ol>
<li>
<p>Make an ellipse on a background.</p>
<ul>
<li>The ratio of the width to the height of the ellipse is 3 to 4.</li>
<li>The x-coordinate of the mouse controls the width.</li>
<li>Hit any key to reset the ellipse to 60 by 80.</li>
</ul>
</li>
<li>
<p>A point moves on the graph of y = abs(x-90).</p>
<ul>
<li>The point starts at (0,90).</li>
<li>The point goes back to (0,90) after it gets to (200,110).</li>
<li>The origin is in the lower left (people coordinates, quadrant I).</li>
<li>Moving the mouse makes the point go faster.</li>
</ul>
</li>
<li>
<p>A straight line goes through (50,25) and the point where the mouse is.</p>
<ul>
<li>Racket Help Desk: <a href="https://docs.racket-lang.org/teachpack/2htdpimage.html?q=line#%28def._%28%28lib._2htdp%2Fimage..rkt%29._line%29%29">Drawing a line</a></li>
</ul>
</li>
</ol>
<p>Solutions: <a href="ch08-review-ii-1.rkt">1</a>, <a href="ch08-review-ii-2.rkt">2</a>, <a href="ch08-review-ii-3.rkt">3</a>.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e30e77d5af79d4d0901931820078f3a6">6 - 13. Booleans</h1>
    <div class="lead">True or false values. Comparison functions.</div>
	<p>The quick reference guide is on page 208 of the PDF.</p>
<h2 id="summary">Summary</h2>
<ul>
<li>
<p>Functions end in <code>?</code> if (and only if) they return a boolean value for their answer.</p>
</li>
<li>
<p>true, false</p>
</li>
<li>
<p>Determine the type of something: string?, number?, integer?, image?, boolean?</p>
</li>
<li>
<p>Decide equality: <code>string=?</code>, <code>image=?</code>, etc.</p>
</li>
<li>
<p>Comparisons for numbers: <code>&lt;</code>, <code>&lt;=</code>, <code>=</code>, <code>&gt;=</code>, <code>&gt;</code></p>
</li>
<li>
<p>Comparisons for other things: <code>string&lt;?</code>, <code>string&lt;=?</code>, <code>string=?</code>, etc.</p>
</li>
<li>
<p>Case insensitive comparison: <code>string-ci&lt;?</code>, etc.</p>
</li>
<li>
<p>Combinations: <code>and</code>, <code>or</code>, <code>not</code></p>
</li>
</ul>
<h2 id="extras">Extras</h2>
<ul>
<li><code>replicate</code></li>
<li><code>string-contains?</code></li>
</ul>
<h2 id="sections">Sections</h2>
<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch13/ch13-exb/" >13. Exercises B</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch13/ch13-exc/" >13. Exercises C</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch13/ch13-intro-ex1/" >13. Intro Exercises 1</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch13/ch13-intro-ex2/" >13. Intro Exercises 2</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch13/ch13-intro-ex3/" >13. Intro Exercises 3</a></li>
</span></p>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch13/ch13-exa/" >Ch13 Exercises</a></li>
</span></p>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b88d8570474d481e6c909694dc6cc7b1">6.1 - 13. Exercises B</h1>
    
	<ol>
<li>
<p><code>lots-younger?: number(age1) number(age2) -&gt; boolean</code>. True if the
first person is lots younger than the second (15 years or more).</p>
</li>
<li>
<p><code>kinda-close? number(x) number(y) -&gt; boolean</code>. True if x and y are
&ldquo;kinda close&rdquo; to each other, which we define to be within 20.</p>
</li>
<li>
<p><code>is-green-circle?: image -&gt; boolean</code>. True if the image is a pure
green circle (of any radius).</p>
</li>
<li>
<p><code>is-expensive?: string(material) number(weight) -&gt; boolean</code>. True
if the material is diamond or the weight is more than 30.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-be05258bb40cec09d56670c42edb0d15">6.2 - 13. Exercises C</h1>
    
	<ol>
<li>
<p><code>below-10-or-above-50?: number -&gt; boolean</code>. True if the number
is either below ten or above fifty.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Craps#Rules_of_play">Craps</a> is an old dice
game. Simplified rules: you win if you roll a 7 or an 11. Write
<code>win-craps?: number -&gt; boolean</code>.</p>
</li>
<li>
<p>Write a function <code>roll-2-dice: number(ignore) -&gt; number</code> that gives
the total from rolling two standard six-sided dice.</p>
</li>
<li>
<p>Write the function <code>play-craps: number(ignore) -&gt; boolean</code> that
plays one round of craps (randomly) and returns true when it is a
win.</p>
</li>
<li>
<p>Write <code>not-blue-triangle?: image -&gt; boolean</code> that is true only if
the image is not a blue equilateral triangle (of any size).</p>
</li>
<li>
<p>Stripes. Create a pattern of red, green, and blue diagonal stripes,
each 50 pixels wide.</p>
</li>
</ol>
<figure>
    <img src="stripes.png"/> 
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-86de8d7b50d27f1672632e0706598e71">6.3 - 13. Intro Exercises 1</h1>
    
	<ol>
<li>Use the code below to answer:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; hit-snooze?: boolean number -&gt; boolean</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">hit-snooze?</span> <span style="color:#000">sleepy?</span> <span style="color:#204a87;font-weight:bold">time</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">boolean=?</span> <span style="color:#000">sleepy?</span> <span style="color:#4e9a06">&#34;true&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&lt;</span> <span style="color:#204a87;font-weight:bold">time</span> <span style="color:#0000cf;font-weight:bold">700</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><ul>
<li>What is wrong with this code? Fix it.</li>
<li>Write a check-expect where this function returns true.</li>
<li>Write a check-expect where this function returns false.</li>
</ul>
<ol start="2">
<li>
<p>Simplify or explain and correct the error.</p>
<ul>
<li><code>(boolean=? (&gt; 17 24) #false)</code></li>
<li><code>(boolean=? (= 1 1) &quot;true&quot;)</code></li>
<li><code>(boolean=? practiced-piano? true)</code></li>
<li><code>(boolean=? hungry? false)</code></li>
</ul>
</li>
<li>
<p>Sometimes you get to sleep a lot (return true). That happens if you
did not have homework, did not do the homework you have, or the
homework was easy.</p>
<p>Write a function to figure out if you slept a lot.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">slept-lots?</span> <span style="color:#000">had-hw?</span> <span style="color:#000">did-hw?</span> <span style="color:#000">was-easy?</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#204a87;font-weight:bold">...</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div></li>
<li>
<p>(Shape Sorter I.) Write <code>fit-rect?: image -&gt; boolean</code> that returns
true if the image fits inside a 150x100 rectangle.</p>
</li>
<li>
<p>(Shape Sorter II.) Write <code>ibr?: image -&gt; boolean</code> that returns true
if the image is a (pure) blue rectangle.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3cf3b7420d2be7dd450bf75acc7a2659">6.4 - 13. Intro Exercises 2</h1>
    
	<ol>
<li>
<p>Simplify, explain and correct errors if needed.</p>
<ul>
<li><code>(and (&lt; x 10) (&gt; x 3) (&lt; x 12))</code></li>
<li><code>(or (= 0 1) (&lt; 15 8) (string=? &quot;dog&quot; &quot;DOG&quot;))</code></li>
<li><code>(not (= (+ 1 3 7 9) (+ 2 4 6 8)))</code></li>
<li><code>(boolean=? (or (boolean=? lunchtime? true) study-hall?) false)</code></li>
</ul>
</li>
<li>
<p>What does this function do? Is there any possibility of an error.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mystery</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">or</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">=</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&lt;</span> <span style="color:#0000cf;font-weight:bold">15</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">/</span> <span style="color:#0000cf;font-weight:bold">100</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><ol start="3">
<li>Does writing the function above in a different way matter?</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mystery2</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">or</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&lt;</span> <span style="color:#0000cf;font-weight:bold">15</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">/</span> <span style="color:#0000cf;font-weight:bold">100</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">=</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><ol start="4">
<li>
<p>(Challenge) The <code>lucky-charm? : image -&gt; boolean</code>. Give true if the image
matches <code>pic:unicorn</code> (you can pick this image) or an orange star
(must work for every size orange star). Write some check-expects first!</p>
<pre><code> (check-expect (lucky-charm? (star 20 &quot;solid&quot; &quot;orange&quot;))
               true)
 (check-expect (lucky-charm? (star 30 &quot;solid&quot; &quot;orange&quot;))
               true)
 (check-expect (lucky-charm? pic:hacker)
               false)
 (check-expect (lucky-charm? pic:unicorn)
               true)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c3daee86825e0dbbbab7d62c7daa4076">6.5 - 13. Intro Exercises 3</h1>
    
	<ol>
<li>(a) Write a check-expect for <code>(question-1 10 20)</code>.
(b) Are there any inputs that will cause an error?
Explain why or why not.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">question-1</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">=</span> <span style="color:#0000cf;font-weight:bold">1/2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">/</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">not</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">=</span> <span style="color:#000">y</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><ol start="2">
<li>Simplify and identify any errors:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">question-2</span> <span style="color:#000">boat-sinking?</span> <span style="color:#000">have-lifejackets?</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">or</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">boolean=?</span> <span style="color:#000">boat-sinking?</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#000">have-lifejackets?</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><ol start="3">
<li>Simplify and identify any errors:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">eat-cheap</span> <span style="color:#000">hungry?</span> <span style="color:#000">money</span> <span style="color:#000">mcburger?</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&gt;</span> <span style="color:#000">money</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">hungry?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&lt;</span> <span style="color:#000">money</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">or</span> <span style="color:#000">mcburger?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">not</span> <span style="color:#000">mcburger?</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><ol start="4">
<li>
<p>Write the function <code>before-water?: string -&gt; boolean</code> that takes in
a string and determines if the string appears before the word
&ldquo;water&rdquo; in the dictionary.</p>
</li>
<li>
<p>Write the function <code>bookends?: string -&gt; boolean</code> that takes in a
string and produces true if the string appears before &ldquo;book&rdquo; or
after &ldquo;end&rdquo; in the dictionary.</p>
</li>
<li>
<p>Write a function <code>avoids-yellow?: image -&gt; boolean</code> that is true if
the image is neither a yellow square nor a yellow circle.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3d2b549f2395df37f719f33a400a7a27">6.6 - Ch13 Exercises</h1>
    
	<ul>
<li>Exercises: 13.3.{3-5}, 13.4.1</li>
<li>Exercises: 13.4.2, 13.5.1</li>
<li>Exercises: 13.7.{2-7}</li>
<li>Exercises: 13.7.{8-13}</li>
</ul>
<h2 id="review">Review</h2>
<p>Exercises that must be reviewed for understanding: 13.7.{7,9,12}.</p>
<p>Notes:</p>
<ul>
<li>13.7.7 <code>play-craps</code></li>
<li>13.7.9 <code>not-single-letter?</code></li>
<li>13.7.12 <code>is-not-red-square?</code></li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6ee83f2bf76147e653d276fb89fc3939">7 - 14. Booleans II</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-92a05027dea2638b67e3935f948d44c7">7.1 - 14. Essentials</h1>
    
	<ul>
<li>
<p><code>(check-with good-model?)</code></p>
</li>
<li>
<p><code>(stop-when game-over? win-draw-handler)</code></p>
</li>
</ul>
<h2 id="check-with">check-with</h2>
<p>The <code>check-with</code> clause verifies that each handler returns a valid
model. You need to provide the function <code>good-model? : Any -&gt; Boolean</code>. Write it yourself or use a built-in function like
<code>number?</code>.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">good-model?</span> <span style="color:#000">radius</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">number?</span> <span style="color:#000">radius</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&gt;=</span> <span style="color:#000">radius</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="stop-when">stop-when</h2>
<p>The <code>stop-when</code> clause stops the animation when your <code>game-over?</code>
function returns true. The last image shown is given by calling
<code>win-draw-handler: model -&gt; image</code>.</p>
<p>One typical is is to have your win draw handler call your regular
draw handler and overlay text (like &ldquo;Game Over&rdquo;) on the result.</p>
<p>In spite of the name I give it, <code>win-draw-handler</code> could draw a &ldquo;lose&rdquo;
screen as well.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">game-over?</span> <span style="color:#000">radius</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&gt;=</span> <span style="color:#000">radius</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">win-draw-handler</span> <span style="color:#000">radius</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span> <span style="color:#4e9a06">&#34;The End&#34;</span> <span style="color:#0000cf;font-weight:bold">36</span> <span style="color:#4e9a06">&#34;black&#34;</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">(</span><span style="color:#000">draw-handler</span> <span style="color:#000">radius</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="stop-with">stop-with</h2>
<p>The book mentions <code>stop-with</code>. We won&rsquo;t use that. Instead, change your
model to something &ldquo;impossible&rdquo; to indicate that you should stop. (For
example, use a negative radius&hellip; but don&rsquo;t forget to change your
<code>good-model?</code> function.)</p>
<p>Teacher reasoning:</p>
<ol>
<li>WeScheme does not support <code>stop-with</code>.</li>
<li>I have had problems in Typed Racket using <code>stop-with</code>.</li>
</ol>
<!--
3. This "out of band signalling" is magic. I don't observe 
   problems with students understanding "use an impossible value".
-->

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c65ee4a465930bc33f37b3c0b8a931b4">8 - 15. Conditionals</h1>
    <div class="lead">Making choices in Racket using &lsquo;cond&rsquo;.</div>
	<p>See slides for introductory material.</p>
<h2 id="exercise-notes--advice">Exercise Notes / Advice</h2>
<ul>
<li>
<p>15.3.4: The first input is the candidate for whom you are counting votes. (For example &ldquo;Clinton&rdquo;.) The next four inputs are votes cast for a person. (For example &ldquo;Trump&rdquo; &ldquo;Clinton&rdquo; &ldquo;Sanders&rdquo; &ldquo;Trump&rdquo;.) You are supposed to return the number of votes for the candidate from the first input. (For example: <code>1</code> in this case.)</p>
</li>
<li>
<p>15.3.7: Keep using <code>build-image</code> not <code>build3-image</code>.</p>
</li>
</ul>
<h2 id="assignments">Assignments</h2>
<h3 id="assignment-15a">Assignment 15.A</h3>
<p>Read the first three sections of Chapter 15. Do Exercises 15.3.{3,4}. These are on PDF page 223.</p>
<h3 id="assignment-15b">Assignment 15.B</h3>
<p>Exercises 15.3.{5-8}.</p>
<h3 id="assignment-15c">Assignment 15.C</h3>
<p>Exercises 15.5.{1,2,3,4,5}. These begin on PDF page 229.</p>
<h3 id="assignment-15d">Assignment 15.D</h3>
<p>Read 15.6 (&ldquo;Unnecessary conditionals&rdquo;). Skip Section 15.7.</p>
<p>Do Exercises 15.8.{2,3,5}. Exercise 15.5.6. These begin on the bottom of PDF page 238.</p>
<h2 id="images">Images</h2>
<p>See the <a href="/teaching--2021-2022/intermediate-cs/pro/build-image/">build-image</a> tutorial. Use that to do 15.3.3 and
15.3.{7-10}. Do not use <code>build3-image</code> even though the book says to use it. The <code>build-image</code> function is better.</p>
<h2 id="practice-quiz">Practice Quiz</h2>
<p>Get ready by doing <a href="15-practice-quiz">an old Chapter 15 quiz</a>.</p>
<h2 id="all">All</h2>
<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-slides/" >15. Slides</a></li></p>
<p>Day 1 Exercises</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-cond-patterns/" >15. Cond Patterns</a></li></p>
<p>Patterns with conditionals and build-image.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-challenge/" >15. Another Challenge</a></li></p>
<p>A beautiful image made with a conditional in build-image.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-graphing-review/" >15. Graphing Review</a></li></p>
<p>A review of graphing with people and computer coordinates.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-heatmap/" >15. Heatmap</a></li></p>
<p>Using cond to create a multi-segment heat map. Applying it to the graphing review.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-heat-contour/" >15. Heatmap with Contours</a></li></p>
<p>Color pixels based on values of a function. Put contour lines every 50 values.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-practice-all/" >15. Practice All</a></li></p>
<p>Do all of this work in a single Racket file. You need to turn this assignment in on classroom. You may attach your solution file or copy and paste the code as a private comment and mark the assignment complete.
Read Section 15.6 (Unnecessary conditionals) to review how to simplify. (PDF page 230ff.)
Note to book readers: I disagree with the author about section 15.7 (nested conditionals) so I suggest not reading it.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch15/15-practice-quiz/" >15. Practice Quiz</a></li></p>
<p>Practice quiz, adapted from a previous year.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-65d455a6eb0af3d9f533d6f5fa566539">8.1 - 15. Slides</h1>
    <div class="lead">Day 1 Exercises</div>
	<h1 id="hurts">Hurts?</h1>
<p><code>hurts?: boolean(hit) boolean(hard) -&gt; boolean</code></p>
<p>It only hurts if you get hit and the hit was hard.</p>
<hr>
<h1 id="care">Care</h1>
<p><code>care: boolean(injured) number(blood) -&gt; string</code></p>
<ul>
<li>&ldquo;ER&rdquo; if injured with more than 10 blood.</li>
<li>&ldquo;Urgent Care&rdquo; if injured but the amount of blood is between 5 and 10.</li>
<li>&ldquo;No&rdquo; if you are not injured or there is not much blood.</li>
</ul>
<hr>
<h1 id="red-blue">Red-Blue</h1>
<ol>
<li><code>(red-blue-1 n)</code> gives &ldquo;red&rdquo; if the number is less than 30,
otherwise &ldquo;blue&rdquo;.</li>
<li><code>(red-blue-2 xxx)</code> gives &ldquo;red&rdquo; 30% of the time and &ldquo;blue&rdquo; 70% of
the time.</li>
</ol>
<hr>
<h1 id="mystery-function">Mystery Function</h1>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">scrunch</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;</span> <span style="color:#000">x</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)</span>       <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span>     <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">/</span> <span style="color:#000">x</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)]))</span>
</span></span></code></pre></div><p>Give 3 examples what it does.</p>
<hr>
<h1 id="scrunch-sum">Scrunch Sum</h1>
<ul>
<li>Scrunch three numbers</li>
<li>Add the result</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">scrunch-three</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">12</span> <span style="color:#0000cf;font-weight:bold">40</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">=&gt;</span> <span style="color:#0000cf;font-weight:bold">26</span>
</span></span></code></pre></div><hr>
<h1 id="word-points">Word Points</h1>
<ul>
<li>Each word gets 2 points per letter.</li>
<li>Every word earns at least 7 points.</li>
<li>Find the total points earned by four words.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sum-points</span> <span style="color:#4e9a06">&#34;saw&#34;</span> <span style="color:#4e9a06">&#34;it&#34;</span> <span style="color:#4e9a06">&#34;workhorse&#34;</span> <span style="color:#4e9a06">&#34;betadyne&#34;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">=&gt;</span> <span style="color:#0000cf;font-weight:bold">48</span>
</span></span></code></pre></div><hr>
<h2 id="early-wake-up">Early Wake-Up</h2>
<p>Count the number of people who wake up before <code>cutoff-time</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">early-wake-up</span> <span style="color:#000">cutoff-time</span> 
</span></span><span style="display:flex;"><span>               <span style="color:#000">person-1-time</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000">person-2-time</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000">person-3-time</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f8a9865b5b7a99c187d6aebfc0496f34">8.2 - 15. Cond Patterns</h1>
    <div class="lead">Patterns with conditionals and build-image.</div>
	<p>Do all exercises with <code>build-image</code>. Use a width of 600 and a height
of 500. The exercises build in complexity - if you
can do the earlier ones, go on to the later ones.</p>
<ol>
<li>
<p>Solid red circle, center (100,200), radius 75. Background white.</p>
</li>
<li>
<p>Two circles in the same image:</p>
<ul>
<li>Solid red circle, center (100,200), radius 75.</li>
<li>Solid blue curcle, center (300,200), radius 85.</li>
</ul>
</li>
<li>
<p>Two overlapping circles, overlapping part is purple:</p>
<ul>
<li>Solid red circle, center (225,200), radius 75.</li>
<li>Solid blue curcle, center (300,200), radius 100.</li>
<li>Overlapping parts purple.</li>
<li>Everything else white.</li>
</ul>
 <figure>
     <img src="two-overlapping-circles.png"/> 
 </figure>
</li>
<li>
<p>Shrink the circles and add another layer.</p>
<ul>
<li>Red: center (225,200), radius 50.</li>
<li>Blue: center (300,200), radius 75.</li>
<li>Purple: overlap between red and blue.</li>
<li>Pink: center (225,200), radius 100.</li>
<li>Light blue: center (300,200), radius 125.</li>
</ul>
 <figure>
     <img src="circle-pattern-2.png"/> 
 </figure>
</li>
<li>
<p>Make the pattern repeat using <code>remainder</code>. You may want to modify
it so that the pink and blue overlapping area is another color.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-13f789128c6ca51871374c42c76da9c9">8.3 - 15. Another Challenge</h1>
    <div class="lead">A beautiful image made with a conditional in build-image.</div>
	


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">warning</h4>

    Make sure you have done the warm-up <a href="/teaching--2021-2022/intermediate-cs/ch15/15-cond-patterns/">conditional patterns</a> before this!

</div>

<ul>
<li>
<p>Pick two centers, say (300,150) and (310, 150).</p>
</li>
<li>
<p>Use a big 500x300 canvas.</p>
</li>
<li>
<p>Colors:</p>
<ul>
<li><em>magenta</em> when the distance to both centers is less than 15</li>
<li><em>red</em> when the distance to left point is less than 15</li>
<li><em>blue</em> when the distance to right point is less than 15</li>
<li><em>white</em> when the distance to either point is less than 30</li>
<li><em>gray</em> otherwise</li>
</ul>
  <figure>
      <img src="ripple-warmup.png"/> 
  </figure>
</li>
<li>
<p>Move the centers to (175,150) and (325, 150). Repeat the pattern by reducing
distances to less than 30 by using remainder.</p>
  <figure>
      <img src="ripple.png"/> 
  </figure>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-724b39094412471851b85bf9c8ad1cb8">8.4 - 15. Graphing Review</h1>
    <div class="lead">A review of graphing with people and computer coordinates.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>The graph of $f(x)=10 \cos(2x)$ is illustrated below in a window $-\pi
\le x \le 2\pi$ and $-15 \le y \le 15$. The graph uses a 400x200 grid
of computer pixels.</p>
<figure>
    <img src="simple-graph.png"/> 
</figure>
<ol>
<li>
<p>Fill in a diagram of what you have and what you need. Draw and
label arrows for the functions you have or will write.</p>
<table>
<thead>
<tr>
<th>x</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td>x-people</td>
<td>y-people</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>x-computer</td>
<td>y-computer</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Develop <code>xctxp</code>, the function that changes x-computer to x-people.</p>
<ul>
<li>Write a horizontal number line (the x-axis is horizontal) and label it with
both people and computer coordinates.</li>
<li>Write two check-expects.</li>
<li>Figure out the formula, possibly using <a href="https://wolframAlpha.com">Wolfram Alpha</a>.</li>
</ul>
</li>
<li>
<p>Do the same for the y-coordinates. Draw your number line vertical.
(The y-axis is vertical!)</p>
</li>
<li>
<p>Find the width of each quadrant. Do not be afraid of fractions!</p>
</li>
<li>
<p>Animate a red dot moving along the graph of the function
$y=f(x)$. Have the motion repeat when the dot reaches the right
side of the window.</p>
<p>You do not need to show the graph of the function.</p>
 <figure>
     <img src="result.gif"/> 
 </figure>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0e2cf0e9064ef6291875f7fa6b2c9b73">8.5 - 15. Heatmap</h1>
    <div class="lead">Using cond to create a multi-segment heat map. Applying it to the graphing review.</div>
	<p>The figure below is 100 pixels wide and 300 pixels tall. Each 100
pixel color segment is a color gradient.</p>
<figure>
    <img src="heatmap.png"/> 
</figure>
<table>
<thead>
<tr>
<th>y-coord</th>
<th>color</th>
<th>color value</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>blue</td>
<td>125</td>
</tr>
<tr>
<td>99</td>
<td>blue</td>
<td>224</td>
</tr>
<tr>
<td>100</td>
<td>green</td>
<td>125</td>
</tr>
<tr>
<td>199</td>
<td>green</td>
<td>224</td>
</tr>
<tr>
<td>200</td>
<td>red</td>
<td>125</td>
</tr>
<tr>
<td>300</td>
<td>red</td>
<td>225</td>
</tr>
</tbody>
</table>
<p>For example, when y=150, the color produced is <code>(make-color 0 175 0)</code>
because the color is supposed to be green when y is between 100 and 199.</p>
<ol>
<li>
<p>Write a function <code>heat-color: number(y) -&gt; color</code> that produces the
correct color.</p>
</li>
<li>
<p>Write a function <code>color-helper: number(x) number(y) -&gt; color</code> that
just calls the <code>heat-color</code> function to get the correct color.</p>
</li>
<li>
<p>Use <code>build-image</code> to create the 100x300 rectangle pictured above.</p>
</li>
<li>
<p><strong>Challenge</strong>. Modify your work on the <a href="/teaching--2021-2022/intermediate-cs/ch15/15-graphing-review/">graphing review</a> so that the background is colored based
on the distance a point (x,y) is from the graph of y=f(x).</p>
 <figure>
     <img src="vivrant.png"/> 
 </figure>
</li>
</ol>
<h2 id="sketch-of-the-challenge-solution">Sketch of the challenge solution</h2>
<ol>
<li>
<p>The idea is to use the <code>heat-color</code> function that we wrote earlier.</p>
<pre><code> (define (color-outline-1 xc yc)
   (heat-color (- yc (f xc)))
</code></pre>
<p>Unfortunately, <code>xc</code> is in computer coordinates, but <code>f</code> works only in
people coordinates, so we need to add our conversion functions.</p>
</li>
<li>
<p>Change the use of <code>f</code> to the <code>fc</code> version that works in computer coordinates.</p>
<pre><code> (define (fc x)
   (yptyc (f (xctxp x))))))
</code></pre>
</li>
<li>
<p>Sometimes we get negative values and decimals, so add a <code>fixer</code> and
use it in the <code>color-outline</code> function to fix the input to <code>heat-color</code>.</p>
<pre><code> (define (fixer v)
   (real-&gt;int (abs v)))
</code></pre>
</li>
<li>
<p>For more vivrant colors, multiply by two in the fixer (or modify the <code>heat-color</code> function).</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-738b91afd10ba67e02d8bc6f6b2b47ac">8.6 - 15. Heatmap with Contours</h1>
    <div class="lead">Color pixels based on values of a function. Put contour lines every 50 values.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>We are going to make a beautiful icy winter picture using that idea.</p>
<figure>
    <img src="astral.png"/> 
</figure>
<h2 id="outline">Outline</h2>
<p>We use a function of x and y to create a number. Use the number in a
heatmap function to produce a color. Build-image to make a picture
from this process.</p>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
<div class="mermaid">
graph LR;
  A[x-computer] --> B[x-people]
  C[y-computer] --> D[y-people]
  B --> E[function]
  D --> E
  E --> F[number]
  F --> |heatmap| G[color]
</div>

<p>When we draw, we will have conversion functions so we can draw in computer
coordinates and do math in people coordinates.</p>
<p>Some people found it confusing to
take in a single number to the heatmap function&hellip; just don&rsquo;t call the
input to your heatmap either x or y.</p>
<h2 id="decide-the-function">Decide the function</h2>
<p>The picture above is made using this function:</p>
<p>$$ f(x,y) = 325 \left( \sin(x) + \cos(x\cdot y /10) \right) $$</p>
<p>In Racket you would type the function:</p>
<pre><code>(define (f x y)
  (* 350 
     (+ (sin x)
        (cos (* x y 1/10)))))
</code></pre>
<h2 id="computer-coordinates-and-people-coordinates">Computer coordinates and people coordinates</h2>
<p>The picture above is a 600x600 computer coordinate window, with people
coordinates $-22.5 \le x \le 22.5$ and $-15 \le y \le 15$.</p>
<p>Create functions to change x and y computer coordinates to people
coordinates. Follow the process of making a number line, writing
check-expects, and then using a solver to get the equations.</p>
<p><strong>Note</strong>: For this project you will only need to change computer to
people coordinates.</p>
<h2 id="colorize-the-results">Colorize the results</h2>
<p>The function $f(x,y)$ above gives numbers from -600 to 600.</p>
<p>Use the ideas from the heatmap to use different colors for
different values. I made mine in three pieces:</p>
<table>
<thead>
<tr>
<th>value</th>
<th>color</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>blue 175</td>
</tr>
<tr>
<td>250</td>
<td>blue 250</td>
</tr>
<tr>
<td>251</td>
<td>green 1, blue 250</td>
</tr>
<tr>
<td>500</td>
<td>green 250, blue 250</td>
</tr>
<tr>
<td>501</td>
<td>red 1, blue 250</td>
</tr>
<tr>
<td>750</td>
<td>red 250, blue 250</td>
</tr>
</tbody>
</table>
<h2 id="contour-lines">Contour lines</h2>
<p>The picture at the top has little white areas every 75 units &mdash; check
to see if the value is close to a multiple of 75 and if so, make the
color white. These lines are called contour lines.</p>
<p>In a map, a contour line shows where the elevation is the same. In
math plots showing those type of lines are called contour plots.</p>
<figure>
    <img src="contour-lines.gif"/> 
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f71e734ef7f3219aa7fa13aa50c32f7d">8.7 - 15. Practice All</h1>
    
	<p>Do all of this work in a single Racket file. You <strong>need to turn this
assignment in</strong> on classroom. You may attach your solution file or
copy and paste the code as a <em>private</em> comment and mark the assignment
complete.</p>
<p>Read Section 15.6 (Unnecessary conditionals) to review how to
simplify. (PDF page 230ff.)</p>
<p>Note to book readers: I disagree with the author about section 15.7
(nested conditionals) so I suggest not reading it. If you need to put
conditionals inside of conditionals, make a helper function.</p>
<ol>
<li>Simplify:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mess-1</span> <span style="color:#000">in-bed?</span> <span style="color:#000">alarm-time</span> <span style="color:#000">clock-time</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">boolean=?</span> <span style="color:#000">in-bed?</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;</span> <span style="color:#000">clock-time</span> <span style="color:#000">alarm-time</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;sleep&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;wake up&#34;</span><span style="color:#000;font-weight:bold">])]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">boolean=?</span> <span style="color:#000">in-bed?</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>         <span style="color:#4e9a06">&#34;wake up&#34;</span><span style="color:#000;font-weight:bold">]))</span>
</span></span></code></pre></div><ol start="2">
<li>Simplify:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ice-danger?</span> <span style="color:#000">temp</span> <span style="color:#000">precipitation?</span> <span style="color:#000">salt?</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">boolean=?</span> <span style="color:#204a87">true</span> <span style="color:#000">precipitation?</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">boolean=?</span> <span style="color:#204a87;font-weight:bold">false</span> <span style="color:#000">salt?</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">not</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&gt;=</span> <span style="color:#000">temp</span> <span style="color:#0000cf;font-weight:bold">32</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><ol start="3">
<li>
<p>Book problem 15.5.1, page 218 (pdf page 229): <code>carpet-price</code>.</p>
</li>
<li>
<p>Book problem 15.5.2, page 218 (pdf page 229):
<code>digital-thermometer</code>.</p>
</li>
<li>
<p>Book problem 15.5.4 (<code>who-won</code>) and 15.5.5 (<code>4-votes-&gt;winner</code>),
page 219 (pdf page 230).</p>
</li>
<li>
<p>There are three circles of radius 150 drawn on a 500x500
background. The centers are red (250,325), green (175,175), and
blue (325,175). Make the area where circles overlap have all of the
colors from the circles, so where red and green overlap the color
is (make-color 255 255 0).</p>
 <figure>
     <img src="three-circ.png" width="200"/> 
 </figure>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5eb9083147ec6c1a7b411304fe247ccf">8.8 - 15. Practice Quiz</h1>
    <div class="lead">Practice quiz, adapted from a previous year.</div>
	<h2 id="review-concepts">Review Concepts</h2>
<ul>
<li>
<p>Design process (as always!). Signature, purpose, examples, function, check-expect.
Especially plan to use the design process when you can <strong>not</strong> write the function.</p>
</li>
<li>
<p>Helper functions as in: <code>count-votes-4</code>, <code>who-won</code>, <code>4-votes-&gt;winner</code>.
Note that repeated code is <em>not</em> full credit.</p>
</li>
<li>
<p>Decisions based on types of inputs (Section 15.8).</p>
</li>
</ul>
<h2 id="quiz-questions">Quiz Questions</h2>
<p>You may not consult any person or any old homework when taking this
quiz. You may consult the book and the Racket Help Desk without citing
them.</p>
<ol>
<li>
<p>Write a function short-between? that determines whether a word (string) is short (less than 6 letters) and also is alphabetically between &ldquo;good luck&rdquo; and &ldquo;quiz&rdquo; (inclusive). Ignore the case of the words. Spaces should get no special treatment just use the built-in behavior.</p>
</li>
<li>
<p>Define a function beautiful-gpa that takes in a grade point average, which is a decimal number between 0.00 and 6.00, and outputs an image of the that GPA number colored according to its value: at least 4.50 is green, 3.5&lt;=gpa&lt;4.5 is orange, 2.5&lt;=gpa&lt;3.5 is purple, 1.5&lt;=gpa&lt;2.5 is red, and below that range is dark magenta. Make sure it prints out cases like a GPA of 3.5 correctly.</p>
</li>
<li>
<p>The game tryhard.io offers you special in-game abilities that you can buy for in-game diamonds. The long-distance shooter costs 150 diamonds, the super fast speed costs 200 diamonds, and the teleporter costs 400 diamonds. If your subtotal is at least 450 diamonds, you take a 10% discount to find your total. If your subtotal is at least 600 diamonds you take a 20% discount to find your total. (You are only eligible for one discount.) Write a function that takes in three number parameters. These determine how many shooter, speed, and teleporter abilities you purchase. Your function outputs the total cost.</p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a15afecd1bb1187df28db96a65a64a26">9 - 17. Cond Animations</h1>
    <div class="lead">Use of conditionals in animations.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-81074f50ef782a8e423ef68b545b1402">9.1 - 17.C</h1>
    
	<h2 id="1-quick-quit">1. Quick Quit</h2>
<p>Make a 200x100 colored rectangle in the middle of a 300x200 scene.</p>
<p>When you click on the rectangle:</p>
<ol>
<li>the shape changes to a 200x100 ellipse</li>
<li>the animation stops</li>
</ol>
<p>Discuss:</p>
<ul>
<li>model</li>
<li>draw handler: how will you show the rectangle? the ellipse?</li>
<li>mouse handler</li>
</ul>
<p>Write two check-expects for the mouse-handler:</p>
<ul>
<li>click in the rectangle</li>
<li>click but not in the rectangle</li>
</ul>
<p>Then we write functions.</p>
<h2 id="2-random-shapes">2. Random Shapes</h2>
<p>Write an animation that will show randomly of these images:</p>
<ul>
<li>1 triangle,</li>
<li>2 squares,</li>
<li>3 circles, or</li>
<li>the word WIN
They should all be equally likely.</li>
</ul>
<p>In this part, the word WIN should just appear like the other choices.</p>
<p>The shape should change randomly every 0.5 seconds.</p>
<h2 id="3-elementary-school-shapes">3. Elementary School Shapes</h2>
<p>Modify to your random shapes animation.</p>
<p>When you hit the number key corresponding to the number of shapes you
see on the screen, you win.  Otherwise you lose.</p>
<p>Optional: Hitting a non-numbered key is ignored.</p>
<ul>
<li>Winning shows the &ldquo;win&rdquo; screen.</li>
<li>Losing: add some kind of &ldquo;that&rsquo;s not it&rdquo; screen.</li>
<li>When you win or lose, the animation quits.</li>
</ul>
<p>The &ldquo;win&rdquo; screen should not be one of the random choices.</p>
<p>Discussion:</p>
<ul>
<li>What model will you use?</li>
<li>How will you represent the &ldquo;win&rdquo; and &ldquo;lose&rdquo; states with your model?</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f17c0516777d83c35df5a320ffa74f86">9.2 - 17.D</h1>
    
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<p>This worksheet addresses a number of challenging
misconceptions. Read closely and consider you answers thoughtfully.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">keeper</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span> <span style="color:#4e9a06">&#34;Yes&#34;</span> <span style="color:#000">n</span> <span style="color:#4e9a06">&#34;blue&#34;</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#0000cf;font-weight:bold">400</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;transparent&#34;</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#0000cf;font-weight:bold">100</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">to-draw</span> <span style="color:#000">keeper</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><ol>
<li>What is the signature for the draw handler in the animation above?</li>
<li>Describe in words briefly how to interpret the model. (How do you
see changes visually.)</li>
<li>When the animation stops, you want to change the background color
to pink. Write the &ldquo;win screen draw handler&rdquo;.</li>
<li>The model is always supposed to be a number with absolute value
between 5 and 250. Write a function <code>a-ok?</code> to use in the
<code>check-with</code> clause of the big bang.</li>
<li>Anastasia wants hitting a key to change to a light pink background and
show &ldquo;No&rdquo;. What do you think about this idea? (See code below.) Explain.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ana</span> <span style="color:#000">model</span> <span style="color:#000">key</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span> <span style="color:#4e9a06">&#34;No&#34;</span> <span style="color:#000">model</span> <span style="color:#4e9a06">&#34;blue&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#0000cf;font-weight:bold">400</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;light pink&#34;</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><ol start="6">
<li>
<p>Amarga wants moving the mouse to the top right corner of the screen
to change the font size to 18 point. Write a <code>check-expect</code>
for the mouse handler <code>amarga-m</code>.</p>
</li>
<li>
<p>Amarga also wants moving the mouse to the middle right side of the
screen to change the font size to 50 point. Write a <code>check-expect</code>
that expresses this.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c966f51e265a092867666119612be233">9.3 - 17.E</h1>
    
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<p>This worksheet addresses a number of challenging
misconceptions. Read closely and consider you answers thoughtfully.</p>
<h2 id="expanations">Expanations</h2>
<p>You are given some information and asked about other
functions. Explain how to write the other functions or why the
situation is impossible.</p>
<ol>
<li>
<p>(Big Blue) Moving the mouse makes the blue circle increase its radius
by 5.</p>
<ol>
<li>Write the signature of the mouse handler <code>maus1</code>.</li>
<li>Write the draw handler.</li>
</ol>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">maus1</span> <span style="color:#000">n</span> <span style="color:#000">x</span> <span style="color:#000">y</span> <span style="color:#000">event</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><ol start="2">
<li>
<p>Using the setup from Big Blue above, the animation stops when the
circle&rsquo;s radius is at least 175.</p>
<ol>
<li>What is the signature of the stop-when handler&rsquo;s <code>should-stop?</code>
function.</li>
<li>Write the <code>should-stop?</code> function.</li>
</ol>
</li>
<li>
<p>(Small Orange) Moving the mouse reduces the orange circle to 95% of
its current size. You are given the draw handler is <code>draw2</code> below.</p>
<ol>
<li>Write the signature of the mouse handler <code>oshrink</code>.</li>
<li>Write the mouse handler.</li>
</ol>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">draw2</span> <span style="color:#000">mystery</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000">mystery</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">empty-scene</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><ol start="4">
<li>
<p>(Wide Green) Hitting a key makes the rectangle twice as wide as it
was. The draw handler <code>dhwg</code> and the key handler is <code>wg</code>
(below).</p>
<ol>
<li>Write the signature.</li>
<li>Make/describe a chart showing pressing the &ldquo;a&rdquo; key and then the &ldquo;b&rdquo;
key. Begin with an initial model of 40. What is the model after
hitting the &ldquo;a&rdquo; key? Then the &ldquo;b&rdquo; key? Is this animation going
to work ok?</li>
</ol>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">wg</span> <span style="color:#000">model</span> <span style="color:#000">key</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;green&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">dhwg</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rectangle</span> <span style="color:#000">model</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;green&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3021a95f6860818d63049f4630b713de">9.4 - Jan A</h1>
    
	<ol>
<li>How would you create this scene?</li>
</ol>
<figure><a href="ch17-jan-a.png">
    <img src="ch17-jan-a.png" width="300"/> </a>
</figure>
<h2 id="ellipse-width-animation">Ellipse width animation</h2>
<ol start="2">
<li>
<p>Make an animation where moving the mouse horizontally changes the
width of the ellipse. The ellipse width should be 0 when the mouse
is in the middle of the screen (x=250). See below for check-expects.</p>
<ul>
<li>When the mouse moves to x=400, y=75, the width of the ellipse
is 300. Write a check-expect.</li>
<li>When the mouse moves to x=250, y=120, the width of the ellipse
is 0. Write a check-expect.</li>
</ul>
</li>
</ol>
<h2 id="stopping-animation">Stopping animation</h2>
<p>Now add code so that clicking in the blue circle makes the animation
stop. We will do that by making the width negative when the animation
is supposed to stop.</p>
<ol start="3">
<li>
<p>Write a check-expect showing that when there is a button-down
event at (10,170), the width is -480.</p>
</li>
<li>
<p>Modify your mouse-handler so that clicking anywhere inside the blue
semicircle makes the width negative.</p>
</li>
<li>
<p>Create a <code>game-over?</code> function that returns true when the model is
negative.</p>
</li>
<li>
<p>Add a &ldquo;win screen&rdquo; that shows &ldquo;DONE&rdquo; on top of the regular scene.</p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2407f86c711ddaa126e20e5ccd5b40b6">10 - Sem.I Review</h1>
    <div class="lead">Review through Chapter 17. End of Semester I.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-638c48bdd7f03314d10b3d05d64e593e">10.1 - I.1 Semester I Review 1</h1>
    <div class="lead">Random shape. Drift to a new position. Reduce the amount of green.</div>
	<ol>
<li><strong>Random shape</strong>. Write a function that returns a square, circle, or triangle. All should be equally likely.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>random-shape: ignore -&gt; image
</span></span></code></pre></div><ol start="2">
<li><strong>Drift</strong>. A smiley face starts at some position on the screen. It randomly drifts 5 pixels in some direction (up, down, left, or right) every 0.2 seconds. Write the function that gives its new position.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>drift-to-new: posn(old) -&gt; posn(new)
</span></span></code></pre></div><ol start="3">
<li><strong>Reduce green</strong>. Write a function <code>less-green</code> that reduces the amount of green in a color by 25%.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>less-green: color -&gt; color
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4cb4fd7e541542f361bbc5fe28522d85">10.2 - I.2 Semester I Review 2</h1>
    <div class="lead">Random dots located on a circle, purify color, Benz symbol.</div>
	<ol>
<li>
<p>Random dots on a circle. Create an animation of a dot moving to one of six random locations on a circle. Ideally the locations will be equally spaced.</p>
<p>Advanced: use the x coordinate of the location to control the amount of red, and the y coordinate to control the amount of green.</p>
<p><a href="circle-6dots.rkt">Solution to basic</a>.</p>
</li>
<li>
<p><strong>Purify color</strong>. Given a color name, decide which component has the greatest color value and return it. In the case of a tie you can choose any of the tied values.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>purify-color: string(color-name) -&gt; string(&#34;red&#34; &#34;green&#34; or &#34;blue&#34;)
</span></span></code></pre></div><ol start="3">
<li><strong>Cheap Benz symbol</strong>. Write a function to create the image below. Then make an animation that lets you control the size of the image (e.g., right and left arrow keys).</li>
</ol>
<figure>
    <img src="benz.png"/> 
</figure>
<h2 id="extra">Extra</h2>
<ul>
<li><strong>Dotted Pentagon</strong>. The <code>dotted-pentagon</code> function puts a colored
dot on one of the five vertices of a regular pentagon. Challenge: the color of the dot is red, but fades&hellip;</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e6106113fd3eb513dc6bfe35f3dfe378">10.3 - I.3 Semester I Review 3</h1>
    <div class="lead">Practice: red-blue, spam-circle, rectangle limitations. Review reading.</div>
	<p>At home you may want to do some review reading and practice. You should be able to do review questions 1 and 2 in one day, and question 3 in a second day. Ask if you have questions!</p>
<h2 id="review-reading">Review Reading</h2>
<p>Reading the book and looking at old exercises is a very productive way to study. Struggling in Chapter 21 (new structures)?</p>
<ul>
<li>Read 21.5 (&ldquo;Functions returning user-defined structs&rdquo;) and do the exercises.</li>
<li>Read the extended example in 21.6 (moving-x).</li>
</ul>
<p>Other good chapters to read are: 20 (posn and color), and 17 (animations using cond).</p>
<h2 id="review-questions">Review Questions</h2>
<ol>
<li>
<p><strong>Red-blue</strong>. Standard dice have 6 sides, numbered 1 through 6. Play a game with a standard blue die and two standard red dice. The number of points you get is ten times the blue roll plus three times the sum of the other two. Except you get zero points if your red dice total 4. Design and test the <code>red-blue</code> function.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>red-blue: any(ignore) -&gt; number(points)
</span></span></code></pre></div><p><a href="red-blue-soln.rkt">Solution to red-blue.</a></p>
</li>
<li>
<p><strong>Spam-circle</strong>. Every time you click, a circle appears centered on
the mouse.  The color of the circle changes is red the first click,
green the second, blue the third, red the fourth, and so on. Choose one option:</p>
<ol>
<li>display one circle at a time</li>
<li>display all of the circles made so far</li>
</ol>
<p>Advanced variations:</p>
<ul>
<li>Enter resets the color to red.</li>
<li>The &ldquo;c&rdquo; key clears the screen.</li>
<li>After five seconds, the game quits.</li>
<li>When it quits, show how many circles the person currently has showing on the screen.</li>
</ul>
<p><a href="spam-circle.rkt">Solution to spam-circle.</a></p>
</li>
<li>
<p><strong>Rectangle Limitations</strong>.
This will take a while. As you work on it, keep the design process in mind. Have a signature, purpose, and tests for every function.</p>
<p>The animation: as you move the mouse on the screen, a small circle follows the mouse.</p>
<pre><code>+ At the start of the game, the circle is restricted to the rectangle 100&lt;=x&lt;=200 and 150 &lt;= y &lt;= 250. 

  That means that if the mouse is outside of that rectangle, the circle will stick to one of the rectangle's walls.
+ After t seconds, the circle can move in the larger rectangle 100-10t &lt;= x &lt;= 200+10t and 150-5t &lt;= y &lt;= 250 + 5t. 
+ After 10 seconds the animation ends.
</code></pre>
<p>Breakdown of the creation process:</p>
<ul>
<li>What model? Call it &ldquo;m&rdquo;. It should be able to remember three posns: upper left, lower right, and a point anywhere on the screen.</li>
<li>Design and test <code>m-set-pt: m(model) posn(new-point) -&gt; m(new-model)</code>&hellip; what should this function do? Look back at Chapter 21 Worksheets B and C if needed.</li>
<li>Design and test <code>limit-pt: posn(upper-left) posn(lower-right) posn(pt) -&gt; posn (new-pt)</code>. This function makes a point that stays on the edge of the rectangle if pt is outside of the rectangle. Otherwise it does not change pt.</li>
<li>Mouse-handler: remember the actual real position of the mouse.</li>
<li>Draw-handler: use <code>limit-pt</code> to put the current mouse coordinates into the rectangle defined by the upper-left and lower-right posns in the model, then draw a circle there.</li>
<li>Tick-handler: change the upper-left and lower-right posns by (10,5) in the correct direction (add or subtract).</li>
</ul>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-22dd4231cf386bb20298dab41d90652e">10.4 - I.4 Semester I Review 4</h1>
    <div class="lead">Analysis of functions - signatures and check-expects. Structure practice.</div>
	<p>Remember to practice writing check-expects for your functions, so you
have a way to make progress.</p>
<ol>
<li>
<p>Analyze the program segment below.</p>
<pre><code> (define initial &quot;large fluffy bunny&quot;)
 (define (f model) (+ 1 (string-length model)))
 (define (g model) (text model 25 &quot;black&quot;))
 (define (k model x y e) (string-append model x))
 (define (p model w) (substring model 1))
 (big-bang initial ...)
</code></pre>
<ol>
<li>Is <code>f</code> suitable for a tick handler? Explain.</li>
<li>What could <code>g</code> be used for?</li>
<li>Are either <code>k</code> or <code>p</code> suitable handlers? If so, for what?</li>
<li>Write a useful, correct <code>check-expect</code> for the function <code>p</code>.</li>
<li>Write a useful, correct <code>check-expect</code> for the function <code>k</code>.</li>
</ol>
</li>
<li>
<p>The <a href="https://www.mathsisfun.com/definitions/median.html">median</a> is
the middle number in a list of sorted numbers. Write the function
<code>median</code> that works for three numbers.</p>
<pre><code>     median: number number number -&gt; number
</code></pre>
<p>Writing tests is the most important part of this exercise.</p>
</li>
<li>
<p><strong>Structures</strong></p>
<ol>
<li>
<p>Make a structure <code>scn</code> that has fields for a string,
a color, and a number.</p>
</li>
<li>
<p>Create an example of your structure and put it in a variable.</p>
</li>
<li>
<p>Write a function that gets the number out of your structure
and adds one to it.</p>
<pre><code> sincr: scn -&gt; int
</code></pre>
</li>
<li>
<p>The <code>sdraw</code> function draws a circle with the given color, using
the number for the radius. Unless the string is <code>square</code>, in
which case draw a square in the same way.</p>
<pre><code> sdraw: scn -&gt; image
</code></pre>
</li>
<li>
<p>Write a function <code>scolor</code> that makes a new structure with the
given color, not changing any of the other fields.</p>
<pre><code> scolor: scn color(new) -&gt; scn
</code></pre>
</li>
<li>
<p>The <code>scat</code> function takes in two structures and combines them
by appending the strings and adding the numbers. The color of
the result will be the same as the first structure&rsquo;s color.</p>
<pre><code> scat: scn scn -&gt; scn
</code></pre>
</li>
</ol>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fdc4ba33f8bb7ccefa0006e81f13c129">10.5 - I.5 Semester I Review 5</h1>
    <div class="lead">The drifter animation that takes little or big steps while moving.</div>
	<h2 id="drifter">Drifter</h2>
<p><strong>Drifter</strong>. A circle moves around inside a rectangle. There are
two different modes of motion: small steps (activated by &ldquo;s&rdquo;) and
big steps (activated by &ldquo;b&rdquo;). The arrows let you move the circle.</p>
<p>Example: <code>s left left</code> moves two small steps left, then <code>b up right up</code> takes three big steps (up, right, and up in that order).</p>
<h2 id="extras-lite-review-questions">Extras: Lite Review Questions</h2>
<ol>
<li>
<p>Take a posn and a color. Give a new color that has:</p>
<ul>
<li>green = same as the original color</li>
<li>red = original red plus x value of posn</li>
<li>blue = original blue minus y value of posn</li>
</ul>
</li>
<li>
<p>Math-er: takes in three numbers <code>code</code>, <code>a</code>, and <code>b</code>, puts out one number:</p>
<ul>
<li>when code is 1, put out the sum of a and b</li>
<li>when code is 2, put out the positive difference between a and b</li>
<li>when code is any other number multiply a and b for the answer</li>
</ul>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4f06cbb063bb82afa1ffdc279f3f328a">10.6 - I.6 Semester I Review 6</h1>
    <div class="lead">Random numbers. Gas gauge. Graphing in people coordinates.</div>
	<h2 id="what-does-it-do">What does it do?</h2>
<p>Write check-expects.</p>
<ol>
<li>
<p>The <code>double-circle-img</code> function (abbeviate <code>dci</code>):</p>
<pre><code> (define (double-circle-image img)
   (image-width 
     (beside (circle 40 &quot;solid&quot; &quot;blue)
             img
             (circle 40 &quot;solid&quot; &quot;blue))))
</code></pre>
</li>
<li>
<p>Write and test a function <code>r2d</code> that returns a random two digit
number. There is a 40% chance of the number beginning with a 2 and
a 60% chance of it beginning with a 1. The ones digit should be
random.</p>
</li>
<li>
<p><strong>Gas gauge</strong>. You are making a <em>text</em> based gas gauge function.</p>
<pre><code> gas-gauge: number -&gt; string
</code></pre>
<ul>
<li>The readout result will be 16 X&rsquo;s when the tank is full, and then should O&rsquo;s
for the part that is empty. For example, half full is <code>&quot;XXXXXXXXOOOOOOOO&quot;</code>.</li>
<li>The gas tank can hold a maximum of 12 gallons.</li>
<li>When the tank is over half full, round the result, so 96% reads full.</li>
<li>When the tank is less than half full, always round down to avoid
suddenly running out of gas. (So 6% reads empty.)</li>
</ul>
</li>
<li>
<p><strong>Graphing</strong>. You are making an animation where a red circle
follows the people-coordinate graph of the function</p>
<pre><code> y = 1/600 * (x-200) * (x+200)
</code></pre>
<ul>
<li>Graphing window is 500x300.</li>
<li>Both x and y axes are visible.</li>
<li>People-coordinate origin is (250,150) in computer coordinates.</li>
<li>Positive y-axis for the graph is up.</li>
<li>As you move the mouse, the red point shows on the graph is
directly above/below your mouse.</li>
</ul>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-13d923a338dfeb56cb6682e70e140d40">10.7 - I.7 Semester I Review 7</h1>
    <div class="lead">Additional review exercises.</div>
	<p>This page contains additional review exercises.</p>
<h2 id="basic-spanish">Basic Spanish</h2>
<p>We will write a function to conjugate regular
verbs &ldquo;-ar&rdquo; and &ldquo;-er&rdquo; verbs according to the following chart. Use the
ending letters to decide how to categorize a given verb. We will only
consider the present and past tense (preterit) of the verbs.</p>
<table>
<thead>
<tr>
<th>Verb</th>
<th>Subject</th>
<th>Past?</th>
<th>Result is base +</th>
<th>Example (&ldquo;andar&rdquo;/&ldquo;correr&rdquo;)</th>
</tr>
</thead>
<tbody>
<tr>
<td>-ar</td>
<td>yo</td>
<td>false</td>
<td>-o</td>
<td>ando</td>
</tr>
<tr>
<td>-ar</td>
<td>yo</td>
<td>true</td>
<td>-Ã©</td>
<td>andÃ©</td>
</tr>
<tr>
<td>-ar</td>
<td>tu</td>
<td>false</td>
<td>-as</td>
<td>andas</td>
</tr>
<tr>
<td>-ar</td>
<td>tu</td>
<td>true</td>
<td>-aste</td>
<td>andaste</td>
</tr>
<tr>
<td>-er</td>
<td>yo</td>
<td>false</td>
<td>-o</td>
<td>corro</td>
</tr>
<tr>
<td>-er</td>
<td>yo</td>
<td>true</td>
<td>-Ã­</td>
<td>corrÃ­</td>
</tr>
<tr>
<td>-er</td>
<td>tu</td>
<td>false</td>
<td>-es</td>
<td>corres</td>
</tr>
<tr>
<td>-er</td>
<td>tu</td>
<td>true</td>
<td>-iste</td>
<td>corriste</td>
</tr>
</tbody>
</table>
<p>Signature:</p>
<pre><code>conjugar: string(verb-infinitive) 
          string(person) 
          boolean(past-tense?) 
          -&gt; string
</code></pre>
<p>Example:</p>
<pre tabindex="0"><code>(check-expect (conjugar &#34;correr&#34; &#34;tu&#34; true) 
              &#34;corriste&#34;)
</code></pre><p>Note: ignore accents.</p>
<p><strong>Too much?</strong> Try the simplified, present tense only function:</p>
<table>
<thead>
<tr>
<th>Verb</th>
<th>Subject</th>
<th>Result is base +</th>
<th>Example (&ldquo;andar&rdquo;/&ldquo;correr&rdquo;)</th>
</tr>
</thead>
<tbody>
<tr>
<td>-ar</td>
<td>yo</td>
<td>-o</td>
<td>ando</td>
</tr>
<tr>
<td>-ar</td>
<td>tu</td>
<td>-as</td>
<td>andas</td>
</tr>
<tr>
<td>-er</td>
<td>yo</td>
<td>-o</td>
<td>corro</td>
</tr>
<tr>
<td>-er</td>
<td>tu</td>
<td>-es</td>
<td>corres</td>
</tr>
</tbody>
</table>
<h2 id="placed-objects">Placed objects</h2>
<p>An <code>image-posn</code> is an image together with a posn.</p>
<ol>
<li><code>draw-it: ip image(background) -&gt; image</code></li>
<li><code>teleport: ip(shape1) ip(shape2) -&gt; ip(new-shape1)</code>: Produce a new <code>ip</code> whose image is the same as <code>shape1</code> but whose position is the same as <code>shape2</code>. This has the effect of moving shape1 on top of shape2.</li>
<li>Make an animation that remembers <em>two</em> images with their positions.</li>
<li>When you hit the &ldquo;t&rdquo; key, the first image teleports to the second image.</li>
<li>When you click the mouse, the first image jumps to the mouse&rsquo;s position.</li>
<li>The second image slowly moves left and up from its original position, maybe 6 pixels every 0.5 seconds.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-28586b0ce9fcb4a39b5ac6581e8df31c">10.8 - I.8 Semester I Review 8</h1>
    
	<ol>
<li>
<p>Make a 300x700 gradient that goes from &ldquo;MediumVioletRed&rdquo; at the top
to &ldquo;LimeGreen&rdquo; at the bottom. Include at least three check-expects.</p>
</li>
<li>
<p>Create a function <code>purple-ize: image -&gt; image</code> that takes in an
image and changes every pixel&rsquo;s color to the closest &ldquo;purple&rdquo;
color.</p>
<pre><code>Say purple is red and blue, so the nearest purple color
corresponds to whichever component has more.

Example: the nearest purple color to (220,50,80) is
(220,50,220), and the nearest purple color to (30,40,50) is
(50,40,50).
</code></pre>
</li>
</ol>
<p>Bonus: Animate a purple-izing circle of radius 20 that follows the
mouse around an image.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4504c3d4abae62c1f83b2d5e2d0757e7">10.9 - I.E Semester Review E</h1>
    
	<p>(Review from January 2022.)</p>
<p>We are writing an animation where you are supposed to click on a
random target color. Hitting a key gives you a new random color.</p>
<ol>
<li>
<p>The model is a number. When the number is 10, the &ldquo;target color&rdquo; is
red. When the model is 20, the target is green. Write a function
that randomly produces either 10 or 20.</p>
<pre><code> (define (random-target n)
     ...)
</code></pre>
</li>
<li>
<p>The image to make is a 300x150 rectangle. The left half is red. The
right half is green. There is text that explains &ldquo;Target: XXX&rdquo;,
depending on which color you are supposed to hit.</p>
</li>
<li>
<p>The mouse handler is going to add 100 to the model when the correct
color is clicked on, and 200 when the incorrect color is clicked
on. The mouse handler ignores events that are not clicks.</p>
</li>
<li>
<p>The game stops when you click on a color - either you win or you
lose. Display a &ldquo;W&rdquo; or an &ldquo;L&rdquo; on the side of screen that you
clicked on.</p>
</li>
</ol>
<h2 id="starter-code">Starter Code</h2>
<p>This starter code was not really necessary.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">picturing-programs</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">square</span> <span style="color:#0000cf;font-weight:bold">150</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-txt</span> <span style="color:#000">t</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span> <span style="color:#000">t</span> <span style="color:#0000cf;font-weight:bold">40</span> <span style="color:#4e9a06">&#34;black&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">R</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#4e9a06">&#34;red&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">G</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#4e9a06">&#34;green&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">gap</span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-color</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#0000cf;font-weight:bold">150</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">lose</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">scale</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-txt</span> <span style="color:#4e9a06">&#34;L&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000">gap</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">win</span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">scale</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-txt</span> <span style="color:#4e9a06">&#34;W&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000">gap</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">bg</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">beside</span> <span style="color:#000">R</span> <span style="color:#000">G</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="sample-images">Sample Images</h2>
<p>Target was green, clicked on green.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem-review-e/win-green.png"/> 
</figure>
<p>Target was green, clicked on red.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem-review-e/lose-green.png"/> 
</figure>
<p>Target was red, clicked on green.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem-review-e/lose-red.png"/> 
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e1b735863901203e025ce795ebc0098e">10.10 - I.F Semester Review F</h1>
    
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<p>Version 0.9</p>
<h2 id="paper-programming">Paper Programming</h2>
<!-- Pattern is not appropriate. Hard to see how to code even when 
you know the pattern of digit+next digit -->
<p>(Hard pattern; work with a group.)
We will work with a function <code>fa : number -&gt; number</code> whose purpose
is given by the check-expects below.</p>
<pre><code>        (check-expect (fa   1)  0)
        (check-expect (fa  10)  1)
        (check-expect (fa  67)  6)
        (check-expect (fa 100) 11)
        (check-expect (fa 167) 17)
        (check-expect (fa 259) 27)
        (check-expect (fa 1234) 135)
</code></pre>
<ol>
<li>What pattern do you see? Discuss!</li>
<li>Predict <code>(fa 1289)</code>.</li>
<li>Write a possible function <code>fa</code>.</li>
</ol>
<h2 id="model-picking-a">Model Picking A</h2>
<p>Explain the model to use.</p>
<p>A word shows on the screen. Hitting the &ldquo;a&rdquo; key shows &ldquo;apple&rdquo;, the
&ldquo;b&rdquo; key shows &ldquo;banana&rdquo;, the &ldquo;c&rdquo; key &ldquo;canteloupe&rdquo;. Hitting &ldquo;/&rdquo;
causes the animation to quit.</p>
<ol>
<li>What model would you choose?</li>
<li>Describe what your draw handler does (one sentence).</li>
<li>Write the function <code>ssw?</code> to use in the <code>stop-when</code> clause.</li>
</ol>
<h2 id="coding">Coding</h2>
<p>Focus: how do you do this coding with little repetition? Start by
writing it however you want and then reduce the repetition by making
more and more helper functions.</p>
<p>Six 100x100 squares are set in a row. Each has a number 11
through 16. When your mouse is in a box, the box number squared
shows. Otherwise just the box number shows.</p>
<p>Each box has a different color.</p>
<p>When you click in a box, that box turns pink and the animation
ends.</p>
<p>There is an <a href="https://youtu.be/EXRHmM4tMMA">accompanying video</a>.</p>
<h2 id="misc-tracing">Misc: Tracing</h2>
<h3 id="stepper">Stepper</h3>
<p>For this question, the order in which events occur is important, much
more than the final result.</p>
<ol>
<li>
<p>Considering only the steps taken in evaluating the definition of
<code>bg</code>, counting function calls as only one step, what are the third and
fourth steps?</p>
</li>
<li>
<p>Considering every substitution and step taken, list the first eight
steps.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-txt</span> <span style="color:#000">t</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">text</span> <span style="color:#000">t</span> <span style="color:#0000cf;font-weight:bold">40</span> <span style="color:#4e9a06">&#34;black&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">square</span> <span style="color:#0000cf;font-weight:bold">150</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#000">c</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">target*</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#4e9a06">&#34;red&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#0000cf;font-weight:bold">20</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#4e9a06">&#34;orange&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#0000cf;font-weight:bold">30</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#4e9a06">&#34;yellow&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#0000cf;font-weight:bold">40</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#4e9a06">&#34;green&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#4e9a06">&#34;blue&#34;</span><span style="color:#000;font-weight:bold">]))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">bg</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">beside</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">target*</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">target*</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">target*</span> <span style="color:#0000cf;font-weight:bold">30</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">target*</span> <span style="color:#0000cf;font-weight:bold">40</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mk-sq</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">target*</span> <span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><!--
(target* 10) -> expand target*, substitute n <- 10
(= 10 10) => true
"red"
(square 100 "solid" "red")
(target* 20) -> expand target* and substitute n<-20
(= 10 20) => false
(= 20 20) => true
"orange"
-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8b1bc4238c3d9a0b9feca04798869027">10.11 - Sem.1 Final</h1>
    <div class="lead">Final exam, Parts A and B.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<h2 id="part-a">Part A</h2>
<p>You are working in people coordinates to determine if a point is
inside this 200x100 shape.
People coordinates in this problem means $(0,0)$ in the lower left.
The rounded corners are quarters of radius
50 circles. There is an animation to demonstrate, but you do <em>not</em>
need to write the animation!</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem1final/final-bread-1.png"/> 
</figure>
<ol>
<li>Create this shape in DrRacket.</li>
<li>The purpose of <code>in-shape?: number(x) number(y) -&gt; boolean</code> is to
return true if the point (x,y) is inside this shape. Write:
<ol>
<li>Write a check-expect that returns true.</li>
<li>Write a check-expect that returns false even though the point
(x,y) is inside the rectangle with $0\le x \le 200$ and $0 \le
y \le 100$.</li>
</ol>
</li>
<li>Write the <code>in-shape?</code> function.</li>
</ol>
<h2 id="part-b">Part B</h2>
<ol>
<li>Simplify as much as possible.</li>
</ol>
<pre tabindex="0"><code>(define (clean-teeth? minutes-brushing toothbrush? sugar-toothpaste?)
  (and (boolean=? true toothbrush?)
       (and (boolean=? sugar-toothpaste? false)
            (boolean=? (not (&lt; minutes-brushing 2))
                        true))))
</code></pre><ol start="2">
<li>Identify the type of model and write the draw handler (only!). A
radius 10 solid red circle rotates around just inside the perimeter
of a solid yellow circle of radius 100. The red circle should be
able to follow the mouse around the circle.</li>
</ol>
<table>
<tr>
<td> 
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem1final/final-red-1.png" width="100"/> 
</figure>
  </td>
<td> 
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem1final/final-red-2.png" width="100"/> 
</figure>
 </td>
</tr>
</table>
<ol start="3">
<li>Make an animation that will show a given word until you click
again.</li>
</ol>
<ul>
<li>The background is 300x200.</li>
<li>Clicking on a 50x50 square the
lower right corner shows &ldquo;woof&rdquo;.</li>
<li>Clicking on the same sized square in
the lower left corner shows &ldquo;rowr&rdquo;.</li>
<li>Clicking anywhere else shows nothing (blank).</li>
</ul>
<p>The red dots below show where the clicks occurred.</p>
<table>
<tr>
<td> 
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem1final/final-speak-0.png" width="100"/> 
</figure>
 </td>
<td> 
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem1final/final-speak-1.png" width="100"/> 
</figure>
 </td> 
<td> 
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem1review/sem1final/final-speak-2.png" width="100"/> 
</figure>
 </td>
</tr>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0d5741899086f61b0084c990b271daf2">10.12 - Sem.I 2020 Review Notes</h1>
    
	<p>These notes refer to the <a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/">2019 review
guides</a>.</p>
<ul>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-topics-1/">Last Year&rsquo;s Topic
List</a>
is still very relevant. We did more with gradients and <code>build-image</code> this
year, so you should add that to the list.</p>
</li>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-1/">I.1 Review
1</a>:
All of these questions are relevant and were discussed this year.</p>
</li>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-2/">I.2 Review
2</a>:
All good.</p>
</li>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-3/">I.3 Review
3</a>:
Red-blue OK. Ignore reading. Others more complex.</p>
</li>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-4/">I.4 Review
4</a>:
Question 1 only.</p>
</li>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-5/">I.5 Review
5</a>:
&ldquo;Extras: Lite Review Questions&rdquo; only.</p>
</li>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-6/">I.6 Review 6</a>:
Graphing question is important. Others fine. Gas gauge tricky, not
emphasized this year.</p>
</li>
<li>
<p>I.7 Review 7: Skip.</p>
</li>
<li>
<p><a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/sem1review/sem-review-8/">I.8 Review
8</a>:
Question 1 good (gradient).</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-924ddc0767219b5674df1f2423187d28">10.13 - Semester Review Topics List</h1>
    <div class="lead">Major topics missed on Chapter 20 test: randomness, consistent signatures for big-bang, good testing.</div>
	<p>We have learned about randomness, writing consistent signatures for
big-bang, writing high quality tests, and how to limit numerical values.</p>
<h2 id="recent-major-topics">Recent major topics</h2>
<ul>
<li>
<p>Randomness</p>
<ul>
<li>Work with a non-random function first.
<ul>
<li>Non-random function has more parameters than random version.</li>
<li>Testable.</li>
</ul>
</li>
<li>Random function
<ul>
<li>Calls non-random function with random input.</li>
<li>Not usually tested.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Signatures / Big-Bang</p>
<ul>
<li>Information flow must be consistent</li>
<li>Write signatures for everything</li>
<li>Test everything individually</li>
<li>Use <code>check-with</code> to catch signature errors. (See below.)</li>
</ul>
</li>
<li>
<p>Testing</p>
<ul>
<li>Write two tests for each function.</li>
<li><strong>Especially</strong> when you do not know how to make it work! (Fight instinct to just hack.)</li>
<li>Use different numbers for each argument in a test. (Why is this important?)</li>
</ul>
</li>
</ul>
<h2 id="minor-topics">Minor Topics</h2>
<p>Still important enough to mention.</p>
<ul>
<li>
<p>Numerical functions that limit or convert values:</p>
<ul>
<li><code>min</code>, <code>max</code> to limit values</li>
<li><code>real-&gt;int</code></li>
<li><code>round</code>, <code>ceiling</code>, <code>floor</code></li>
</ul>
</li>
<li>
<p>People coordinates</p>
<ul>
<li>Changing to and from</li>
</ul>
</li>
<li>
<p>String functions.</p>
<ul>
<li><code>substring</code>: both the two and three argument versions.</li>
</ul>
</li>
</ul>
<h2 id="details-on-check-with">Details on check-with</h2>
<p>Example in <code>big-bang</code> is: <code>(check-with posn?)</code>.
<a href="/teaching--2021-2022/intermediate-cs/ch20/click-circle/">More in click-circle writeup</a>.
The <code>check-with</code> command is first introduced in Chapter 8, book page 137, PDF page 148.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-dbba681097e4231d18a95083eacf1bb8">11 - 20. Using Structures</h1>
    <div class="lead">Remembering or returning more than one thing. For example, coordinates.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-69bd00b88f494ed96063f27ec0dd26f1">11.1 - 20. Posn Util</h1>
    <div class="lead">Utility functions for posns. Accessing functions defined in other files.</div>
	<p>The functions in 20.5 are all useful later. When you do them, you should
save them in a file called <code>posn-util.rkt</code>. (Please use that name.)</p>
<p>The following functions should be in <code>posn-util.rkt</code>:</p>
<ul>
<li><code>posn=?</code>: posn posn -&gt; boolean. Are both positions exactly the same? (Both corresponding coordinates match.)</li>
<li><code>posn-add</code>: posn posn -&gt; posn. Add corresponding coordinates.</li>
<li><code>posn-sub</code>: posn posn -&gt; posn. Subtract corresponding
coordinates. First minus second.</li>
<li><code>posn-scale</code>: number posn -&gt; posn. Multiply both coordinates by the
same number.</li>
<li><code>posn-distance</code>: posn posn -&gt; number. The distance in the plane between
the points specified by the two posns.</li>
<li><code>place-image/posn</code>: image posn image(background) -&gt; image. Purpose:
Place one image at a given set of coordinates on a given background.</li>
<li>Anything else you want to have available for re-use. (Maybe from
physics or trig&hellip;)</li>
</ul>
<p>You should write tests for yourself. You are going to use these
functions for a month, so you do not want any mistakes. If you really
need them, you can see <a href="posn-tests.rkt">some tests I wrote</a>.</p>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">note</h4>

    You may download <a href="posn-util.rkt">my posn utilities file</a> if you write
your functions on paper instead of typing them. There is also a
<a href="https://www.wescheme.org/view?publicId=MGNsfDhQmk">WeScheme
posn-util</a>
published February 2021.

</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8506e45104fed045bbfce862c84c5483">11.2 - 20. Libraries</h1>
    <div class="lead">How to make a library of functions that you can use in other files.</div>
	<p>Use <code>require</code> and <code>provide</code> to make functions from one file available
in another file.</p>
<h2 id="require-and-provide">Require and provide</h2>
<p>Require loads functions from another file. Provide makes functions available for other files to load.</p>
<h3 id="require">Require</h3>
<p>In order to use the functions in another file, you need to <code>require</code> that file.
You already know <code>(require picturing-programs)</code> but when we use require
we need to give the whole filename.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#4e9a06">&#34;posn-util.rkt&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="provide">Provide</h3>
<p>The <code>provide</code> command makes functions available for other files to use.
One way to use it is to list all of the functions you want to allow
other files to use:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">provide</span> <span style="color:#000">posn-add</span> <span style="color:#000">posn-sub</span> <span style="color:#000">posn-scale</span> <span style="color:#000">posn-distance</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>Sometimes you just want to make every function in the file available.
There is a shortcut to do that:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">provide</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">all-defined-out</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3f783b27763f9e7e9651cc9d4f36bef6">11.3 - 20. Troubleshoot</h1>
    <div class="lead">Things that can go wrong using libraries.</div>
	<p>This troubleshooting guide is focused on using <code>posn-util.rkt</code>.</p>
<h3 id="problems">Problems</h3>
<h4 id="save-your-posn-util-in-your-cs-folder">Save your posn-util in your CS folder</h4>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">warning</h4>

    You need to save your work in the same folder as your &ldquo;posn-util.rkt&rdquo; file, since Racket only looks in the current folder for other files.

</div>

<p>This has been the source of a lot of issues:</p>
<ul>
<li>Verify that the folder you save in is &ldquo;Documents&rdquo; and not &ldquo;Downloads&rdquo;.</li>
<li>If you are not asked where to save, the file probably ended up in
Downloads. Go there and drag the file to where you actually want it.</li>
</ul>
<h4 id="name-the-file-carefully">Name the file carefully</h4>
<p>Downloading the Racket file, one can end up with a file that has two
suffixes (one of them is invisible). If <code>(require &quot;posn-util.rkt&quot;)</code>
does not work, try <code>(require &quot;posn-util.rkt.rkt&quot;)</code>. If that works,
delete the extra <code>.rkt</code>.</p>
<p>Sometime people have <code>posn.util.rkt</code> instead. Use the official filename.</p>
<h4 id="download-the-file">Download the file!</h4>
<p>You need to actually download the code for <code>posn-util</code>. If you get the
error below, you should open up your <code>posn-util.rkt</code> file and check to
make sure that it has several hundred lines of code in it.</p>
<pre><code>standard-module-name-resolver: cycle in loading
</code></pre>
<h4 id="save-your-work-first">Save your work first</h4>
<p>Racket will not find your posn-util until you save your work in the
same folder as the <code>posn-util.rkt</code> file. If you work is &ldquo;Untitled&rdquo;, it
is not saved and <code>require</code> will not find the library.</p>
<h4 id="provide-error">Provide error</h4>
<p>When <code>(require picturing-programs)</code> is commented out on the first
line, you get this error:</p>
<pre><code>provide: this function is not defined
</code></pre>
<p>Fix: uncomment the first line.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e1b1a9819b6f7eda1602918ac0cc068e">11.4 - 20. Posn Math</h1>
    <div class="lead">A three page worksheet on doing conceptual math with posns.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>The <a href="posnmath-20D.pdf">posn math worksheet</a> starts with the ideas on a
number line (1 dimension) and then changes over to working with posns
(2 dimensions).</p>
<p>The important ideas are:</p>
<ul>
<li>Posns work a lot like numbers on the number line. Know the analogies
(below).</li>
<li>Think $+$ and $-$ even if you have to say <code>posn-add</code> and
<code>posn-subtract</code>.</li>
<li>Distance from the origin on the number line is <code>abs</code>; in 2d use
<code>posn-length</code>.</li>
<li>Adding $A+B$ takes a point at $A$ and moves it in direction $B$.</li>
<li>Subtracting $-B+A$ or $A-B$ finds the motion from $B$ to $A$. Experiment to
understand why the $B$ has the minus sign not the $A$.</li>
</ul>
<p>Pacing: expect to be able to do and discuss the first two pages in
about 45 minutes.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-57100c2d6c0a03bbacd1c54269142c51">11.5 - 20. Posn Math Programming</h1>
    <div class="lead">Mathy exercises with posns.</div>
	<ol>
<li>
<p>Write a function <code>slope-posn</code> that takes in a posn and
gives the slope of
the line through (0,0) and the posn.</p>
<pre><code> slope-posn : posn -&gt; number
</code></pre>
</li>
<li>
<p>Write a function <code>perp?</code> that takes in two posns each being
(change in x,
change in y) - like above - and returns true if they represent
slopes of perpendicular lines.</p>
<pre><code> perp? : posn posn -&gt; boolean
</code></pre>
</li>
<li>
<p>Write <code>on-line?</code> that determines if a posn is on a line given in
<code>y=mx+b</code> form.</p>
<pre><code> on-line?: number(m) number(b) posn -&gt; boolean
</code></pre>
</li>
<li>
<p>Write a function <code>posn-unit</code> that takes in a posn and puts out
the posn with each coordinate divided by the distance the input
posn is from the origin. For example, the point (3,4) is 5 units
from the origin, so the output should be (3/5,4/5).</p>
<pre><code> posn-unit : posn -&gt; posn
</code></pre>
</li>
</ol>
<p>You should write your own check-expects, but there are a few to <a href="20-intro-checkexpect">test
your code</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-171407d938732ab96112a68aaa0ee4b1">11.6 - 20. Click Circle</h1>
    <div class="lead">A circle moves around the screen randomly. You win if you can click on it.</div>
	<p>Exercises 20.6.3 and 20.6.4.</p>
<ul>
<li>
<p>A circle moves to a random position on the screen every so often. (20.6.3)</p>
</li>
<li>
<p>Clicking on the circle displays a win screen. (20.6.4) Note: I recommend using a special <code>posn</code> as the model to indicate when to display the win screen.</p>
</li>
</ul>
<h2 id="check-with">check-with</h2>
<p>The clause <code>(check-with posn?)</code> makes sure that every handler returns a posn.
You should add this clause to your big-bang whenever you work with posns.
Colors have a similar check, <code>color?</code>.</p>
<h2 id="stop-when">Stop-when</h2>
<p>There is a new clause in <code>big-bang</code> called <code>stop-when</code>. It works like the <a href="stop-when.rkt">linked demo code</a>. The <code>big-bang</code> looks like this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-tick</span> <span style="color:#204a87">add1</span> <span style="color:#0000cf;font-weight:bold">0.1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-draw</span> <span style="color:#000">draw-num</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">stop-when</span> <span style="color:#000">above-ten?</span> <span style="color:#000">draw-done</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>The <code>above-ten?</code> method takes in a model and produces a boolean value. The big-bang stops if this function returns true.</p>
<p>The <code>draw-done</code> method is a draw handler called when to produce the last frame of the animation - regarless of why the big-bang is ending.</p>
<h2 id="impossible-state-trick">Impossible State Trick</h2>
<p>One way to decide that an animation is over is to change the model to something that is impossible under regular circumstances. For example, a posn with negative coordinates could not be created by the mouse-handler under normal circumstances, so it could be used to indicate that the animation should end.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">MODEL-END-IT</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-1001</span> <span style="color:#0000cf;font-weight:bold">999</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">stopping?</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn=?</span> <span style="color:#000">model</span> <span style="color:#000">MODEL-END-IT</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="notes">Notes</h2>
<ul>
<li>
<p>Never place randomness in the draw handler. The draw handler can be called lots more frequently than you imagine (for example, when you drag the window and it needs to redraw).</p>
</li>
<li>
<p>Your model should not be an image any more. Use a better model.</p>
</li>
<li>
<p><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html">Complete big-bang documentation</a> so you can look up any unusual keys or functions that you need. For example: <code>button-down</code>.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b6f75fefc78458abc8193d7b712233af">11.7 - 20. Click Circle Questions</h1>
    <div class="lead">Brief explanation of how to stop animations and show a win screen.</div>
	<p>Main questions about the click circle project (20.6.4):</p>
<h2 id="stopping-an-animation">Stopping an animation</h2>
<table>
<thead>
<tr>
<th>Stop condition</th>
<th>How?</th>
</tr>
</thead>
<tbody>
<tr>
<td>user action</td>
<td>return <code>(stop-with model)</code> from a handler</td>
</tr>
<tr>
<td>model state</td>
<td><code>(stop-when ...)</code> in big-bang</td>
</tr>
</tbody>
</table>
<h2 id="win-screen">Win screen</h2>
<p>Question: How do you make a win screen show?</p>
<p>Answer: There are three steps:</p>
<ol>
<li>Write a <code>win-draw-handler</code> function.</li>
<li>Write a <code>should-stop?</code> function. This is a technical annoyance.
For now this can do nothing:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">should-stop?</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><ol start="3">
<li>Add a <code>(stop-when should-stop? win-draw-handler)</code> clause to
your <code>big-bang</code>.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a3fd1a8b78df629c9598db01947af822">11.8 - 20. Click Mega</h1>
    
	<p><strong>Challenge</strong></p>
<p>Keep track of a score of how many circles have been clicked since the
last time you missed a circle.</p>
<p>This will require a posn inside another posn.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6c0e58aaed8b3d2490c3fd9f3dc8da8d">11.9 - 20. Silly Square</h1>
    <div class="lead">A simply silly &lsquo;game&rsquo; to practice win conditions.</div>
	<ul>
<li>A little square randomly drifts around the screen.</li>
<li>You win if you hit the &ldquo;w&rdquo; key.</li>
<li>Hitting the &ldquo;r&rdquo; key moves the square back to its starting position.</li>
<li>When you win, some win screen appears and the animation stops.</li>
</ul>
<p>Items to practice:</p>
<ul>
<li><code>stop-when</code> clause in big bang</li>
<li>win screen draw-handler</li>
</ul>
<p>Extras:</p>
<ul>
<li>You lose if you hit the &ldquo;q&rdquo; key.</li>
<li>Also win if you click on the square.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f4106eb4f0f151018f3292bc82de22fc">11.10 - 20. Tightrope</h1>
    <div class="lead">A square changes color as you balance between two circles.</div>
	<ul>
<li>
<p>There are two unmoving blue circles on the screen.</p>
</li>
<li>
<p>You can move a square with the mouse.</p>
</li>
<li>
<p>Square color is:</p>
<ul>
<li>Green if the distance from the square to circle 1 and the distance from the square to circle 2 are within 20 of each other.</li>
<li>Red otherwise.</li>
</ul>
</li>
</ul>
<p>Some people had trouble understanding this description. In a computer-like language:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>a = distance from square to circle 1
</span></span><span style="display:flex;"><span>b = distance from square to circle 2
</span></span><span style="display:flex;"><span>green if a and b are within 20 of each other
</span></span></code></pre></div><p>Write:</p>
<ol>
<li>Model</li>
<li>The function <code>square-color: model -&gt; color</code>.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-be5e5ca728b3e53656c0dc3fa8f8a537">11.11 - 20. Click Rectangle</h1>
    <div class="lead">Click on the rectangle and it moves to a new position.</div>
	<p>This animation uses a posn to give the location of the <em>lower left
corner</em> of a 60x40 rectangle on a 300x200 background. There is a red
dot drawn to show the location of the &ldquo;anchor&rdquo; in the lower left
corner of the rectangle.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/click-rect/click-rect-1.png"/> 
</figure>
<h2 id="aside-why-the-lower-left">Aside: Why the lower left?</h2>
<p>We are using the lower left corner so we can get practice dealing with
anchor points that are not the center. For a rectangle working with
the lower left makes it a little bit harder, but for a triangle
working with the center is a <em>lot</em> harder than working with the lower
left corner. We practice slightly unusual situations to make sure we
have a good understanding of <em>why</em> we do each part of the program.</p>
<h2 id="helper-function-1-placer">Helper function 1: placer</h2>
<p>There is a helper function you should make.</p>
<p>Write the function <code>place-image/posn/LL</code>, which places an image so the
lower left corner is on the given posn.</p>
<pre><code>place-image/posn/LL : image(img) posn image(bg) -&gt; image
</code></pre>
<h2 id="helper-function-2-random-posn">Helper function 2: random-posn</h2>
<p>Our rectangle jumps to random positions, so we use a function for
that. We are going to make it so that the whole rectangle is visible
on the scree. (You don&rsquo;t want just a tiny strip showing; that looks
weird and can be annoying to click on.)</p>
<p>When you want to keep the entire rectangle on the screen, what
coordinates can you use for the lower left corner? If you are not
sure, go through the checklist:</p>
<h3 id="extreme-small">Extreme: small</h3>
<ul>
<li>What is the smallest possible x?</li>
<li>What is the smallest possible y?</li>
</ul>
<p>Draw a rectangle in this lower left position and label the coordinates.</p>
<h3 id="extreme-large">Extreme: large</h3>
<ul>
<li>What is the largest possible x?</li>
<li>What is the largest possible y?</li>
</ul>
<p>Draw a rectangle with this lower left position and label the coordinates.</p>
<h3 id="main-function">Main function</h3>
<p>After you have worked out the extremes, writing the <code>random-posn</code>
function should be straightforward - just pick numbers between the
allowed extremes.</p>
<pre><code>random-posn : any (ignore) -&gt; posn
</code></pre>
<h2 id="draw-handler">Draw Handler</h2>
<p>Draw a 60x40 rectangle so the model posn is in the lower left corner of the rectangle.
Draw small a red dot exactly centered on the model posn.
A 300x200 background works pretty well.</p>
<h2 id="coordinates-and-helper-function-2">Coordinates and helper function 2</h2>
<p>As always, you have the choice of people coordinates (origin in the
lower left) or computer coordinates (origin in the upper
right). Neither one is 100% straightforward.</p>
<ul>
<li>
<p>Computer coordinates: make sure you carefully work out an example
and then write check-expects for functions that use coordinates.</p>
</li>
<li>
<p>People coordinates: there are two places the switch between people
and computer coordinates needs to occur - in the draw handler
(people to computer) and in the mouse handler (computer to people).</p>
</li>
</ul>
<p>These instructions will use computer coordinates.</p>
<p>Use the figure below to write a check-expect for <code>in-rectangle?</code> that
shows that point P is inside the rectangle anchored by point A.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/click-rect/Rectangle-Example-2.jpg" width="500"/> 
</figure>
<pre><code>; in-rectangle? : posn(anchorA) posn(pt) -&gt; boolean
(check-expect (in-rectangle? ...finish...) true)
</code></pre>
<p>Finish writing the check-expect and the <code>in-rectangle?</code> function.</p>
<h2 id="mouse-handler">Mouse Handler</h2>
<p>The purpose of the mouse handler is to cause the rectangle to jump to
a new location when it is clicked on. The function does this by giving
a new random position for the model in that case.</p>
<h2 id="final-check">Final Check</h2>
<p>Run your animation. Click around in random places both on and off
the rectangle to make sure it works.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a3788813e67b80abed909a253be4c6f4">11.12 - 20. Chase</h1>
    <div class="lead">A simple game where a square chases the mouse.</div>
	<p>In this animation, a 20x20 square moves toward the mouse whenever the
mouse does something. If the square touches the mouse, then the game
is over.</p>
<ul>
<li>model</li>
<li>what model will we use to indicate that the game is over?</li>
<li>draw handler</li>
<li>stop-when: decide when the game is over</li>
<li>lose screen draw handler: put &ldquo;game over&rdquo; on the screen</li>
</ul>
<h2 id="square-moves-toward-the-mouse">Square moves toward the mouse</h2>
<p>You want the square to move toward the mouse, but not too fast or
nobody will want to play the game.</p>
<p>Ideas:</p>
<ul>
<li>When you add posns A + B, that moves posn A in direction B</li>
<li>When you want to limit your motion, scale the motion posn so that
its length is (say) 5.</li>
</ul>
<h3 id="basic-we-will-make-the-120-of-the-distance-chase">Basic: we will make the &ldquo;1/20 of the distance&rdquo; chase</h3>
<p>The <code>next-change</code> function will tell how to adjust the current
position of the square based on the goal position of the mouse.</p>
<pre><code>next-change: posn(goal) posn(current) -&gt; posn
</code></pre>
<h3 id="advanced-make-the-speed--3-chase">Advanced: make the &ldquo;speed = 3&rdquo; chase</h3>
<p>A variation on this is to make the square chase the mouse at a
&ldquo;constant speed&rdquo; of 3 pixels every mouse motion. This done by making
a helper function <code>scale-to-3: posn -&gt; posn</code> that adjusts the posn so
its length is always 3 (assume the posn is not (0,0)).</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fe71f277cf2809e08b5153c317e154ed">11.13 - 20. Map Image</h1>
    <div class="lead">Changing the colors in a picture, pixel by pixel.</div>
	<p>The <code>map-image</code> command runs a function on every pixel of an image. See the <a href="https://docs.racket-lang.org/picturing-programs/index.html?q=map-image#%28def._%28%28lib._picturing-programs%2Fprivate%2Fmap-image..rkt%29._map-image%29%29">map-image documentation</a> for the official info.</p>
<h2 id="exercises-for-map-image">Exercises for map-image</h2>
<ol>
<li><code>blue-only</code>: Keep only the blue, removing red and green.</li>
<li><code>black-white</code>: Turn an image to black and white. You will need to decide how to set the threshold.</li>
<li><code>grayscale</code>: Turn an image to grayscale.</li>
<li><code>green-to-white</code>: Change only green pixels to white.</li>
</ol>
<h2 id="color">Color</h2>
<p>There are several logical ways of combining the red, green, and blue components to get one number. The most common is averaging, but it is not the only way.</p>
<ol>
<li>Average the numbers.</li>
<li>Use the maximum of the numbers.</li>
<li>Use the minimum of the numbers. (?!)</li>
<li>Other unusual math methods like the geometric mean.</li>
</ol>
<h2 id="extras">Extras</h2>
<p>Make the function <code>color-distance: color-&gt;color</code>, which measures the distance between two colors in the same way that <code>distance</code> measures the distance between two posns.</p>
<p>The formula for color distance would be:</p>
<pre tabindex="0"><code class="language-math" data-lang="math">(square root of (r1-r2)^2 + (g1-g2)^2 + (b1-b2)^2)
</code></pre><p>Your <code>color-distance</code> function can be used to change colors <em>near</em> green to white, so you don&rsquo;t have to have perfect green to see it work.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c8059548a3df952304b8d640a12a6c85">11.14 - 20. Color Enhancing</h1>
    <div class="lead">One exercise working with color.</div>
	<p>Write a function that takes a color and does the following:</p>
<ul>
<li>cut the amount of red in half</li>
<li>leave green the same</li>
<li>double the amount of blue</li>
</ul>
<p>Start using the design process - write a signature, then examples
showing how each number changes. What possibly troublesome cases
should appear in your examples?</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cd9a094f9ec38eb24c037300d24944b7">11.15 - 20. Review</h1>
    <div class="lead">Review questions on posn and color.</div>
	<p>Write checks and follow the design process as you write these functions.</p>
<ol>
<li>
<p>Move to parabola. Input any point, output a point on the graph of <code>y=x^2</code>.
Find the output point by moving vertically up or down from the input point until you reach the graph of <code>y=x^2</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"></code></pre></div></li>
</ol>
<p>to-parabola: posn(initial) -&gt; posn</p>
<pre tabindex="0"><code>
    If you have time, make an animation that shows a gray circle where the mouse is and then connects that via a gray line to a blue circle on the parabola. You can use [my 400x400 parabola image](bg-parabola.png) to see the whole parabola. (Read the [code I used to make the parabola](parabola-maker.rkt) if you want.)

     If you want to see an upward facing parabola in people coordinates,
you should use the formula below:

    ```racket
(define (f x)
        (+ 200 (* -1/200 (- x 200) (- x 200))))
</code></pre><ol start="2">
<li>
<p>Input a color, output a new color.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"></code></pre></div></li>
</ol>
<p>mix-color: color -&gt; color</p>
<pre tabindex="0"><code>
    * output red is twice the input amount of green
    * output green is the average of the input red, green, and blue
    * output blue is 50 units less than half of the red input

3. **Hot-Cold**. Take in a posn and output a color. The color will depend on the distance of the point from (100,200). 

    * distance &lt; 100: pure red
    * distance &gt; 355: pure yellow
    * in between: red is  255 minus distance, green is distance minus 100, blue is 0
   
    ```text
hot-cold: posn -&gt; color
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-92169a6171619c5cf5467bd202585242">11.16 - 20. Ball Driving</h1>
    <div class="lead">Move the ball around the screen with a little control panel. Win when you get inside the target.</div>
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/intro/" >1. Intro</a></li></p>
<p>You move a little ball around the screen by positioning your mouse inside the control center in the upper right corner of the screen. The position of the mouse relative to the &ldquo;origin&rdquo; of the axes in the control center detemines which way the ball will move (and how far).
Motion is caused by mouse-events, so the ball does not move unless you are moving or clicking the mouse.
When the ball is entirely inside the target circle, the game is over and you win.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/starter-code/" >2. Starter Code</a></li></p>
<p>Starter code so everyone begins from the same spot.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/controls/" >3. Controls</a></li></p>
<p>The basics of the control grid in the upper right.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/motion/" >4. Motion</a></li></p>
<p>Actually moving the point according to the mouse position in the control grid.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/end-game/" >5. End Game</a></li></p>
<p>The game ends when the ball is completely inside the target.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/animation/" >6. Animation</a></li></p>
<p>The functions to use with big-bang: draw handler, mouse handler.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-52f61972d72ffc776a679acc7be61d47">11.16.1 - 1. Intro</h1>
    
	<p>You move a little ball around the screen by positioning your mouse
inside the control center in the upper right corner of the screen. The
position of the mouse relative to the &ldquo;origin&rdquo; of the axes in the
control center detemines which way the ball will move (and how far).</p>
<p>Motion is caused by mouse-events, so the ball does not move unless you
are moving or clicking the mouse.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/intro/ball-driving-1.png"/> 
</figure>
<p>When the ball is entirely inside the target circle, the game is over
and you win.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/intro/ball-driving-2.png"/> 
</figure>
<p>See the <a href="https://youtu.be/3TDP4qwqxVU">walkthrough video on YouTube</a> for a live version.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2a75935d997a3c07900d02fca683de37">11.16.2 - 2. Starter Code</h1>
    <div class="lead">Starter code so everyone begins from the same spot.</div>
	<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">picturing-programs</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#4e9a06">&#34;posn-util.rkt&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">Q1</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">square</span> <span style="color:#0000cf;font-weight:bold">25</span> <span style="color:#4e9a06">&#34;outline&#34;</span> <span style="color:#4e9a06">&#34;black&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">Q2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">beside</span> <span style="color:#000">Q1</span> <span style="color:#000">Q1</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">Q4</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">above</span> <span style="color:#000">Q2</span> <span style="color:#000">Q2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">BG0</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">empty-scene</span> <span style="color:#0000cf;font-weight:bold">400</span> <span style="color:#0000cf;font-weight:bold">300</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">BALL</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">circle</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;red&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">TARGET</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">circle</span> <span style="color:#0000cf;font-weight:bold">15</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;white&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">(</span><span style="color:#000">circle</span> <span style="color:#0000cf;font-weight:bold">25</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;pink&#34;</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; we wrote random-posn. pick a posn if that does not work</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">TARGET-POSN</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">random-posn</span> <span style="color:#0000cf;font-weight:bold">400</span> <span style="color:#0000cf;font-weight:bold">300</span><span style="color:#000;font-weight:bold">))</span> 
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9f01b3d2cb4265909572ab98c1bf3b17">11.16.3 - 3. Controls</h1>
    <div class="lead">The basics of the control grid in the upper right.</div>
	<h2 id="3-active-controls">3. Active controls?</h2>
<p>We will write a function to determine if a point is in the control grid.</p>
<h3 id="3a-center-coordinates">3a. Center coordinates</h3>
<p>What are the coordinates of the center of the Q4 control grid?</p>
<h3 id="3b-check-expects">3b. Check expects</h3>
<p>Write two check-expects, one showing a point that is not the
center is inside the grid, and another showing a point that is outside
the grid.</p>
<h3 id="3c-in-control-grid">3c. In control grid?</h3>
<p>Write the function <code>in-control-grid? : posn -&gt; boolean</code></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-877a6b2814f7524db86d596d33fc568e">11.16.4 - 4. Motion</h1>
    <div class="lead">Actually moving the point according to the mouse position in the control grid.</div>
	<p>Motion is a combination of helper functions:</p>
<ul>
<li><code>compute-push</code></li>
<li><code>limit-motion</code></li>
<li><code>move-ball</code></li>
</ul>
<h3 id="4a-compute-push-helper">4a. Compute Push Helper</h3>
<p>Signature: <code>compute-push-h: posn(mouse-pos) posn(origin-pos) -&gt; posn</code></p>
<p>Given the coordinates of the mouse and the (control center) origin,
determine how the position of the ball should change.</p>
<p>Use the position of the mouse in the &ldquo;control center&rdquo; axes to
determine the motion.
When then mouse is 2 pixels to the right and 5 pixels
above the &ldquo;origin,&rdquo; the ball should move 2 pixels to the right and 5 up.</p>
<h3 id="4b-limit-motion">4b. Limit Motion</h3>
<p>Signature: <code>limit-motion: posn(p) -&gt; posn</code></p>
<p>Do not let the x or y coordinates move outside the screen (in either a
positive or negative direction). We used to do this all of the time
for numbers.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit-motion</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">405</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">400</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit-motion</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-5</span> <span style="color:#0000cf;font-weight:bold">80</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">80</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit-motion</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">135</span> <span style="color:#0000cf;font-weight:bold">-8</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">135</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit-motion</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">187</span> <span style="color:#0000cf;font-weight:bold">315</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">187</span> <span style="color:#0000cf;font-weight:bold">300</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit-motion</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">285</span> <span style="color:#0000cf;font-weight:bold">193</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">285</span> <span style="color:#0000cf;font-weight:bold">193</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h3 id="4c-move-ball">4c. Move Ball</h3>
<p>Signature: <code>move-ball: posn(ball-pos) posn(mouse-pos) -&gt; posn</code></p>
<p>Now put this all together to create a function that takes in the
position of the ball and the mouse, and puts out the new ball
position.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-00da32600fae14ac553d5a2a5582374b">11.16.5 - 5. End Game</h1>
    <div class="lead">The game ends when the ball is completely inside the target.</div>
	<p>You win the game by moving your ball completely inside the white part
of the target.</p>
<table>
<tr>
<td style="text-align: center">
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/end-game/not-win.png"
         alt="This game is not won yet."/> <figcaption>
            <p>This game is not won yet.</p>
        </figcaption>
</figure>
</td>
<td style="text-align: center">
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/ball-driving/end-game/yes-win.png"
         alt="Winning position."/> <figcaption>
            <p>Winning position.</p>
        </figcaption>
</figure>
</td>
</table>
<h3 id="5a-win-help">5a. Win-help?</h3>
<p>Signature: <code>win-help? : posn(ball-pos) posn(target-pos) -&gt; boolean</code></p>
<p>This function is testable. Ideally you would write tests for it&hellip; but
here are some.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; ball radius 5, target inner radius 15</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">win-help?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">15</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">win-help?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">9</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">win-help?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">103</span> <span style="color:#0000cf;font-weight:bold">129</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">100</span> <span style="color:#0000cf;font-weight:bold">124</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="5b-win">5b. Win?</h3>
<p>Signature: <code>win? : posn(ball-pos) -&gt; boolean</code></p>
<p>The work for the <code>win?</code> function is already done, you just need to put
it together.</p>
<h3 id="5c-win-screen">5c. Win Screen</h3>
<p>Signature: <code>win-screen: posn(ball-posn) -&gt; image</code></p>
<p>Adding a win screen is optional. You would only do this after you
finished the draw handler.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5a1fee53a7417832355a599fea9385dc">11.16.6 - 6. Animation</h1>
    <div class="lead">The functions to use with big-bang: draw handler, mouse handler.</div>
	<p>Actually making the animation requires a draw handler and a mouse
handler. You will have to write those.</p>
<h2 id="draw-handler">Draw Handler</h2>
<ul>
<li>Create a background that includes the target and the controls.</li>
<li>Draw the ball at the position indicated by the model.</li>
</ul>
<p><code>draw-h: posn(model) -&gt; image</code></p>
<h2 id="mouse-handler">Mouse Handler</h2>
<p>When the mouse is inside the control grid, the ball should
move. Otherwise nothing happens.</p>
<h2 id="big-bang">Big Bang</h2>
<p>This is what my <code>big-bang</code> looks like.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-with</span> <span style="color:#000">posn?</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">stop-when</span> <span style="color:#000">win?</span> <span style="color:#000">win-screen</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-draw</span> <span style="color:#000">draw-h</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-mouse</span> <span style="color:#000">mouse-h</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-76234351ffd5005d789a3b6d1a872dbe">11.17 - 20. Quiz C</h1>
    
	<h2 id="solar-jump-i">Solar Jump I</h2>
<p>You will see a red dot and a black dot, both radius 10.</p>
<ul>
<li>
<p>Randomly place a black dot. Randomize every time you run the
code. It does not need the ability to move during a single run.</p>
</li>
<li>
<p>The red dot jumps to your mouse when you click.</p>
</li>
<li>
<p>Hit &ldquo;d&rdquo; to double the distance between the centers of the black dot
and the red dot. The red dot should move directly away from the
black dot in this motion.</p>
</li>
<li>
<p>Hit &ldquo;s&rdquo; to shrink the distance between the <em>edges</em> of the black dot
and the red dot to be 30 pixels. The red dot should move directly
toward/away from the black dot during this motion.</p>
</li>
</ul>
<h2 id="solar-jump-ii">Solar Jump II</h2>
<p>In addition to the actions above:</p>
<ul>
<li>Hitting any other key moves the orange dot on top of the red dot.</li>
<li>When the red dot moves, the orange dot stays in its previous
location. There is a line connecting the red dot to the orange
dot.</li>
</ul>
<p>Solar Jump II requires more than a single (x,y) coordinate for a model.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-679298e30f0d82562d742d67b79602c7">11.18 - 20. Quiz D</h1>
    
	<p>The 300x200 screen is split into two regions:</p>
<ul>
<li>A yellow quarter-circle of radius 190, centered on the upper left
corner.</li>
<li>A light blue on the remainder of the rectangle.</li>
</ul>
<p>Clicking places a solid circle of radius 10.</p>
<ul>
<li>Inside the yellow, the placed circle is red.</li>
<li>On top of the light blue, the placed circle is blue.</li>
</ul>
<p>Hitting space bar (<code>&quot; &quot;</code>) causes the circle to move, depending on the
location of the circle:</p>
<ul>
<li>A red circle moves halfway from its current position to the upper
left corner.</li>
<li>A blue circle moves 1/3 of the way from its current position to the
lower right corner.</li>
</ul>
<p>A blue line segment protrudes 10 pixels past the edge of the blue
circle, pointing directly at the lower right corner no matter where
the circle is.</p>
<table>
<tr>
<td>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/ch20-quiz-d/blue-dot-1.png" width="150"/> 
</figure>
</td>
<td>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/ch20-quiz-d/blue-dot-2.png" width="150"/> 
</figure>
</td>
</tr>
</table>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch20/ch20-quiz-d/red-dot-1.png" width="150"/> 
</figure>
<p><a href="https://youtu.be/And0Dq0ueSQ">Demonstration video</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5abb893893ea1c9e5aa6b0b3580b4b1d">11.19 - Advanced: Aimbooster</h1>
    <div class="lead">A simplified aim-and-click practice.</div>
	<p>In this animation you copy <a href="https://aimbooster.com">AimBooster.com</a>,
but simplified so you can make it with what you know from Chapter 20.</p>
<ul>
<li>A single circle is at a random place.</li>
<li>Radius increases.</li>
<li>Clicking on the circle gives you points inversely proportional to
the radius (maybe 100/radius).</li>
<li>When the circle is hit, it disappears and another starts growing.</li>
<li>When the circle reaches a certain radius it disappears.</li>
<li>After missing three circles, the game is over.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9a262f25e4df862e8425735186dc05b3">11.20 - Troll Quiz Practice</h1>
    <div class="lead">A simple example of something you should be able to do.</div>
	<ul>
<li>You control a star, move four directions with the arrow keys.</li>
<li>The goal is a stop sign in a random non-moving location.</li>
<li>Game stops when your star drives into the stop sign.</li>
<li>Win screen appears.</li>
<li>Hit &ldquo;q&rdquo; to quit. Shows &ldquo;quitter&rdquo; instead of &ldquo;you win&rdquo;.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4b522a02066f6370bdb4f4dbdd9a5555">11.21 - </h1>
    
	<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">slope-posn</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">8</span> <span style="color:#0000cf;font-weight:bold">15</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#0000cf;font-weight:bold">8/15</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">perp?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">-3</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">perp?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">6</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-line?</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">23</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-line?</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">21</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-unit</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3/5</span> <span style="color:#0000cf;font-weight:bold">4/5</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-unit</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">12</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5/13</span> <span style="color:#0000cf;font-weight:bold">12/13</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-32c7c13089603efc09d369cbfe06e8ff">12 - 21. Structures</h1>
    <div class="lead">More than one piece of information in one variable, generalizing posn and color.</div>
	<ul>
<li><a href="https://docs.google.com/document/d/1rGTwl1WN44YQaUNVknxikijdFVd1LDu6ptu-pd7mhVU/edit?usp=sharing">Chapter 21 Reading Guide</a>.</li>
</ul>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">note</h4>

    All worksheets: make sure to test your code in DrRacket.

</div>

<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch21/pv-intro/" >21. PV Intro</a></li></p>
<p>Slides with introduction to position-velocity struct exercises.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch21/pv-tick-handler/" >21. Two Actions, One Tick</a></li></p>
<p>Combining actions into one big tick handler.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch21/moving-ball/" >Moving Ball</a></li></p>
<p>Drive a ball around the screen with a constant velocity.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch21/speed-typer/" >Speed Typer</a></li></p>
<p>Type the word on the screen as fast as you can.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch21/agar-io/" >Agar.io</a></li></p>
<p>One player, one food Agar.io clone.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ccb680abb58f6020aabc436f1887fc6d">12.1 - 21. PV Intro</h1>
    <div class="lead">Slides with introduction to position-velocity struct exercises.</div>
	<h2 id="pick-a-model">Pick a model</h2>
<ul>
<li>A ball moves around the screen.</li>
<li>It keeps going in the direction it starts.</li>
<li>What could the model be?</li>
</ul>
<hr>
<h2 id="define-the-model">Define the model</h2>
<p>Keep the names short; we will type them a lot.</p>
<hr>
<h2 id="define-the-model-1">Define the model</h2>
<p>Keep the names short; we will type them a lot.</p>
<pre><code>(define-struct pv (pos vel))
</code></pre>
<hr>
<h2 id="example-needed">Example needed</h2>
<p>Create a <code>pv</code> structure called <code>ex1</code>.</p>
<ul>
<li>Position <code>(100,50)</code></li>
<li>Velocity <code>(-5,8)</code></li>
</ul>
<hr>
<h2 id="sketch">Sketch</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-pv</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>		 <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#0000cf;font-weight:bold">-30</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><hr>
<h2 id="update-pos">update-pos</h2>
<ul>
<li>Write <code>update-pos: pv -&gt; pv</code>.</li>
<li>Use velocity to change position, one time step.</li>
</ul>
<hr>
<h2 id="scale-velocity">scale-velocity</h2>
<ul>
<li><code>scale-velocity: pv(orig) num(scale) -&gt; pv</code></li>
<li>Multiply both x and y components of velocity of <code>orig</code> by <code>scale</code>.</li>
</ul>
<hr>
<h2 id="turn-180">turn-180</h2>
<p>What would this mean? Sketch first.</p>
<hr>
<h2 id="bouncing-off-walls-1">Bouncing off walls 1</h2>
<p>Should you bounce off of a wall?</p>
<p>Sketch three true and three false.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000">should-bounce-r?</span> <span style="color:#000">:</span> <span style="color:#000">pv</span> <span style="color:#000">num</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">xwall</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">-&gt;</span> <span style="color:#000">boolean</span>
</span></span></code></pre></div><p>The wall on the right is at <code>x=xwall</code>.</p>
<hr>
<h2 id="bouncing-off-walls-2">Bouncing off walls 2</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000">should-bounce-r?</span> <span style="color:#000">:</span> <span style="color:#000">pv</span> <span style="color:#000">num</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">xwall</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">-&gt;</span> <span style="color:#000">boolean</span>
</span></span></code></pre></div><p>The wall on the right is at <code>x=xwall</code>.</p>
<p>Now actually write the function.</p>
<hr>
<h2 id="bouncing-off-walls-3">Bouncing off walls 3</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000">bounce-r-velocity:</span> <span style="color:#000">pv</span> <span style="color:#204a87;font-weight:bold">-&gt;</span> <span style="color:#000">posn</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">new-velocity</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>Given that you bounced, what should your new velocity be?</p>
<p>Draw a sketch!</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c148196515ad5637657c2a9ec7a0bf67">12.2 - 21. Two Actions, One Tick</h1>
    <div class="lead">Combining actions into one big tick handler.</div>
	<p>We will start by a using an analogy to talk about doing multiple actions in one tick handler.</p>
<h2 id="math-analogy">Math Analogy</h2>
<p>Suppose you have two functions, <code>f</code> and <code>g</code>. The <code>f</code> function takes
its input, multiplies by three, and adds one. The <code>g</code> function takes
its input, squares it, and subtracts 9. Make a new <code>h</code> function that
takes it input, multiplies by 3, adds one, then squares the answer and
subtracts 9.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">f</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">g</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">sqr</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">9</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><ul>
<li><a href="math-soln-1">Solution 1 - typical but long</a>.</li>
<li><a href="math-soln-2">Solution 2 - much better</a>.</li>
</ul>
<h2 id="big-bang">Big-bang</h2>
<p>You can combine two tick-handler actions into one by using &ldquo;function composition&rdquo;:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">; first-action: model -&gt; model</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">; second-action: model -&gt; model</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">; tick-handler: model -&gt; model</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tick-handler</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">second-action</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">first-action</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><p>Try combining the ball bouncing and ball moving actions in this way.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bd86bc2e2431247b6d4b696921006d14">12.3 - Moving Ball</h1>
    <div class="lead">Drive a ball around the screen with a constant velocity.</div>
	<p>We practice the basics of structures by creating an animation where
you can direct a ball to move around the screen.</p>
<ul>
<li>Use WASD keys to control the ball.</li>
<li>Once you pick a direction, the ball continues to move in that
direction at the same speed until you tell it a different
direction.</li>
<li>The game is over when the ball leaves the screen.</li>
</ul>
<h2 id="planning">Planning</h2>
<ul>
<li>We used a structure holding the position and velocity of the ball.</li>
<li>We listed the handlers we needed.</li>
<li>We wrote check-expects as a class.</li>
</ul>
<h2 id="writing">Writing</h2>
<p>Using the starter code from class, it took less than a day to get a
working animation.</p>
<h2 id="advanced-features">Advanced Features</h2>
<ul>
<li>Bounce off walls.</li>
<li>Keys control accelerate the ball in a given direction instead of
just setting the velocity. (So when the velocity was (5,0) and
you hit the left arrow, it would slow to a velocity of (4,0).)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f0af65eccd69f8c2f9eb444c175dac2d">12.4 - Speed Typer</h1>
    <div class="lead">Type the word on the screen as fast as you can.</div>
	<p>You are going to create a typing game - type a given word as fast as you
can.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch21/speed-typer/speed-type.png" width="200"/> 
</figure>
<p>We will keep track of the word, the letters typed so far, and the time
that has passed since the start of the game.</p>
<h2 id="planning">Planning</h2>
<ul>
<li>We decided on the kind of  structure we wanted for a model.</li>
<li>We listed all of the functions and what they were going to do.</li>
<li>We wrote check-expects as a class.</li>
</ul>
<p>You should find check-expects shared on the Google Classroom after we
have written them.</p>
<h2 id="writing-tips">Writing Tips</h2>
<ul>
<li>Please write a signature and purpose for each function.</li>
<li>Use the &ldquo;inventory&rdquo; strategy to figure out the structure of your
function.</li>
<li>Test one case of a conditional and be sure it works before
continuing on to write more.</li>
<li>Never leave your code in a state where you cannot &ldquo;run&rdquo;. Without
frequent feedback from the computer it will be <em>extremely</em> difficult
to get the program to work.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2bef6813c9a4f58a710734fa01fa492a">12.5 - Agar.io</h1>
    <div class="lead">One player, one food Agar.io clone.</div>
	<p>I hope you know the game Agar.io. A circle moves around the screen toward
the mouse. There is a &ldquo;food&rdquo;. When the circle touches (eats) the food, the food disappears and the circle gets larger. The food reappears in a random location.</p>
<p>Starter code: <a href="agar-io-checks.rkt">agar-io.rkt</a></p>
<p>Advanced:</p>
<ul>
<li>As the circle gets larger, it moves more slowly.</li>
<li>When the mouse is further from the center of the circle, it moves more quickly.</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-029b44d7937371c46641f895d4215827">13 - 22a. Recursion</h1>
    <div class="lead">Recursion lets you solve a problem by solving simpler problems.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-5d0dfdc936bf8c832825779345325f6f">13.1 - 22a. Learn Recursion</h1>
    <div class="lead">Important ideas to help you learn recursion.</div>
	<p>Review this list once you have learned enough recursion to find
discovering patterns and debugging difficult.</p>
<ul>
<li>
<p>Write a sequence of related examples.</p>
<p>Related examples mean that the larger ones build off the smaller
ones. For example, <code>(f 1234)</code> and <code>(f 123)</code> are related. <code>(f 4321)</code> is not related to the other two.</p>
</li>
<li>
<p>Digit patterns should grow in the ones place. See helpful
vs. unhelpful in the <em>Common Errors</em>.</p>
</li>
<li>
<p>Identify a pattern using concrete cases before converting to an
unknown &ldquo;N&rdquo;.</p>
<p><strong>Examples</strong></p>
<pre><code>  (f 5) = 1^2 + 2^2 + 3^2 + 4^2 + 5^2
  (f 6) = 1^2 + 2^2 + 3^2 + 4^2 + 5^2 + 6^2
</code></pre>
<p><strong>Find Pattern</strong></p>
<pre><code>  (f 5) = (f 4) + 5^2
  (f 6) = (f 5) + 6^2
  ... ok I get it ...
  (f N) = (f N-1) + N^2
</code></pre>
</li>
<li>
<p>Use mathematical notation, not computer notation, while thinking
about your pattern.</p>
</li>
</ul>
<h2 id="advice">Advice</h2>
<p>These are common pieces of advice I find myself repeating over and
over.</p>
<ul>
<li>
<p>Have faith that if you put
a clear pattern on a paper in front of you, your brain will discover it.</p>
<p>Human brains are great at finding patterns. Writing
<em>related</em> examples helps you see the pattern. Staring at code does
not.</p>
</li>
<li>
<p>Program only <em>after</em> you have a clear pattern statement. Programming
before you see a pattern is guessing, and frustrating.</p>
</li>
<li>
<p>The simpler the example, the easier it is to debug.</p>
<p>When something goes wrong, find the simplest, smallest example and
investigate it. For example, if you observe that your grid generator
does not work when rows=5 and columns=4, continue to investigate;
pehaps you will also discover that it does not work with rows=1 and
columns=1 - which is much easier to debug.</p>
</li>
</ul>
<h2 id="common-errors">Common Errors</h2>
<ul>
<li>
<p>Not arranging number examples in a helpful way. Place value matters. Align
digits with the same place value.</p>
<p>Helpful alignment:</p>
<pre><code>  	  1
  	 13
  	135
     1357
    13579
</code></pre>
<p>Unhelpful alignment:</p>
<pre><code>  1
  13
  135
  1357
  13579
</code></pre>
</li>
<li>
<p>Digit patterns that grow in the left side (&ldquo;most significant digit&rdquo;)
are more difficult to program than patterns that grow on the right
side (&ldquo;ones digit&rdquo;).</p>
<p>Simple pattern: the place value of the new digit is always &ldquo;ones&rdquo;.</p>
<table>
<thead>
<tr>
<th style="text-align:right">N</th>
<th style="text-align:right">Pattern</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">2</td>
<td style="text-align:right">10*N+4</td>
</tr>
<tr>
<td style="text-align:right">24</td>
<td style="text-align:right">10*N+6</td>
</tr>
<tr>
<td style="text-align:right">246</td>
<td style="text-align:right">10*N+8</td>
</tr>
<tr>
<td style="text-align:right">2468</td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
<p>Challenging pattern: the place value of the new digit changes:
&ldquo;tens&rdquo;, &ldquo;hundreds&rdquo;, and then &ldquo;thousands&rdquo;.</p>
<table>
<thead>
<tr>
<th style="text-align:right">N</th>
<th style="text-align:right">Pattern</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">8</td>
<td style="text-align:right">N + 60</td>
</tr>
<tr>
<td style="text-align:right">68</td>
<td style="text-align:right">N + 400</td>
</tr>
<tr>
<td style="text-align:right">468</td>
<td style="text-align:right">N + 2000</td>
</tr>
<tr>
<td style="text-align:right">2468</td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="memorizing">Memorizing</h2>
<p>Some patterns are worth memorizing. Decide if you need to make a study
guide and memorize these.</p>
<ul>
<li>Get the ones digits of a number.</li>
<li>Get number which is everything except the ones digit.</li>
<li>How to reassemble the number 1234 from 123 and 4.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b96f8371df7033e08f8a64ee046822a8">13.2 - 22a. Fibonacci</h1>
    <div class="lead">Introduction to recursion using Fibonacci numbers.</div>
	<h2 id="fibonacci">Fibonacci</h2>
<p>1,1,2,3,5,8,&hellip;</p>
<ol>
<li>What are next three?</li>
<li>How to number them?</li>
</ol>
<hr>
<h2 id="fibonacci-1">Fibonacci</h2>
<table>
<thead>
<tr>
<th>n</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr>
<td>fib(n)</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>5</td>
<td>8</td>
<td>13</td>
</tr>
</tbody>
</table>
<p>fib(8) = ?</p>
<hr>
<h2 id="fibonacci-2">Fibonacci</h2>
<p>Where does it start?</p>
<p><code>fib(0) = 1</code></p>
<p><code>fib(1) = 1</code></p>
<p>Pattern?</p>
<p><code>fib(102) = ?</code></p>
<hr>
<h2 id="fibonacci-3">Fibonacci</h2>
<p>Write the function <code>(fib n)</code>.</p>
<p>Use a conditional.</p>
<hr>
<h2 id="fibonacci-4">Fibonacci</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">fib</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span> <span style="color:#204a87;font-weight:bold">...</span> <span style="color:#000;font-weight:bold">]))</span>
</span></span></code></pre></div><hr>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9eefef1e69d495226c56c44db5f25a95">13.3 - 22a. Digits</h1>
    <div class="lead">Counting the digits in a number.</div>
	<h2 id="number-of-digits">number of digits</h2>
<p><code>num-digits</code>: whole-number -&gt; number</p>
<p>Returns how many digits in the number.</p>
<hr>
<h2 id="number-of-digits-1">number of digits</h2>
<ul>
<li>Use conditional.</li>
<li>Base: answer of 1</li>
</ul>
<hr>
<h2 id="number-of-digits-2">number of digits</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">num-digits</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span> <span style="color:#204a87;font-weight:bold">...</span> <span style="color:#000;font-weight:bold">]))</span>
</span></span></code></pre></div><hr>
<h2 id="number-of-digits-3">number of digits</h2>
<ul>
<li>Use conditional.</li>
<li>Base: answer of 1</li>
<li>Else: one more than &hellip;</li>
</ul>
<hr>
<h2 id="number-of-digits-4">number of digits</h2>
<p>Trick:</p>
<ul>
<li><code>(quotient number 10)</code> has one fewer digit</li>
</ul>
<hr>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ae21ff872f845acf455f4e9318aeec8c">13.4 - 22a. Sum Digits</h1>
    <div class="lead">Sum the digits in a number.</div>
	<p><code>sum-digits</code>: whole-number -&gt; number</p>
<p>Find the sum of the digits in a number.</p>
<table>
<thead>
<tr>
<th>n</th>
<th><code>(sum-digits n)</code></th>
<th>simplified</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>5</td>
<td>5</td>
</tr>
<tr>
<td>53</td>
<td>5 + 3</td>
<td>8</td>
</tr>
<tr>
<td>921</td>
<td>9 + 2 + 1</td>
<td>12</td>
</tr>
<tr>
<td>3216</td>
<td>3 + 2 + 1 + 6</td>
<td>12</td>
</tr>
<tr>
<td>65536</td>
<td>6 + 5 + 5 + 3 + 6</td>
<td>25</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-81673625fac5fa8d9586d284e28e9b97">13.5 - 22a. Digits II</h1>
    <div class="lead">Making useful examples. Reading code. Practice problems using quotient and remainder to work through the digits of a number.</div>
	<p>After this worksheet you are supposed to know how to process a number
digit by digit, or in groups of digits.</p>
<ol start="0">
<li>
<p>(<code>mult-13?</code>) Return true if a number is a multiple of 13, false
otherwise.</p>
</li>
<li>
<p>(<code>tg</code>: Thinking Only) The <code>total-gap</code> function <code>tg</code> finds the total
of the positive difference between adjacent digits of a
number. That means you will look at each pair of neighboring
digits, find their &ldquo;positive differences&rdquo;, and then add up those
differences.  You are <em>just writing good examples</em> that you will
use to write that function.</p>
</li>
<li>
<p>Trace out the following function in the examples when n is 7, 19,
and 129.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bogus</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;=</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)</span>   <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;=</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">21</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bogus</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000">n</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">remainder</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#0000cf;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">remainder</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">))]))</span>
</span></span></code></pre></div><ol start="3">
<li>(<code>ced</code>) Count how many odd digits a number has.</li>
<li>(<code>c13</code>) How many pairs of consecutive digits are multiples
of 13. The pairs of digits can overlap. Write examples and then
write the function.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7f9c6bdf9636f89d167790c7fb78b20a">13.6 - 22a. Digits III</h1>
    <div class="lead">More practice problems using quotient and remainder to work through the digits of a number.</div>
	<style type="text/css">
    ol { list-style-type: roman; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    ol ol ol ol { list-style-type: decimal; }
</style>
<ol>
<li>
<p>(<code>ism? : number -&gt; boolean</code>) Return true if a number is a multiple of 19 or a divisor
of 5698296.</p>
</li>
<li>
<p>(<code>twentyish: number -&gt; number</code>) Take each non-zero digit in a
number, divide 20 by that number, and add up the results.</p>
<pre><code> (twentyish 14) =&gt; 20/1 + 20/4 = 25
 (twentyish 145) =&gt; 20/1 + 20/4 + 20/5 = 29
</code></pre>
<ol>
<li>Write a sequence of three more related examples.</li>
<li>Write the function.</li>
</ol>
</li>
<li>
<p>Without running the function, trace through the code below to show
what happens with <code>(mess 15)</code>, <code>(mess 23)</code> and <code>(mess 53)</code>.</p>
<pre><code> (define (mess n)
   (cond [(&lt; n 20) 5]
         [(= 3 (remainder n 5))
          (mess (- n (remainder n 7)))]
         [else (add1 (mess (- n 4)))]))
</code></pre>
</li>
</ol>
<!-- (mess 53) gets stuck in an infinite loop when n=28. 
     Counting down from 53 can be a lot of computing and possible errors for
     non-mathematical students. 
     -->
<ol start="4">
<li>
<p>(<code>numimg: number -&gt; image</code>) Draw a different shape in the place of
some of the digits of a number. The example below uses 0=circle, 1=square,
2=triangle, 3=star, and anything else is a yellow square. Use at
least three shapes in your function.</p>
<pre><code> (numimg 12035532)
</code></pre>
<p><img src="luckycharms.png" alt="Image of shapes corresponding to 12035532"></p>
<ol>
<li>Draw a sequence of three related examples. (Might not go in
Racket right away.)</li>
<li>Write the function.</li>
<li>Turn your examples into check-expects.</li>
</ol>
</li>
<li>
<p>(<code>2dg: number -&gt; number</code>) Write down your number. Beginning at the
right, where the decimal point would be, make two digit groups of its
digits. Add up all of the two digit groups. Ignore any extra digits
that do not fit in two digit groups.</p>
<pre><code> (check-expect (2dg 14258) 100) ;; 58 + 42 = 100
</code></pre>
<ol>
<li>Write a good sequence of examples building up to a six digit number.</li>
<li>Write the function.</li>
</ol>
</li>
<li>
<p>(<code>count-div3: number -&gt; number</code>) Count the number of digits in a
number that are divisible by 3.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5be1856d065cfaf206084a1e2ca9bb5b">13.7 - 22a. Digits V</h1>
    
	<ol>
<li>
<p>(<code>transl8: number -&gt; number</code>) Write a function that changes all of
the 8 digits to zeros.</p>
<pre><code> (check-expect (transl8 8) 0)
 (check-expect (transl8 128) 120)
 (check-expect (transl8 847) 47)
 (check-expect (transl8 68687) 60607)
</code></pre>
</li>
<li>
<p>(<code>i88 : number -&gt; number</code>) Write a function that removes all of the
digits 8 from a number.</p>
<pre><code> (check-expect (i88 128) 12)
 (check-expect (i88 847) 47)
 (check-expect (i88 81838) 13)
 (check-expect (i88 8474850826) 4745026)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0baf69f218fa04fcf2efa6923eb54e25">13.8 - 22a. Fibsum</h1>
    <div class="lead">Sum of Fibonacci numbers.</div>
	<h2 id="fibsum">fibsum</h2>
<p><code>(fibsum n)</code>: Sum of Fibonacci numbers 0 through n.</p>
<table>
<thead>
<tr>
<th>n</th>
<th>(fibsum n)</th>
<th>simplified</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1+1</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>1+1+2</td>
<td>4</td>
</tr>
<tr>
<td>3</td>
<td>1+1+2+3</td>
<td>7</td>
</tr>
<tr>
<td>4</td>
<td>1+1+2+3+5</td>
<td>12</td>
</tr>
<tr>
<td>5</td>
<td>1+1+2+3+5+8</td>
<td>20</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1c4623c36e7105a7cc172ae4b2fef48b">13.9 - 22a. More Recursion</h1>
    <div class="lead">Many more recursion practice problems.</div>
	<ol>
<li>
<p><code>vblock</code>: number(n) image(img) -&gt; image. Makes a vertical stack of <code>n</code> copies of <code>img</code>.</p>
</li>
<li>
<p><code>sum-cubes</code>: number(n) -&gt; number. Finds the sum of the first <code>n</code>
perfect cubes. The first perfect cube is 1x1x1=1. The second perfect
cube is 2x2x2 = 8. Etc.</p>
</li>
<li>
<p><code>hblock</code>: number(n) image(img) -&gt; image. Make a horizontal stack of <code>n</code> copies of <code>img</code>.</p>
</li>
<li>
<p><code>grid</code>: number(rows) number(columns) image -&gt; image. Make a grid that is <code>columns</code> wide and <code>rows</code> tall of the image repeated.</p>
</li>
<li>
<p><code>add-sqrt</code>: number(start) number(end) -&gt; number. Add up <code>(sqrt n)</code> for every integer <code>n</code> with <code>start &lt;= n &lt;= end</code>
If no numbers fit this description, the sum should be zero.</p>
<p>Example: when start=4 and end=5, the answer is <code>(+ (sqrt 4) (sqrt 5))</code>, which is about 4.236.</p>
<pre><code> (check-expect (add-sqrt 4 3) 0)
 (check-expect (add-sqrt 4 4) 2)
 (check-within (add-sqrt 4 5) 4.23 0.01)
 (check-within (add-sqrt 4 8) 12.15 0.01)
</code></pre>
</li>
<li>
<p><code>lots-of-hyphens</code>: string(word) -&gt; string. Insert a hyphen after every letter in the word.</p>
<pre><code> (lots-of-hyphens &quot;grape&quot;) ==&gt; &quot;g-r-a-p-e-&quot;
</code></pre>
<p>Extra: get <code>&quot;g-r-a-p-e&quot;</code> instead.</p>
</li>
<li>
<p><code>ten-circle</code>: number(start) number(end) -&gt; image. Produces concentric circles starting at radius <code>start</code> and drawing every 10 units until the radius is at least <code>end</code>. Assume <code>start &lt; end</code>.</p>

    <figure>
        <img src="ten-circle.png"/> 
    </figure>

</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fecca8696026ea518effa53f99a2b487">13.10 - 22a. Harmonic</h1>
    <div class="lead">Short review question.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>The <code>harmonic-add</code> function takes in a <code>start</code> and an <code>end</code> number,
and finds the sum <code>1/start + 1/(start+1) + ... + 1/end</code>.</p>
<pre><code>    (check-expect (harmonic-add 1 2) 1.5)
    (check-within (harmonic-add 1 3) 1.8333 0.0001)
    (check-within (harmonic-add 1 4) 2.0833 0.0001)
</code></pre>
<p>Example in math: <code>(harmonic-add 1 4)</code> is
$$ \frac{1}{1} + \frac{1}{2} + \frac{1}{3} + \frac{1}{4}. $$</p>
<p>Another example: <code>(harmonic-add 3 7)</code> is
$$ \frac{1}{3} + \frac{1}{4} + \frac{1}{5} + \frac{1}{6} +
\frac{1}{7}. $$</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f2a244a2b1f52fc6a333f73f5bfe0ba9">13.11 - 22a. Practice&#43;&#43;</h1>
    <div class="lead">More practice: sum of sevenths, sum of y-coordinates on a parabola.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



<p>A few more practice problems.</p>
<h2 id="parabola">Parabola</h2>
<p>Using the parabola $$f(x) = (x+8)(x-6),$$ find the sum of all of the
y-coordinates on the graph of $y=f(x)$ with x an integer between
<code>left</code> and <code>right</code> (&ldquo;inclusive&rdquo;: see first example).</p>
<pre><code> (check-expect (parabola-ys 2 2) (* 10 -4))
 (check-expect (parabola-ys 2 3) (+ (* 10 -4) (* 11 -3)))
</code></pre>
<h2 id="sevenths">Sevenths</h2>
<p>The function
<code>add-sevenths: number(start) number(end) -&gt; number</code>
finds the sum of all of the sevenths with integer numerator between
start and end (inclusive).</p>
<pre><code>(define (add-sevenths start end) 0)
(check-expect (add-sevenths 1 4) (+ 1/7 2/7 3/7 4/7))
(check-expect (add-sevenths 2 4) (+ 2/7 3/7 4/7))
(check-expect (add-sevenths 3 4) (+ 3/7 4/7))
(check-expect (add-sevenths 4 4) 4/7)
</code></pre>
<h2 id="add-odd">Add Odd</h2>
<p>Sum all of the odd numbers between start and end (inclusive).</p>
<pre><code>(define (add-odd start end) 0)
(check-expect (add-odd 12 12) 0)
(check-expect (add-odd 11 11) 11)
(check-expect (add-odd 10 11) 11)
(check-expect (add-odd 9 11)  (+ 9 11))
(check-expect (add-odd 8 11)  (+ 9 11))
(check-expect (add-odd 7 11)  (+ 7 9 11))
</code></pre>
<h2 id="add-5s">Add 5s</h2>
<p>Sum all of the multiples of five between the start and end number.</p>
<pre><code>(define (add-5s start end) 0)
(check-expect (add-5s 3 17) (+ 5 10 15))
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f5bf4736497ceedd091f301b086b7dfc">13.12 - 22a. ss3</h1>
    <div class="lead">A short summing practice problem.</div>
	<p>Design and test a function <code>ss3: number(a) number(b) -&gt; number</code> to sum
the squares of every third number from <code>a</code> to <code>b</code>. Skip multiples of
ten.</p>
<pre><code>(ss3 14 23) = 14^2 + 17^2 + 23^2
(ss3 14 18) = 14^2 + 17^2
(ss3 10 40) = 6165
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-eebb2068a262a62dcce3739a88e914ae">13.13 - 22a. Recursive Helpers</h1>
    <div class="lead">Exercises involving recursive functions with helper functions.</div>
	<h2 id="image-theory">Image Theory</h2>
<ol>
<li>
<p><code>big-bullseye</code>: number(n) -&gt; image. Draw n concentric circles, alternating color beginning with black on the inside. Begin with a radius of 10 and increase the radius by 10 each successive circle.</p>
</li>
<li>
<p><code>sier-triangle</code>: number(n) number(size) -&gt; image. Make a <a href="https://en.wikipedia.org/wiki/Sierpi%C5%84ski_gasket">Sierpinski triangle</a> with <code>n</code> stages in the pattern and a side length of <code>size</code>. Do this by dividing the size in two when you make a smaller triangle, and arrange those triangles themselves in a triangle (see images).</p>
</li>
</ol>

<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Sierpinski_triangle_evolution.svg/320px-Sierpinski_triangle_evolution.svg.png"/> 
</figure>

<p>(Remaining content moved to a <a href="/teaching--2021-2022/intermediate-cs/ch22a/90-helpers/">later helper function page</a>.)</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f74d3eb913a9e610400e00f3c16a62c3">13.14 - 22a. Recursion Quiz Practice</h1>
    <div class="lead">Quiz practice: hawaiian-earring, double-ss, math-mess.</div>
	<p>Follow the design process for each function.</p>
<ol>
<li>
<p><code>hawaiian-earring</code>: number(stage) number(radius) -&gt; image. Create <code>stage</code> circles with each successive circle 80% of the radius of the previous one.</p>

    <figure>
        <img src="hawaiian-earring.png"/> <figcaption>
                <h4>(hawaiian-earring 10 80)</h4>
            </figcaption>
    </figure>

</li>
<li>
<p><code>double-ss</code>: string -&gt; string. Double each <code>s</code> appearing in the string.</p>
<pre><code> (check-expect (double-ss &quot;The snake was silent.&quot;)
               &quot;The ssnake wass ssilent.&quot;)
</code></pre>
</li>
<li>
<p><code>math-mess</code>: number(start) number(end) -&gt; number. For all of the numbers between <code>start</code> and <code>end</code>: add the squares of the even numbers, subtract the square roots of the odd numbers.</p>
<pre><code> (math-mess 10 10) =&gt; (* 10 10)
 (math-mess 11 11) =&gt; (- (sqrt 11))
 (math-mess 10 11) =&gt; (- (* 10 10) (sqrt 11))
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9765a574ca5a6f722fb6da8df202ab40">13.15 - 22a. Recursion Quiz 2018</h1>
    <div class="lead">First quiz on recursion: reciprocal-squares, blank-vowels, hollow-diagonal.</div>
	<p>You may use the Picturing Programs textbook and the blog to look up functions th
at you do not know. Do not consult any other programs written by you or anyone else. (No old homework, Stack Overflow, etc.)</p>
<p>Have at least two check expects for each function.</p>
<ol>
<li>
<p><code>reciprocal-squares</code>: number(start) number(end) -&gt; number. Find the sum of <code>1/n^2</code> for every <code>n</code> between <code>start</code> and <code>end</code> (including both).</p>
<table>
<thead>
<tr>
<th>start</th>
<th>end</th>
<th>sum</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>1.0</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>1.25</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
<td>1.36111&hellip;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>blank-vowels</code>: string(word) -&gt; string. Change every vowel (a,e,i,o,u) to an underscore (<code>_</code>). Example: <code>(blank-vowels &quot;elephant&quot;) =&gt; &quot;_l_ph_nt&quot;</code>.</p>
</li>
<li>
<p><code>circle-circle</code>: number(big-radius) number(little-radius) number(turn-angle) number(n) -&gt; image. Produce <code>n</code> circles of size <code>little-radius</code> around the perimeter of a circle of size <code>big-radius</code>. In between each, have a central angle of <code>turn-angle</code>.</p>
<p>
	<figure>
	    <img src="circle-circle.png"/> <figcaption>
	            <h4>(circle-circle 100 20 45 8)</h4>
	        </figcaption>
	</figure>


	<figure>
	    <img src="circle-circle-partial.png"/> <figcaption>
	            <h4>(circle-circle 120 15 30 6)</h4>
	        </figcaption>
	</figure>
</p>
</li>
<li>
<p><code>hollow-diagonal</code>: number(radius) number(n): Produce <code>n</code> circles of the given radius along a diagonal.</p>
<p><a href="hollow-diagonal-2.png">
<figure>
    <img src="hollow-diagonal-1.png"/> <figcaption>
            <h4>(hollow-diagonal 20 5)</h4>
        </figcaption>
</figure>
</a></p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-70ddd1611c23f4b2b158c97b75a2b1ae">13.16 - 22a. Recursion Practice I 2019</h1>
    <div class="lead">A quiz on recursive functions.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<ol>
<li>
<p>(<code>altsum</code>) One way to see if a number is divisible by 11 is to find
the alternating sum (+ then -) of the digits of the number,
beginning at the ones digit, and see if that number is divisible
by 11. The alternating sum of the digits if 1495 is $5-9+4-1 = -1$, so 1495
is not divisible by 11. Design and test the function
<code>altsum: number(n) -&gt; number</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">altsum</span> <span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">-9</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">altsum</span> <span style="color:#0000cf;font-weight:bold">1495</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">-9</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div></li>
<li>
<p>(<code>sum-octa</code>) The n-th octagonal number is the number of dots that it
takes to draw all of the edges of a regular octagon with n dots
per edge. The formula for the n-th octagonal number is $3n^2-2n$,
or <code>(- (* 3 n n) (* 2 n))</code> in Racket.</p>
<p>Write a function <code>sum-octa: number(start) number(end) -&gt; number</code>
to find the sum of all of n-th octagonal numbers beginning with
<code>n=start</code> and ending with <code>n=end</code>.</p>
<pre><code> (check-expect (sum-octa 1 2) 9)
 (check-expect (sum-octa 2 5) 134)
</code></pre>
<table>
<thead>
<tr>
<th>n</th>
<th>octagonal number n</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>8</td>
</tr>
<tr>
<td>3</td>
<td>21</td>
</tr>
<tr>
<td>4</td>
<td>40</td>
</tr>
<tr>
<td>5</td>
<td>65</td>
</tr>
</tbody>
</table>
 <figure>
     <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Centered_octagonal_number.svg/1200px-Centered_octagonal_number.svg.png" height="300"/> <figcaption>
             <h4>Blue octagonal numbers, plus extra octagons</h4>
         </figcaption>
 </figure>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c62736cf455a8d5a6b29bc887e381d8a">13.17 - Roygbiv Code</h1>
    
	<p>We are going to write an encoding function that makes an image like a
bar code, but using colored rectangles insteada of bars.</p>
<figure>
    <img src="school-phone.png"/> <figcaption>
            <h4>Encoded phone number</h4>
        </figcaption>
</figure>
<p>Each digit will map to a 30x70 rectangle. The colors of the digits 0
through 9 will be the usual rainbow: red, orange, yellow, green, blue, indigo, violet, and then three randomly chosen colors:</p>
<pre><code> (define rc7 (make-color 25 134 240))
 (define rc8 (make-color 121 143 37))
 (define rc9 (make-color 220 194 21))
</code></pre>
<p>For example, an input of 7510 to <code>encode</code> gives the code below.</p>
<figure>
    <img src="barcode-1.png"/> <figcaption>
            <h4>(encode 7510)</h4>
        </figcaption>
</figure>
<p>Write a function to create a color-based bar code.</p>
<h2 id="answered-questions">Answered questions</h2>
<ul>
<li>You should ignore leading zeros.</li>
</ul>
<h2 id="intermediate">Intermediate</h2>
<p>Got the encoder working? Write a decoder that takes in an image and
produces an integer.</p>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a34fedc4f5b908701096f5c03d5fa35d">13.18 - 22a. Strings</h1>
    <div class="lead">A presentation with exercises involving recursion on strings.</div>
	<h1 id="objective">Objective</h1>
<p>I can write a recursive function that works on a string.</p>
<hr>
<h1 id="letterswap">LetterSwap</h1>
<p><code>(swap &quot;wallaby&quot; &quot;a&quot; &quot;x&quot;)</code>
<code>=&gt; &quot;wxllxby&quot;</code></p>
<p><code>swap: word original replace -&gt; string</code></p>
<p>Change the letter <code>original</code> to the letter <code>replace</code> in the <code>word</code>.</p>
<hr>
<h1 id="no-mistakes">No Mistakes</h1>
<p><code>no-mistake: string(word) -&gt; string</code></p>
<p>Remove every appearance of &ldquo;mistake&rdquo; inside the given word.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cafc07c28fcede25f31c70bf2370f160">13.19 - 22a. Helpers</h1>
    <div class="lead">Real introduction to helper functions in recursion.</div>
	<h2 id="warmup">Warmup</h2>
<p>Write a function <code>count-div</code>: number(k) number(n) -&gt; number that gives
1 if k divides n and 0 otherwise.</p>
<h2 id="opener">Opener</h2>
<p><code>count-divisors</code>: positive-integer(n) -&gt; positive-integer. Count how
many integers 1,2,&hellip;,n divide the number <code>n</code>.</p>
<p><a href="https://maueroats.github.io/teaching--2021-2022/intermediate-cs/ch22a/91-count-divisors/">Count-divisors solution</a>.</p>
<h2 id="number-theory">Number Theory</h2>
<ol start="4">
<li>
<p><code>smallest-factor</code>: positive-integer(n) -&gt; positive-integer. Find the smallest divisor of <code>n</code> that is greater than 1.</p>
</li>
<li>
<p><code>is-prime?</code>: positive-integer(n) -&gt; boolean. True if <code>n</code> is prime,
false otherwise.</p>
</li>
<li>
<p><code>largest-prime-factor</code>: positive-integer(n) -&gt;
positive-integer. Find the largest prime factor of <code>n</code>.</p>
</li>
</ol>
<h2 id="string-practice">String Practice</h2>
<p><code>group-3</code>: string(word) -&gt; string. Insert spaces after every three letters of <code>word</code>. Example: <code>(group-3 &quot;pancake&quot;) =&gt; &quot;pan cak e&quot;</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bc1974457de2f10eba0470cd331d567a">13.20 - 22a. Helpers: Count Divisors</h1>
    <div class="lead">A complete lecture on count-divisors.</div>
	<h2 id="warmup">Warmup</h2>
<p>Write a function <code>count-div</code>: number(k) number(n) -&gt; number that gives
1 if k divides n and 0 otherwise.</p>
<h2 id="warmup-solution">Warmup Solution</h2>
<pre><code> (define (count-div k n)
    (cond [(= 0 (remainder n k))
            1]
          [else
            0]
            
 (check-expect (count-div 3 6) 1)
 (check-expect (count-div 4 6) 0)
</code></pre>
<h2 id="count-divisors-example">Count-divisors example</h2>
<pre><code> (count-divisors 2) =&gt; 1 + 1
 (count-divisors 3) =&gt; 1 + 0 + 1
 (count-divisors 4) =&gt; 1 + 1 + 0 + 1
 (count-divisors 5) =&gt; 1 + 0 + 0 + 0 + 1
</code></pre>
<p>Notice that there is <em>not</em> a pattern of repeating previously used results! See the longer list of factors to confirm:</p>
<pre><code>1 =&gt; 1
2 =&gt; 1,2
3 =&gt; 1,3
4 =&gt; 1,2,4
5 =&gt; 1,5
6 =&gt; 1,2,3,6
7 =&gt; 1,7
8 =&gt; 1,2,4,8
9 =&gt; 1,3,9
</code></pre>
<p>This means that you cannot write a recursive function the way we have been writing them. <code>(count-divisors 5)</code> has nothing to do with <code>(count-divisors 4)</code>.</p>
<h2 id="count-divisors-walkthrough">Count-divisors walkthrough</h2>
<p>It really looks like we need to keep track of two things:</p>
<ul>
<li>what number we are counting the divisors for (always the same, let&rsquo;s call it <code>end</code>)</li>
<li>the number that we are test dividing (changes, let&rsquo;s call it <code>start</code>)</li>
</ul>
<p>Purpose: find how many divisors of <code>end</code> there are between <code>start</code> and
<code>end</code> including both start and end.</p>
<p>Skeleton:</p>
<pre><code>(define (count-divisors-help start end)
  ; not finished
  0)
</code></pre>
<p>Now you write examples. You could abbreviate this function&rsquo;s name as <code>cdh</code> if writing on paper.</p>
<h2 id="examples">Examples</h2>
<p>Your examples should look like this list below (abbreviating <code>count-divisors-help</code> as <code>cdh</code>:</p>
<pre><code>(cdh 1 6) =&gt; 4
(cdh 2 6) =&gt; 3
(cdh 3 6) =&gt; 2
(cdh 4 6) =&gt; 1
(cdh 5 6) =&gt; 1
(cdh 6 6) =&gt; 1
</code></pre>
<h2 id="finale">Finale</h2>
<p>You know there are two steps to writing a recursive function:</p>
<ol>
<li>make sure it stops, when it should stop; and</li>
<li>make sure it keeps going when it should keep going.</li>
</ol>
<h3 id="stops">Stops</h3>
<p>You can write a conditional that always gets the right answer in one case. Try it!</p>
<h3 id="keep-going">Keep going</h3>
<p>You can see that there could be a recursive function call with <code>start</code>
increasing by one each time, because the answer for <code>start=3</code> builds
off the answer for <code>start=4</code>.</p>
<p>The two ingredients for this part are:</p>
<ol>
<li><code>(count-divisors-help (+1 start) end)</code></li>
<li><code>(count-div start end)</code></li>
</ol>
<p>You have to try writing the rest of the function now!</p>
<h3 id="answer">Answer</h3>
<p>I hope you have worked through each step and tried to understand it before reading the solution.</p>
<p><a href="count-divisors-real-solution.rkt">Bare-bones solution</a> and a <a href="count-divisors-full.rkt">complete solution with checks</a>, straight from lecture.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cbdaea8451268a0739331dffe8edcff0">13.21 - 22a. Recursion Practice 3</h1>
    <div class="lead">Even more recursion practice.</div>
	<p>Do at least the first three.
Please make sure to write at least three tests for each function.</p>
<ol>
<li>
<p><code>is-in-word?</code>: string(letter) string(word) -&gt; boolean. True if the letter is in the word, false otherwise.</p>
<pre><code> (check-expect (is-in-word? &quot;x&quot; &quot;explode&quot;) true)
 (check-expect (is-in-word? &quot;s&quot; &quot;juliuc caecar&quot; false)
</code></pre>
</li>
<li>
<p><code>word-shrink</code>: string(word) number(starting-size) -&gt; image. Create a picture of the word in which each letter is four points smaller than the previous letter. Do not let the font size go below 5pt.</p>

     <figure>
         <img src="shrink-word.png"/> <figcaption>
                 <h4>(shrink-word &#34;Perspective Drawing&#34; 64)</h4>
             </figcaption>
     </figure>

</li>
<li>
<p><code>sum-penta</code>: number(start) number(end) -&gt; number. The <a href="https://en.wikipedia.org/wiki/Pentagonal_number">pentagonal numbers</a> are created by making larger and larger pentagons - Wikipedia has a nice animated image. The formula for the nth pentagonal number is <code>(* 0.5 n (- (* 3 n) 1))</code>.</p>
<p>Find the sum of all of pentagonal number <code>n</code> from <code>n=start</code> through <code>n=end</code>.</p>
<table>
<thead>
<tr>
<th>n</th>
<th>(penta n)</th>
<th>(sum-penta 1 n)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
<td>6</td>
</tr>
<tr>
<td>3</td>
<td>12</td>
<td>18</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h2 id="challenge">Challenge</h2>
<ol start="4">
<li>
<p><code>draw-tic-tac-toe</code>: string -&gt; image. Take a string containing 9 characters (from &ldquo;X&rdquo; &ldquo;O&rdquo; and &ldquo;-&rdquo;) and turn it into a 3x3 image of &ldquo;X&rdquo; &ldquo;O&rdquo; and blank squares in a tic-tac-toe board.</p>
<p>Hint: You will probably want helper functions <code>draw-one-space</code> and <code>draw-one-line</code>.</p>

    <figure>
        <img src="tictactoe.png"/> <figcaption>
                <h4>(draw-tic-tac-toe &#34;XXOO-OOXX&#34;)</h4>
            </figcaption>
    </figure>

</li>
<li>
<p>(Math) Write <code>is-pentagonal?</code>: number -&gt; boolean. Then read <a href="https://projecteuler.net/index.php?section=problems&amp;id=44">Project Euler 44</a>, which might be doable soon. You can celebrate if you find any two pentagonal numbers whose sum and difference are both pentagonal.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c5ee31598d4fca7a7e22453b951f1424">13.22 - 22a. Recursion Self Quiz</h1>
    <div class="lead">A brief quiz to make sure you understand recursion.</div>
	<p><code>draw-cats</code>: string -&gt; image</p>
<p>Draw one cat for every time the word &ldquo;cat&rdquo; appears in the string.</p>
   <figure>
       <img src="cat.png"/> <figcaption>
               <h4>(draw-cats &#34;nyan cat&#34;)</h4>
           </figcaption>
   </figure>
   <figure>
       <img src="catcat.png"/> <figcaption>
               <h4>(draw-cats &#34;cat dog cat&#34;)</h4>
           </figcaption>
   </figure>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">note</h4>

    I have had problems with tests failing even though the images are identical.
I found that scaling the image in Racket caused the problem.
Now I do not <code>scale</code> the size of the images I use in my tests.

</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5dbe03c51a99982e3560ec04e9c1e612">13.23 - 22a. Recursion Practice 4</h1>
    <div class="lead">Change penguin to penguins and mouse to mice in zoo-1, sum5, double-middle.</div>
	<p>Classwork (20 min) and discussion (25 min).</p>
<ol>
<li>
<p><code>zoo-1</code>: string -&gt; string. Change every occurrence of &ldquo;penguin&rdquo; to &ldquo;penguins&rdquo; and change every occurrence of &ldquo;mouse&rdquo; to &ldquo;mice&rdquo;. Leave everything else alone.</p>
<pre><code>  (check-expect (zoo-1 &quot;mouse&quot;) &quot;mice&quot;)
  (check-expect (zoo-1 &quot;xmouse&quot;) &quot;xmice&quot;)
  (check-expect (zoo-1 &quot;mousex&quot;) &quot;micex&quot;)
  (check-expect (zoo-1 &quot;mouse moose&quot;) &quot;mice moose&quot;)
  (check-expect (zoo-1 &quot;mouse mouse&quot;) &quot;mice mice&quot;)
  (check-expect (zoo-1 &quot;penguin penguins&quot;) &quot;penguins penguinss&quot;)
</code></pre>
</li>
</ol>
<h2 id="review-homework">Review Homework</h2>
<ol start="2">
<li>
<p><code>sum5</code>: number(n) -&gt; number. Find the sum of the first <code>n</code> fifth powers, starting
with 1.</p>
<pre><code> (check-expect (sum5 3) (+ (* 1 1 1 1 1) (* 2 2 2 2 2) (* 3 3 3 3 3)))
</code></pre>
</li>
<li>
<p><code>double-middle</code>: string -&gt; string. Double every letter between j
and q in the alphabet (inclusive).</p>
<pre><code> (check-expect (double-middle &quot;jog snake&quot;) &quot;jjoog snnakke&quot;)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9822291ebe298e8854081c05bdf2314d">13.24 - 22a. Mini-Quiz</h1>
    <div class="lead">ex-it, unlucky</div>
	<h1 id="ex-it"><code>ex-it</code></h1>
<p><code>ex-it: string -&gt; string</code></p>
<p>Change every &ldquo;x&rdquo; to a &ldquo;y&rdquo;.</p>
<pre><code>(check-expect (ex-it &quot;tresxxx&quot;) &quot;tres&quot;)
(check-expect (ex-it &quot;zyzzyva&quot;) &quot;zyzzyva&quot;) ; no change
</code></pre>
<hr>
<h1 id="unlucky"><code>unlucky</code></h1>
<p><code>unlucky: number -&gt; number</code></p>
<p>How many multiples of 13 appear in the digits of n? (Just consider
two digit multiples.)</p>
<pre><code>(check-expect (unlucky 131) 1)
(check-expect (unlucky 139) 2)
(check-expect (unlucky 1263) 1)
(check-expect (unlucky 1326) 2)
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b1f4f3789128b9c55606876e41d040e2">13.25 - 22a. Recursion Quiz 2</h1>
    <div class="lead">Ice cream quiz.</div>
	<p>An ice cream cone can have strawberry, vanilla, or chocolate ice cream scoops.
The number of scoops is unlimited, specified by the string of flavors that is input.</p>
<pre><code>ice-cream: string -&gt; image
</code></pre>
<figure>
    <img src="ice-cream.png"/> <figcaption>
            <h4>(ice-cream &#34;chocolate vanilla strawberry strawberry chocolate&#34;)</h4>
        </figcaption>
</figure>
<h2 id="detailed-instructions">Detailed Instructions</h2>
<ol>
<li>Build up to all of the flavors by first picking a single flavor and
creating a cone for only that flavor.</li>
<li>Write checks as we have discussed in class. It is worth your time!</li>
<li>Permitted resources: Picturing Programs book and Racket Help Desk. No old homework or notes.</li>
</ol>
<h2 id="grading">Grading</h2>
<ul>
<li>Flawless single flavor cone = 70%</li>
<li>Good tests = +10%</li>
<li>Multi-flavor cone, no problems: 90%.</li>
<li>Penalty for untested code, or errors when tested -5.</li>
</ul>
<h2 id="faq">F.A.Q.</h2>
<ul>
<li>You may write any helper functions that you want.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f2900ceca9639c5ef3f8ecfc57d2d30e">13.26 - 22a. Recursion Practice 5</h1>
    <div class="lead">count-w, powers of 7, double zero</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<ol>
<li>
<p>(<code>count-w</code>) Find how many &ldquo;w&rdquo; letters there are in a
word. Signature: <code>count-w: string -&gt; number</code>.</p>
</li>
<li>
<p>(<code>p7</code>) Find the smallest power of 7 that is at least a given
number. (So find the smallest $k$ so that $7^k \ge \text{number}$.)
Signature: <code>p7: number -&gt; number</code>.</p>
<pre><code> (check-expect (p7 1) 0)
 (check-expect (p7 7) 1)
 (check-expect (p7 8) 2)
 (check-expect (p7 49) 2)
 (check-expect (p7 50) 3)
</code></pre>
</li>
<li>
<p>(<code>eyeball</code>) Find how many pairs of consecutive zeros there are in a
number. Signature: <code>eyeball: number -&gt; number</code>.</p>
<pre><code> (check-expect (eyeball 0) 0)
 (check-expect (eyeball 00) 0)
 (check-expect (eyeball 1007008) 2)
 (check-expect (eyeball 30008) 2)
</code></pre>
<p>Explanations: the number 00 is really just 0, so there is only one
zero. The number 30008 has two pairs of consecutive zeros: 3 <strong>00</strong>
08 and 30 <strong>00</strong> 8.</p>
</li>
</ol>
<h2 id="more-practice">More Practice</h2>
<ol start="4">
<li>
<p>(<code>no-z</code>) Remove all z&rsquo;s from a string. <code>no-z: string -&gt; string</code></p>
<pre><code> (check-expect (no-z &quot;whazzlez&quot;) &quot;wale&quot;)
</code></pre>
</li>
<li>
<p>(<code>cq</code>) Count how many times a given letter appears in a word.
<code>cq: string(letter) string(word) -&gt; number</code>
One special case: when asked to count the number of &ldquo;q&rdquo; in a word,
only count &ldquo;q&rdquo; letters immediately followed by &ldquo;u&rdquo;.</p>
<pre><code> (check-expect (cq &quot;k&quot; &quot;kraken&quot;) 2)
 (check-expect (cq &quot;q&quot; &quot;queue q que&quot;) 2)
</code></pre>
</li>
<li>
<p>(<code>pink</code>) Change every appearance of &ldquo;pink&rdquo; in the string to &ldquo;blue&rdquo;.
Signature: <code>pink: string -&gt; string</code>.</p>
<pre><code> (check-expect (pink &quot;pink pink&quot;) &quot;blue blue&quot;)
</code></pre>
<p>Advanced: leave the first appearance alone.</p>
<pre><code> (check-expect (pink-advanced &quot;pink pink pink&quot;) &quot;pink blue blue&quot;)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6e0d8dceaa9df84023179dc5319ccca5">13.27 - 22a. Recursion Practice 6</h1>
    <div class="lead">r-ss - does a word have r or ss?, no-7, abfx - all but first x becomes a y.</div>
	<h1 id="r-ss"><code>r-ss?</code></h1>
<p><code>r-ss?: string(word) -&gt; boolean</code>.</p>
<p>True if the word contains either &ldquo;r&rdquo; or &ldquo;ss&rdquo;.</p>
<pre><code>    (check-expect (r-ss? &quot;car&quot;) true)
    (check-expect (r-ss? &quot;ssnake&quot;) true)
    (check-expect (r-ss? &quot;wrassle&quot;) true)
    (check-expect (r-ss? &quot;confabulous&quot;) false)
</code></pre>
<hr>
<h1 id="no-7"><code>no-7</code></h1>
<p><code>no-7: number(n) -&gt; number</code></p>
<p>Remove the 7s from a number.</p>
<pre><code>    (check-expect (no-7 127347) 1234)
    (check-expect (no-7      7)    0)
</code></pre>
<hr>
<h1 id="abfx"><code>abfx</code></h1>
<p><code>abfx: string -&gt; string</code></p>
<p>Change all but the first &ldquo;x&rdquo; to a &ldquo;y&rdquo;.</p>
<pre><code>    (check-expect (abfx &quot;x&quot;) &quot;x&quot;)
    (check-expect (abfx &quot;xx&quot;) &quot;xy&quot;)
    (check-expect (abfx &quot;xxx&quot;) &quot;xyy&quot;)
    (check-expect (abfx &quot;zxyxx&quot;) &quot;zxyyy&quot;)
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-13f0f7238dcad71e99a2208c006b4e10">13.28 - Quiz 3 (Hard)</h1>
    <div class="lead">A harder quiz based on the skills we have learned: english-q</div>
	<p>Write in Racket. You may use the Picturing Programs book and the
Racket Help Desk. You may not refer to old code except your
<code>posn-util.rkt</code>.</p>
<ol>
<li>
<p><code>english-q: string -&gt; boolean</code>: True if every &ldquo;q&rdquo; in the word is
followed by a &ldquo;u&rdquo;.</p>
</li>
<li>
<p><code>ternary-2: number -&gt; number</code>: Find the number of 2s in the base 3
representation of the number. You can look up what base 3 is. Write
your own base 3 converter.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-722c873ad2ae2829655e4f4fbd010676">13.29 - Quiz 4 (Medium)</h1>
    <div class="lead">ssm, pairorder</div>
	<ol>
<li>
<p><code>ssm: number(start) number(end) -&gt; number</code>. Find the sum of all of
the square roots of odd numbers between <code>start</code> and <code>end</code>
(inclusive). Except skip taking the square roots of any perfect
squares like 49</p>
<pre><code> (check-within (ssm 21 27) 
               (+ (sqrt 21) (sqrt 23) (sqrt 27)) ; skip 25
               0.01)

 (check-within (ssm 7 12)
               (+ (sqrt 7) (sqrt 11)) ; skip 9 - perfect square
                 0.01)

 (check-within (ssm 101 1001) 10008.2 0.1)
</code></pre>
</li>
<li>
<p>The <code>pairorder: string -&gt; string</code> function takes a string and puts
each adjacent pair of letters in alphabetical order, beginning at
the left and working to the right <em>one</em> letter at a time. This
means that a &ldquo;z&rdquo; could potentially move several times in one call
to <code>pairorder</code>: &ldquo;zba&rdquo; when processing the first pair would produce
&ldquo;bza&rdquo; then when processing the second pair would produce &ldquo;baz&rdquo;.</p>
<pre><code> (check-expect (pairorder &quot;zba&quot;) &quot;baz&quot;)
 (check-expect (pairorder &quot;ba&quot;) &quot;ab&quot;)
 (check-expect (pairorder &quot;cba&quot;) &quot;bac&quot;)
 (check-expect (pairorder &quot;complex&quot;) &quot;cmolepx&quot;)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9ffa02d53bdcaa6edd71e88a9c97bd0f">13.30 - 22a. Feb.G Review</h1>
    
	<ol>
<li>Trace the execution of <code>(snow 300)</code>.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">snow</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">remainder</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>		 <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">quotient</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">)]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>		 <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">add1</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">snow</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">quotient</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)))]</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>		 <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">snow</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)))]))</span>
</span></span></code></pre></div><ol start="2">
<li>(<code>tall-tree</code>) Make an <code>n</code> layer stack of green triangles and put a
brown rectangle at the bottom.</li>
</ol>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/ch22a/110-febg-review/tall-tree.png"/> <figcaption>
            <h4>(tall-tree 5)</h4>
        </figcaption>
</figure>
<ol start="3">
<li>
<p>(<code>cr7 : integer(avoid) -&gt; number</code>) How many multiples of 7 are
there from <code>avoid</code> up to 1000? Except do not count any multiple of
<code>avoid</code>.</p>
<p>(Math-only solutions discouraged; practice
recursion. Will your solution also work to avoid odd numbers as
well as multiples of <code>avoid</code>?)</p>
<p>Examples:</p>
<pre><code> (cr7 3) =&gt; 95
 (cr7 10) =&gt; 127
</code></pre>
</li>
<li>
<p>(<code>big-gap? : positive-integer(n) -&gt; boolean</code>) True if <code>n</code> has two
adjacent groups of two digits that differ by more than fifty.</p>
<p>Examples:</p>
<pre><code> (big-gap? 1030) =&gt; false
 (big-gap? 2080) =&gt; true
 (big-gap? 123456) =&gt; false
 (big-gap? 142958) =&gt; true
 (big-gap? 190) =&gt; false
</code></pre>
<p>Note that in the last example, there are not two adjacent groups
of two digits.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cc20c5c77daf3b418734250468745452">13.31 - 22a. Hangman Project</h1>
    <div class="lead">Make the classic game of hangman.</div>
	<p>The game of <a href="https://en.wikipedia.org/wiki/Hangman_(game)">hangman</a> a
classic guess-the-word game.  You can <a href="http://www.playhangman.com">try hangman
online</a>, but do not play too long - just learn the rules.</p>
<h2 id="check-in">Check in</h2>
<ul>
<li>Illustrations and model.</li>
<li>Key handler and logic helper function: <code>(string-contains-letter? str letter)</code>.</li>
<li>Draw handler and <code>define/contract</code> (if discussed in class).</li>
<li>Completed project.</li>
</ul>
<h2 id="steps">Steps</h2>
<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22a/199-hangman/99a-hangman-outline/" >22a. Hangman Outline</a></li></p>
<p>Outline of everything to do for hangman project.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22a/199-hangman/99b-hangman-images/" >22a. Hangman Images</a></li></p>
<p>How to load a sequence of images into DrRacket.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22a/199-hangman/99c-hangman-keyhandler/" >22a. Hangman Key Handler</a></li></p>
<p>Every keypress is a guess - adjust the model accordingly.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22a/199-hangman/99d-hangman-drawhandler/" >22a. Hangman DH Warmup</a></li></p>
<p>The key step is to draw the word with underscores for the letters missed.
This page will not include any specific advice on how to draw the word with underscores for the letters that are not guessed. The wipeout function below should provide you will all of the skills you need to do it, though.
Underscore Warmup I: omit The omit function takes in a word and a letter and returns the same word with every occurence of the letter omitted (left out).</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22a/199-hangman/99e-hangman-drawhandler-2/" >22a. Hangman Draw Handler</a></li></p>
<p>Draw the whole scene by using helper functions to draw the different parts. At first you can just put all of the images above each other; later you can change the placement so it looks the way you prefer.
Draw the gallows based on how many wrong answers. Draw the mistaken letters. Draw the word with underscores for letters that are not guessed. The key step is to draw the word with underscores for the letters missed.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-31a31760ffb95519d5b7d36c372c968d">13.31.1 - 22a. Hangman Outline</h1>
    <div class="lead">Outline of everything to do for hangman project.</div>
	<!-- Use `define/contract` for all of your functions. -->
<p>Write two check expects for every non-trivial function.</p>
<ol>
<li>
<p>Three illustrations of &ldquo;action&rdquo; that should occur in the game. Explain what they are.</p>
</li>
<li>
<p>Model</p>
</li>
<li>
<p>Top-down design.</p>
</li>
<li>
<p>Image sequence and loading images into Racket.</p>
</li>
<li>
<p>Key-handler</p>
<ul>
<li>Purpose</li>
<li>Examples: at least two (which become tests)</li>
<li>Write function.</li>
</ul>
</li>
<li>
<p>Draw-handler</p>
<ul>
<li>Purpose</li>
<li>Illustrations on paper (two) - easier than making computer examples.</li>
<li>Examples: at least two (which will become tests)</li>
<li>Write function.</li>
</ul>
</li>
<li>
<p>Final screens: win and lose.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4543b40d6f82ae8c0e4f1eee7207f0f0">13.31.2 - 22a. Hangman Images</h1>
    <div class="lead">How to load a sequence of images into DrRacket.</div>
	<p>Goal for the day: produce a sequence of images to use for &ldquo;hangman&rdquo; and load it into Racket.</p>
<h2 id="image-sequence">Image sequence</h2>
<p>Draw a sequence of images <code>hang-0.png</code>, <code>hang-1.png</code>, etc., with the appropriate number of parts of the person filled in. Use &ldquo;File -&gt; Export as&hellip;&rdquo; to save each file with a different name.</p>
<p>Tools:</p>
<ul>
<li>Microsoft Paint on Windows</li>
<li><a href="https://paintbrush.sourceforge.io/">Paintbrush</a> (<a href="https://sourceforge.net/projects/paintbrush/files/latest/download?source=files">download</a>) on Macintosh. You will need to hold down Control when you click on the application to allow it to open for the first time.</li>
<li><a href="https://www.gimp.org/">Gimp</a> on Linux.</li>
</ul>
<h2 id="make-a-racket-function">Make a Racket function</h2>
<ol>
<li>Load images into Racket.</li>
<li>Write a function that takes in the number of mistakes and returns the correct image of the gallows.</li>
</ol>
<p>The best way to load an image from a file is to use <code>bitmap/file</code>.</p>
<p>Examples:</p>
<ul>
<li><code>(bitmap/file &quot;hang-0.png&quot;)</code></li>
<li><code>(bitmap/file &quot;pics/hang-1.png&quot;)</code></li>
</ul>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">note</h4>

    For the simplest loading, save the Racket file in the same folder as your images. &ldquo;Untitled&rdquo; programs will not find your images - save!

</div>

<h2 id="why">Why?</h2>
<p>The only cases of file corruption I have seen involve large images
being pasted into DrRacket files. Keeping the images in separate files
prevents that problem.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-57b442fdeb47f62381e484ee16fff9ba">13.31.3 - 22a. Hangman Key Handler</h1>
    <div class="lead">Every keypress is a guess - adjust the model accordingly.</div>
	<p>The key handler needs to change the model depending on what key was
typed.</p>
<ol>
<li>
<p>Create an example model for some state in the game. You could use
one of your examples from the initial planning.</p>
</li>
<li>
<p>Write a check-expect that demonstrates what should happen when the
person hits a key which is in the word.</p>
</li>
<li>
<p>Write a check-expect that demonstrates what should happen when the
person hits a key which is not in the word.</p>
</li>
<li>
<p><strong>Seriously!!</strong> Write check-expects. See <a href="hangman-key-testing.rkt">my example checks for the key handler</a>.</p>
</li>
<li>
<p>Recommendation: Write the helper function <code>(string-contains-letter? str letter)</code> that determines if a letter is in the word.</p>
</li>
<li>
<p>Write the key handler. <!-- Remember to use `define/contract`.--></p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f638b06eaf675d63f68ec47c5b2cfcdd">13.31.4 - 22a. Hangman DH Warmup</h1>
    
	<p>The key step is to draw the word with underscores for the letters missed.</p>
<p>This page will not include any specific advice on how to draw the word
with underscores for the letters that are not guessed. The <code>wipeout</code>
function below should provide you will all of the skills you need to
do it, though.</p>
<h2 id="underscore-warmup-i-omit">Underscore Warmup I: omit</h2>
<p>The <code>omit</code> function takes in a word and a letter and returns the same word with every occurence of the letter omitted (left out).</p>
<pre><code>omit: string(word) string(letter) -&gt; string
(check-expect (omit &quot;word&quot; &quot;w&quot;) &quot;ord&quot;)
(check-expect (omit &quot;hangman&quot; &quot;a&quot;) &quot;hngmn&quot;)
(check-expect (omit &quot;nothing&quot; &quot;z&quot;) &quot;nothing&quot;)
</code></pre>
<p>Follow the design process to write the <code>omit</code> function.</p>
<ol>
<li>Simple examples that build up to a three letter word, showing how a letter can be omitted zero, one, or two times.</li>
<li>Write the function: handle the empty word</li>
<li>Write the function: handle one letter word</li>
<li>Write the function: handler longer words</li>
</ol>
<p>Run your checks after each step to make sure you stay on track.</p>
<h2 id="underscore-warmup-ii-wipeout">Underscore Warmup II: wipeout</h2>
<p>The <code>wipeout</code> function takes in a word and a string of letters to
remove. Every occurence of the letters should be removed from the word.</p>
<pre><code>wipeout: string(word) string(letters) -&gt; string
(check-expect (wipeout &quot;Williams&quot; &quot;li&quot;) &quot;Wams&quot;)
(check-expect (wipeout &quot;penguin&quot; &quot;dinosaur&quot;) &quot;peg&quot;)
</code></pre>
<p>Follow the design process and use the <code>omit</code> helper function!</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0b64b15134f0d48734136a51b87adcca">13.31.5 - 22a. Hangman Draw Handler</h1>
    
	<p>Draw the whole scene by using helper functions to draw the different
parts. At first you can just put all of the images <code>above</code> each other;
later you can change the placement so it looks the way you prefer.</p>
<ol>
<li>Draw the gallows based on how many wrong answers.</li>
<li>Draw the mistaken letters.</li>
<li>Draw the word with underscores for letters that are not guessed.</li>
</ol>
<p>The key step is to draw the word with underscores for the letters missed.</p>
<pre><code>underscorizer: string(word) string(letters-guessed) -&gt; string
(check-expect (underscorizer &quot;wow&quot; &quot;w&quot;) &quot;w_w&quot;)
(check-expect (underscorizer &quot;wow&quot; &quot;ow&quot;) &quot;wow&quot;)
</code></pre>
<p>Of course you can take in the correct guesses instead of all guesses,
or you can take in anything else from your model that makes sense.</p>
<h2 id="advice">Advice</h2>
<p>Decide on an approach:</p>
<ul>
<li>Examine word letter by letter?</li>
<li>Examine letters guessed letter by letter?</li>
</ul>
<p>Write tests that build up to your solution in the way we have
discussed and demonstrated in class.</p>
<p>Many approaches work. If you have no preference, I recommend the first
approach.</p>

</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-642d39560360a59fa877c274f66dea7f">14 - 22b. Lists</h1>
    <div class="lead">Lists give a way to remember an unlimited number of items.</div>
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/list-intro/" >22. List Intro</a></li></p>
<p>An introduction to lists in Racket.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/list-exercises-1/" >22b. List Exercises 1</a></li></p>
<p>Introductory exercises with lists.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/list-exercises-1.5/" >22b. List Exercises 1.5</a></li></p>
<p>Elementary exercises with lists.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/list-exercises-2/" >22b. List Exercises 2</a></li></p>
<p>Vocabulary for list functions. More practice problems.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/bubble-wrap/" >22b. Bubble Wrap</a></li></p>
<p>Random size circles all around the screen. Circles disappear when you click on them.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/bubble-review/" >Bubble Review</a></li></p>
<p>Review for upcoming test on bubble wrap and hangman.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/list-exercises-3/" >22b. List Exercises 3</a></li></p>
<p>Randomly generate points on a parabola and graph them in people coordinates.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/list-exercises-4-q/" >22b. List Exercises 4</a></li></p>
<p>Practice quiz on lists.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/list-resources/" >22. Additional Resources</a></li></p>
<p>In addition to Chapters 22-23 in Picturing Programs, students in the past have found these resource useful:
How to Design Programs, Part II. Pairs and Lists in the Racket Guide. </p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/parcels/" >Parcels</a></li></p>
<p>Create an interactive map showing delivery distances from the closest storage depot.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/parcels/" >Parcels</a></li></p>
<p>In this project we will create an interactive map showing delivery distances based on locations of storage depots. This project is inspired by the problem parcels from Google&rsquo;s Kick Start coding competition 2019 Round A.
The CEO of an important delivery company needs your help to decide where to build new warehouses. You are asked to make an interactive map showing the distances from every warehouse to every square on a 10x10 grid.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-59061b5c464d514e077e9bdf7eed05c1">14.1 - 22. List Intro</h1>
    <div class="lead">An introduction to lists in Racket.</div>
	<p>We started learning about lists. (Chapter 22-23 in Picturing Programs.) Picturing Programs can be kind of long-winded in these chapters.</p>
<p><a href="/teaching--2021-2022/intermediate-cs/ch22b/list-resources/">Alternative sources</a>.</p>
<p>Things to know:</p>
<ul>
<li>Empty lists: <code>empty</code> or <code>(list )</code> or <code>'()</code></li>
<li><code>empty?</code> : list -&gt; boolean</li>
<li>(list &ldquo;a&rdquo; &ldquo;b&rdquo; &ldquo;c&rdquo;)</li>
<li><code>first</code>: list of Things -&gt; Thing</li>
<li><code>rest</code>: list -&gt; list</li>
<li>Advanced: <code>list*</code> to add to the front of a list</li>
<li>Contract example: <code>(-&gt; (listof number?) number?)</code></li>
</ul>
<p>List processing always begins with a choice (conditional) to see if
the list is empty or not. The else clause almost always contains
(&hellip;. (first the-list) &hellip; (rest the-list)&hellip;) combined in some way.</p>
<h2 id="design-process">Design process</h2>
<p>Simplified design process:</p>
<ol>
<li>Write down lists of length 0, 1, and 2, and their results</li>
<li>Write a program to get the correct answer with a list of length 0</li>
<li>Modify your program to get the correct answer with a list of length 1 (and still have length 0 correct)</li>
<li>Modify that program to keep the correct answers and get the length 2 list to give the right answer. This is the step that will usually involve (rest the-list).</li>
</ol>
<h2 id="skeleton">Skeleton</h2>
<p>The skeleton is very important for list-processing problems. It
usually has a form like this:</p>
<pre><code>(define (do-something the-list)
  (cond [(empty? the-list) ...]
        [else 
          (... (first the-list) ...
               (do-something (rest the-list)))]))
</code></pre>
<p>Write down a skeleton like that when you are working through a list.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9c2dd6a91d2f05bac4246a1e2154017c">14.2 - 22b. List Exercises 1</h1>
    <div class="lead">Introductory exercises with lists.</div>
	<ul>
<li>Monday 2018-04-02: We completed the lists worksheet.</li>
</ul>
<p><a href="https://docs.google.com/document/d/1foGKiSQdlmQeUOWtwYZnQwN3g412UnVHCitkslxCsII/edit?usp=sharing">Lists Worksheet I</a></p>
<ul>
<li>Tuesday 2018-04-03: 4.4b, 4.6, 4.6 enhancement - from the slides below.</li>
</ul>
<p><a href="https://docs.google.com/presentation/d/1u0uOCMy9U-QG2GdPAExzW_MqskPxd2Ga837iAwcXvbc/edit?usp=sharing">List Exercises - Google Slides</a>.</p>
<ul>
<li>Wednesday 2018-04-04: 6.1 and 6.2 from the slides. (<code>star-triangle</code>)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-187196e1a1e965a5030ba57c69bd3fd2">14.3 - 22b. List Exercises 1.5</h1>
    <div class="lead">Elementary exercises with lists.</div>
	<ol>
<li>
<p><code>more-rand: number(x) list of numbers(nums) -&gt; list of numbers</code>
Give a new list with x and an additional random number from 0
through 9 put on the front of the more-rand list.</p>
<pre><code> (check-random (more-rand 5 (list 1 2 3)) 
               (list 5 (random 10) 1 2 3))
</code></pre>
</li>
<li>
<p><code>maybe-no-5: list of numbers -&gt; list of numbers</code>. If the first
number in the list is a 5, skip it, otherwise return the whole
list.</p>
<pre><code> (check-expect (maybe-no-5 (list 1 5 51)) (list 1 5 51))
 (check-expect (maybe-no-5 (list 5 9 14 23)) (list 9 14 23))
</code></pre>
</li>
<li>
<p><code>pemo: list of numbers -&gt; number</code>. Find the sum (plus) all of the
even numbers in the list and subtract (minus) all of the odd
numbers in the list.</p>
<pre><code> (check-expect (pemo (list 10 30 5 20 10 11)) 54)
</code></pre>
</li>
<li>
<p><code>cram-small: list of strings(words) -&gt; string</code>. Take all of the
words that are less than 5 letters long and combine them all into
one big string.</p>
<pre><code> (check-expect (cram-small (list &quot;cat&quot; &quot;goose&quot; &quot;bear&quot; &quot;dolphin&quot;)) &quot;catbear&quot;)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-681f97f121c3ff544b1819dd415a7874">14.4 - 22b. List Exercises 2</h1>
    <div class="lead">Vocabulary for list functions. More practice problems.</div>
	<h2 id="vocabulary">Vocabulary</h2>
<p>There are four major kinds of functions on lists that we will learn to write. They are: reduce, create, map, and filter.</p>
<ul>
<li>
<p>reduce: Any function that takes a list of things and produces a single thing. For example: <code>add-them</code>, which adds all of the numbers in a list of numbers. Functions like <code>sea-of-stars</code> that take a list of posns and produce an image also fall in this category.</p>
</li>
<li>
<p>create: A function that creates a list from something that is not a list. Example: <code>multiples-of-7</code>, which takes a number N and produces a list of the first N multiples of 7.</p>
</li>
<li>
<p>map: A function that performs the same action on every thing in a list of things, giving a list of things as its answer. Example: <code>double-all</code> which doubles every number in a list.</p>
</li>
<li>
<p>filter: A function which removes some items from a list of items, leaving a list of items. Example: <code>remove-small</code> which removes every number less than 20 from a list of numbers.</p>
</li>
</ul>
<h2 id="practice-problems">Practice Problems</h2>
<ol>
<li>
<p><code>my-range</code>: number(start) number(end) -&gt; list of numbers. Create a list containing all of the numbers from start to end, inclusive. Example: <code>(my-range 5 11) =&gt; (list 5 6 7 8 9 10 11)</code>.</p>
</li>
<li>
<p><code>two-power</code>: number(n) -&gt; list of numbers. Create a list of powers of two, starting with 2^n and ending with 2^0. Example: <code>(two-power 5) =&gt; (list 32 16 8 4 2 1)</code>.</p>
</li>
<li>
<p><code>double-all</code>: list of numbers -&gt; list of numbers. Double each number in the list. Example <code>(double-all (list 1 30)) =&gt; (list 2 60)</code>.</p>
</li>
<li>
<p><code>remove-small</code>: list of numbers -&gt; list of numbers. Create a list that excludes numbers smaller than 20 from the original list.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4abe293a4367042f48847fffe3579d8e">14.5 - 22b. Bubble Wrap</h1>
    <div class="lead">Random size circles all around the screen. Circles disappear when you click on them.</div>
	<ul>
<li>A bunch of circles of random size and color are placed around the screen.</li>
<li>When you click on a circle, it disappears.</li>
<li>Only the top circle should disappear if multiple circles are stacked.</li>
</ul>
<h2 id="model">Model</h2>
<p>First, think about <em>one bubble</em>. How will you represent that? You need to keep track of at least:</p>
<ul>
<li>center</li>
<li>radius</li>
<li>color</li>
</ul>
<p>Next, think about <em>all of the bubbles</em>. How will you represent a bunch
of bubbles?</p>
<h2 id="drawing">Drawing</h2>
<p>It is good to get your draw handler written early, so you can see what is going on. I recommend that you write one function to draw a single bubble on a background, and another function to draw all of the bubbles.</p>
<h2 id="logic">Logic</h2>
<p>You need to remove the bubble you click on from the game. I think that is best done in two steps:</p>
<ul>
<li><code>clicked-on-bubble?</code>: bubble posn(click) -&gt; boolean. True if the
click is inside the given bubble.</li>
<li><code>remove-clicked</code>: list of bubbles posn(click) -&gt; list of bubbles</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7cfc22dbe9a841c6e6e0da910b5f2ccd">14.6 - Bubble Review</h1>
    <div class="lead">Review for upcoming test on bubble wrap and hangman.</div>
	<p>There will be some program tracing and some problem solving.</p>
<h2 id="program-1">Program 1</h2>
<p>Trace the following program to figure out what it does.</p>
<pre><code>(define (prog1 n)
  (cond [(&lt; n 5) 10]
        [(= 1 (remainder n 2)) (+ 1 (prog1 (- n 1)))]
        [(not (= 1 (remainder n 2))) (+ 3 (prog1 (- n 2)))]
        [else (+ 5 (prog1 (- n 3)))]))
</code></pre>
<ol>
<li><code>(prog1 2)</code></li>
<li><code>(prog1 5)</code></li>
<li><code>(prog1 6)</code></li>
<li><code>(prog1 8)</code></li>
</ol>
<h2 id="program-2">Program 2</h2>
<p>Trace the following program to figure out what it does.</p>
<pre><code>(define (prog2 s)
  (cond [(&lt; (string-length s) 2) &quot;&quot;]
        [(string=? &quot;a&quot; (substring s 0 1))
         (prog2 (substring s 1))]
        [(string&lt;=? &quot;b&quot; (substring s 2))
         (string-append &quot;x&quot; (prog2 (substring s 1)))]
        [else
         (string-append &quot;y&quot; (prog2 (substring s 2)))]))
</code></pre>
<ol>
<li><code>(prog2 &quot;a&quot;)</code></li>
<li><code>(prog2 &quot;ca&quot;)</code></li>
<li><code>(prog2 &quot;abcd&quot;)</code></li>
<li><code>(prog2 &quot;abbbcd&quot;)</code></li>
<li><code>(prog2 &quot;abcdef&quot;)</code></li>
</ol>
<h2 id="writing-1">Writing 1</h2>
<p>A bubble is poison if its color is green and its x and y coordinate
differ by less than 20.</p>
<ol>
<li>
<p>Write a program to identify a poison bubble. Use the struct given
for the type of a bubble.</p>
<pre><code> (define-struct b (center radius color))
</code></pre>
</li>
<li>
<p>In your bubble wrap game, the model is a list of bubbles. Rewrite
the mouse-handler so that when you click on a poison bubble, one
additional bubble appears on the screen.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ae726727d42b8dba4417b37e1f742ddf">14.7 - 22b. List Exercises 3</h1>
    <div class="lead">Randomly generate points on a parabola and graph them in people coordinates.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



<p>Note: This page uses MathJax to show fancy formulas.</p>
<ol>
<li>
<p><code>random-gen</code>: number(<code>N</code>) -&gt; list of numbers. Generate <code>N</code> random
numbers, each one in the interval $ -150 \le x \le 150 $. Example (random so numbers will be different each time):</p>
<pre><code> (random-gen 5) =&gt; (list -75 100 -30 50 21)
</code></pre>
</li>
<li>
<p><code>parabola-it</code>: list of numbers -&gt; list of posn. Use the numbers as the x-coordinates of function</p>
<p>$$  f(x) = 0.01 * x^2 - 50 $$</p>
<pre><code> (parabola-it (list 5 10)) =&gt; (list (make-posn 5 -49.75) (make-posn 10 -49))
</code></pre>
</li>
<li>
<p><code>people-graph</code>: list of posn -&gt; image. Place the posns in people coordinates on a 300x200 rectangle with origin at the center.</p>
 <figure>
     <img src="/teaching--2021-2022/intermediate-cs/ch22b/list-exercises-3/parabola-demo.png"/> 
 </figure>
</li>
</ol>
<p>A quick check to make sure everything is in order is to run all of the functions together:</p>
<pre><code>(people-graph (parabola-it (random-gen 50)))
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-78a2eb0bbbd3db57715db39a4aacfd66">14.8 - 22b. List Exercises 4</h1>
    <div class="lead">Practice quiz on lists.</div>
	<ol>
<li>
<p><code>count-down-odd</code>: number(start) number(end) -&gt; list of numbers. Generate a list of all of the odd numbers from <code>end</code> down to <code>start</code> (inclusive).</p>
<pre><code> (count-down-odd 5 10) =&gt; (list 9 7 5)
 (count-down-odd 5 5) =&gt; (list 5)
</code></pre>
</li>
<li>
<p><code>dinosaur</code>: list of numbers -&gt; list of strings. Change a list of numbers, all of which will be between 0 and 7 inclusive, into a list of the corresponding letters from the word <code>dinosaur</code>.</p>
<pre><code> (dinosaur (list 4 5 0)) =&gt; (list &quot;s&quot; &quot;a&quot; &quot;d&quot;)
</code></pre>
</li>
<li>
<p><code>shaper</code>: list of numbers -&gt; image. Choose an image based on the number (1=triangle, 2=square, 3=circle; pick colors and sizes you like). Randomly place the image on a 400x300 gray rectangle.</p>
<p>Advanced bonus: the list of numbers comes in pairs - the first number selects the shape and the second number selects its size.</p>
<pre><code> (shaper (list 1 50 3 20)) 
</code></pre>
<p>The call above would place a triangle of side length 50 and a circle of radius 20.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7f4c0188acce5333d15fa0d4d336182f">14.9 - 22. Additional Resources</h1>
    
	<p>In addition to Chapters 22-23 in Picturing Programs, students in the past have found these resource useful:</p>
<ul>
<li><a href="http://htdp.org/2018-01-06/Book/part_two.html">How to Design Programs, Part II</a>.</li>
<li><a href="https://docs.racket-lang.org/guide/pairs.html">Pairs and Lists</a> in the <a href="https://docs.racket-lang.org/guide/index.html?q=Racket%20guide">Racket Guide</a>.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e13078157c5daa76f18a31ef4d724280">14.10 - Parcels</h1>
    <div class="lead">Create an interactive map showing delivery distances from the closest storage depot.</div>
	<p>In this project we will create an interactive map showing delivery
distances based on locations of storage depots. This project is
inspired by the problem
<a href="https://codingcompetitions.withgoogle.com/kickstart/round/0000000000050e01/000000000006987d">parcels</a>
from Google&rsquo;s Kick Start coding competition 2019 Round A.</p>
<p>The CEO of an important delivery company needs your help to decide
where to build new warehouses. You are asked to make an interactive
map showing the distances from every warehouse to every square on a
10x10 grid.  Hopefully, you will be able to easily change it
later to a larger or smaller grid.</p>
<p>We will use a coloring function (see below) to change distances to
color on the red-purple-blue spectrum, so red is close to the warehouse and
blue is far from the warehouse.</p>
<p>As an example, a 10x10 grid with warehouses at (4,1) (7,8) (5,6)
and (0,8) would produce a distance map like this:</p>
   <figure>
       <img src="/teaching--2021-2022/intermediate-cs/ch22b/parcels/distmap-1.png"/> 
   </figure>
<h2 id="distance">Distance</h2>
<p>City delivery distance is best measured by just adding the change in x
and y between the two locations (because city streets form a grid;
usually the truck cannot drive &ldquo;diagonally&rdquo; through blocks of houses).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">city-distance</span> <span style="color:#000">a</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">a</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>     <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">a</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)))))</span>
</span></span></code></pre></div><h2 id="more-parts-of-the-project">More Parts of the Project</h2>
<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/parcels/grid/" >Grid</a></li></p>
<p>Functions to create a regular grid of posns.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/parcels/distances/" >Distances</a></li></p>
<p>Finding distances between depots and points on the grid. Important steps.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/parcels/parcels-colors/" >Coloring</a></li></p>
<p>Ways color your grid.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/ch22b/parcels/parcels-animation/" >Animation</a></li></p>
<p>The details of making an animation for Parcels.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a77561ee42b7ae03d0090f35368451da">14.10.1 - Grid</h1>
    <div class="lead">Functions to create a regular grid of posns.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>A grid is a set of evenly spaced points. For example, below is a 4x3
grid.</p>
<pre><code>(1,1) (2,1) (3,1) (4,1)
(1,2) (2,2) (3,2) (4,2)
(1,3) (2,3) (3,3) (4,3)
</code></pre>
<p>We would represent this grid as one long list of posns. It is easier
to write the grid-creating functions if we count down, for example
beginning with x=4 and ending with x=1.</p>
<pre><code>(list (make-posn 4 3) (make-posn 3 3) (make-posn 2 3) (make-posn 1 3)
      (make-posn 4 2) (make-posn 3 2) (make-posn 2 2) (make-posn 1 2)
      (make-posn 4 1) (make-posn 3 1) (make-posn 2 1) (make-posn 1 1))
</code></pre>
<p>You see the natural &ldquo;count down&rdquo; way to program this in Racket ends up with the
x and y both reversed. If you don&rsquo;t like this, add an extra argument
to your functions to remember the start as well as the end of your range.</p>
<p>One row of this grid is made by <code>gen-row</code> and the whole grid is made
by <code>gen-rows-cols</code>.</p>
<h2 id="warmup-joining-rows">Warmup: Joining Rows</h2>
<p>When you want a single list of posns, you need to join together each
row. We will write a helper function, <code>join-rows</code>, to combine two rows.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; join-rows: list(xs) list(ys) -&gt; list</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">join-rows</span> <span style="color:#000">xs</span> <span style="color:#000">ys</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87">empty</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">join-rows</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">join-rows</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>There is a built-in function called <code>append</code> that does this, but you
should practice creating your own. It gives you more practice writing
recursive functions on lists.</p>
<h2 id="making-the-grid">Making the Grid</h2>
<p>We want to create a grid (list) of points from which we will find the distances.</p>
<h3 id="one-row">One Row</h3>
<p>First we make a function to make a single row of the grid.</p>
<p><code>(gen-row xmax y)</code>: Create a list of posns with the given <code>y</code>,
but x-coordinates going from <code>xmax</code> down to 1 (inclusive). This is a single row
a grid.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gen-row</span> <span style="color:#000">x</span> <span style="color:#000">ymax</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-1</span> <span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gen-row</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h3 id="many-rows">Many Rows</h3>
<p>Now we make the whole grid by repeating the row repetition for each row.</p>
<p><code>(gen-rows-cols xmax ymax)</code>: Create a list of posns for x
from <code>xmax</code> down to 1, and also for y from <code>ymax</code> down to 1 (both inclusive).
The idea is that this function will call itself recursively, using <code>gen-col</code> to produce a
single column.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gen-rows-cols</span> <span style="color:#000">xmax</span> <span style="color:#000">ymax</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-1</span> <span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gen-rows-cols</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="notes">Notes</h2>
<p>Usually computers make an $M\times N$ grid by using $0\le x &lt; M$ and
$0\le y &lt; N$. The method on this page was chosen because
it seemed easier for beginners to think about.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-78ae3a444f04f2b11f85173fdec32821">14.10.2 - Distances</h1>
    <div class="lead">Finding distances between depots and points on the grid. Important steps.</div>
	<h2 id="finding-distances-i">Finding Distances I</h2>
<p>The most straightforward way to figure out the distance to the closest
warehouse is two steps:</p>
<ol>
<li>(<code>find-distances</code>) Given a list of warehouse locations, make a list of distances from
your location to all of them.</li>
<li>(<code>minimum</code>) Given a list of distances, find the smallest one.</li>
</ol>
<p>Start out by writing some test cases, going from one warehouse to many.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; find-distances: posn(current) list-of-posn(warehouses) -&gt; list-of-numbers</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances</span> <span style="color:#000">current</span> <span style="color:#000">warehouses</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">6</span> <span style="color:#0000cf;font-weight:bold">11</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="finding-distances-ii">Finding Distances II</h2>
<p>NOTE: While this approach works, students may find it easier just to
take the list of points from <a href="/teaching--2021-2022/intermediate-cs/ch22b/parcels/grid/">the grid making functions</a> and directly plot their distances to depots.</p>
<p>Combine the results of the previous two sections to create a
list of <code>(list posn number)</code> where the list records the distance from
the posn to the nearest warehouse.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; find-distances-2: list-of-posn(warehouses) list-of-posn(points) -&gt; list of (posn, number)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances-2</span> <span style="color:#000">warehouses</span> <span style="color:#000">points</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-1</span> <span style="color:#0000cf;font-weight:bold">-2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances-2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn</span> <span style="color:#0000cf;font-weight:bold">7</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>                                <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7387a5d109a4f3922f6eaf9f8fdd97e0">14.10.3 - Coloring</h1>
    <div class="lead">Ways color your grid.</div>
	<p>The basic way to color the grid is by making a function that takes in
a distance and puts out a color.</p>
<p>An more challenging way to color the grid is by figuring out which
depot is closest and then coloring all points by a color assigned to the
closest depot.</p>
<p>You can choose your own coloring function or use mine. I suggest you change this
once you start making images and would like to adjust the way they
look.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">color-select</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-color</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#0000cf;font-weight:bold">255</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">100</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">max</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">min</span> <span style="color:#0000cf;font-weight:bold">255</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">real-&gt;int</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7e34b7b1a6e17b0abc3ee7f84bda85e7">14.10.4 - Animation</h1>
    <div class="lead">The details of making an animation for Parcels.</div>
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>Making an animation with the work you have done so far mostly involves combining the pieces
that you have. The only new ingredients are helper functions to translate between
grid coordinates like $(3,4)$ and computer coordinates like $(125,175)$.</p>
<h2 id="warmup-working-with-a-grid">Warmup: Working with a grid</h2>
<p>Let&rsquo;s get used to working with a grid. Each grid square will be
50x50. Numbering the grid posns just like we did in the grid generator keeps
everything else uncomplicated, but it does mean we have to do a bit of math to
figure out what computer coordinates we want to use.</p>
<ul>
<li>$(1,1)$ will the the upper left - traditionally computer would use $(0,0)$, so that&rsquo;s ok too</li>
<li>Every grid square will be 50x50.</li>
<li>What is the center of the grid square labeled $(1,1)$? Draw a picture, figure it out, do
not rely on someone else to tell you!</li>
<li>What is the center of the square at $(2,1)$?</li>
<li>What is the center of the square at $(3,1)$?</li>
</ul>
<h3 id="grid-posn-to-computer-posn">Grid posn to computer posn</h3>
<p>Write a function that translates &ldquo;grid posns&rdquo; (<code>gp</code>) to &ldquo;computer posns&rdquo;
(<code>cp</code>). Make sure you write at least three checks (change both x and y in your checks).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; Skeleton:</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gp-&gt;cp</span> <span style="color:#000">pt</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h3 id="placing-lots-of-circles">Placing lots of circles</h3>
<p>Use your translation function to write a function that will place a bunch of circles
everywhere in a list of given grid posns.</p>
<p><code>place-circles: (Listof Posn) Image -&gt; Image</code>: Place a radius 25 solid blue circle in the
center of every one of the squares whose grid posns coordinates are given. The list
<code>ex-ps</code> below should make shape shown here:</p>
<pre><code>O
O
OO
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">ex-ps</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="model">Model</h2>
<p>The model is a list of posns, the coordinates of all of the depots.</p>
<h2 id="draw-handler">Draw Handler</h2>
<p>Given a list of <em>depot</em> posns, you want to generate a whole colored grid.
Use the idea from the warmup combined with your earlier work. Making 50x50 squares looks good to me.</p>
<ul>
<li>Create a list of all of the grid posns in a 10x10 grid.</li>
<li>Given one grid posn, find the distance to the closest depot.</li>
<li>Make a square of the desired color based on that information.</li>
<li>Use the idea from the warmup to place the square at the correct location in
your grid.</li>
<li>Repeat this process for all of the posns in the grid.</li>
</ul>
<h2 id="mouse-handler">Mouse Handler</h2>
<p>The job of the mouse handler is to add a depot where you click.</p>
<ul>
<li>Given a mouse click at (x,y), compute which grid posn is nearest.</li>
<li>Add that grid posn to the front of the model (list of depots).</li>
</ul>
<h3 id="computer-to-grid">Computer to grid</h3>
<p>In order to determine the grid posn that corresponds to a click, you will want a helper
function <code>cp-&gt;gp</code> that changes computer posns to grid posns.</p>
<p>Recommendation: just make a table of values of x and y and the nearest grid posns. Use
your algebra skills to find an equation that will change the computer coordinates to the
grid coordinates.</p>
<p>I suggest first changing just the x-coordinate until you are confident that you have the
right formula.</p>
<p>Include at least three check-expects showing how your formula is correct!</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; skeleton</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">cp-&gt;gp</span> <span style="color:#000">pt</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ca26e2737162c16fb6828092a1bd7552">14.11 - Parcels</h1>
    
	<p>In this project we will create an interactive map showing delivery
distances based on locations of storage depots. This project is
inspired by the problem
<a href="https://codingcompetitions.withgoogle.com/kickstart/round/0000000000050e01/000000000006987d">parcels</a>
from Google&rsquo;s Kick Start coding competition 2019 Round A.</p>
<p>The CEO of an important delivery company needs your help to decide
where to build new warehouses. You are asked to make an interactive
map showing the distances from every warehouse to every square on a
10x10 grid.  Hopefully, you will be able to easily change it
later to a larger or smaller grid.</p>
<p>We will use a coloring function (see below) to change distances to
color on the red-purple-blue spectrum, so red is close to the warehouse and
blue is far from the warehouse.</p>
<p>As an example, a 10x10 grid with warehouses at (4,1) (7,8) (5,6)
and (0,8) would produce a distance map like this:</p>
   <figure>
       <img src="distmap-1.png"/> 
   </figure>
<h2 id="distance">Distance</h2>
<p>City delivery distance is best measured by just adding the change in x
and y between the two locations (because city streets form a grid;
usually the truck cannot drive &ldquo;diagonally&rdquo; through blocks of houses).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">city-distance</span> <span style="color:#000">a</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">a</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>     <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">a</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)))))</span>
</span></span></code></pre></div><h2 id="finding-distances-i">Finding Distances I</h2>
<p>The most straightforward way to figure out the distance to the closest
warehouse is two steps:</p>
<ol>
<li>(<code>find-distances</code>) Given a list of warehouse locations, make a list of distances from
your location to all of them.</li>
<li>(<code>minimum</code>) Given a list of distances, find the smallest one.</li>
</ol>
<p>Start out by writing some test cases, going from one warehouse to many.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; find-distances: posn(current) list-of-posn(warehouses) -&gt; list-of-numbers</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances</span> <span style="color:#000">current</span> <span style="color:#000">warehouses</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">6</span> <span style="color:#0000cf;font-weight:bold">12</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="finding-distances-ii">Finding Distances II</h2>
<p>Now we want to create a list of points from which we will find the
distances.</p>
<ol>
<li><code>(gen-col x ymax)</code>: Create a list of posns with the given x,
but y from 0 up to <code>ymax</code>.</li>
<li><code>(gen-rows-cols xmax ymax)</code>: Create a list of posns for x
between 0 and <code>xmax</code>, and also y between 0 and <code>ymax</code>.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gen-rows-cols</span> <span style="color:#000">xmax</span> <span style="color:#000">ymax</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-1</span> <span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">gen-rows-cols</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="finding-distances-iii">Finding Distances III</h2>
<p>NOTE: While this approach works, students may find it easier just to
take the list of points from Finding Distances II and directly plot
their distances.</p>
<p>Combine the results of the previous two sections to create a
list of <code>(list posn number)</code> where the list records the distance from
the posn to the nearest warehouse.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; find-distances-2: list-of-posn(warehouses) list-of-posn(points) -&gt; list of (posn, number)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances-2</span> <span style="color:#000">warehouses</span> <span style="color:#000">points</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-1</span> <span style="color:#0000cf;font-weight:bold">-2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">find-distances-2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn</span> <span style="color:#0000cf;font-weight:bold">7</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>                                <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="coloring">Coloring</h2>
<p>You can choose your own coloring function or use mine. Change this
once you start making images and would like to adjust the way they
look.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">color-select</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-color</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#0000cf;font-weight:bold">255</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">50</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#0000cf;font-weight:bold">100</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">limit</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">max</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">min</span> <span style="color:#0000cf;font-weight:bold">255</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">real-&gt;int</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d843816572d08b580a0971e246b65d4e">15 - 24. Universe</h1>
    <div class="lead">Make multi-player, multi-computer games in Racket.</div>
	<p>The <code>universe</code> functions let you build multiple <code>big-bang</code> windows
that communicate with each other.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-396e6e1b872832717e788534a9cce8d9">15.1 - Universe Overview</h1>
    <div class="lead">Overview of the Universe.</div>
	<p>Universe gives a way to have multiple big-bangs communicate.</p>
<p>Each big-bang is individually called a &ldquo;world&rdquo;. They are also called &ldquo;clients&rdquo;. There is one &ldquo;universe&rdquo; running, which is the &ldquo;server&rdquo;. The universe server coordinates all of the communication between the big-bang clients.</p>
<p>There are some new technical additions to <code>big-bang</code>, and some recommendations for the design process.</p>
<h2 id="technical-information">Technical Information</h2>
<ul>
<li>
<p><code>(make-package model message)</code>: Returned from a handler to update the model and send a message.</p>
</li>
<li>
<p>Any handler (for example: <code>key</code>,<code>mouse</code>,<code>tick</code>) can return a <code>package</code>, which updates your own model and sends a message to the server.</p>
</li>
<li>
<p>New handler: <code>on-receive</code>.</p>
<pre><code>  receive-h: model message -&gt; model
</code></pre>
<p>Update your model based on a message you receive from the server.</p>
</li>
</ul>
<p>Reading the Racket Documentation:</p>
<ul>
<li><code>model</code> is called <code>WorldState</code></li>
<li><code>HandlerResult</code> means either a model or a <code>package</code>.</li>
</ul>
<h2 id="design-process">Design Process</h2>
<ul>
<li>
<p>Decide your <strong>big-bang model</strong> first. Use the usual process (draw
scenes, write the model that goes with those scenes).</p>
</li>
<li>
<p>Decide your <strong>universe model</strong> next. This means you need to decide
what <strong>messages</strong> will be sent between worlds (big-bangs).</p>
</li>
</ul>
<h2 id="miscellaneous">Miscellaneous</h2>
<ul>
<li>The <code>on-receive</code> handler can return a <code>package</code> if needed.</li>
</ul>
<h2 id="code">Code</h2>
<p><a href="generic-server-v1.rkt">Generic server</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a669b9e28be3854b19ce06e8f0bc1988">15.2 - U Walkthrough</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-acdc86c26651d0375fa261ed195a3ef0">15.2.1 - Description</h1>
    
	<p>This will be a step-by-step walkthrough of a very simple &ldquo;game&rdquo;. The
goal is to guide you through each step of the process one time. Your
goal should be to <em>understand the meaning of each step</em>, not just
complete each step.</p>
<p>We will make a simple multi-world &ldquo;game&rdquo;. Each world is a rectangle of
a particular color.</p>
<ul>
<li>Pressing a number key K (for example &ldquo;1&rdquo; or &ldquo;2&rdquo;) causes the current world to send a
message to world number K to change to the color of the current
world.</li>
<li>Pressing &ldquo;r&rdquo; randomizes the color of the current world (among some
set of choices).</li>
</ul>
<h1 id="steps-in-walkthrough">Steps in Walkthrough</h1>
<p>There are numbered steps in the sidebar.
After each step, save all files and verify that your code runs.</p>
<h2 id="whitney-young-videos">Whitney Young Videos</h2>
<p>The bottom of the
<a href="https://docs.google.com/spreadsheets/d/1tyBeCX9W4c2deKDKuOHrhImEhFDSNbIxPnvVczsCBWw/edit#gid=1191413345">II-ICS-Links</a>
tab of the calendar has videos for each step.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-35a822662ebe8de4fb490c1fe3f6a767">15.2.2 - 01 Model</h1>
    
	<p>Every world should know its id number and a color.</p>
<p>An <code>IC</code> is a structure.</p>
<pre><code>(make-ic Number Image-Color)
</code></pre>
<p>Interpretation:</p>
<pre><code>(make-ic id col)
</code></pre>
<ul>
<li><code>id</code>: specifies the number of the world (you choose)</li>
<li><code>col</code>: the color to show in the world</li>
</ul>
<p>Begin your main file with a structure definition for <code>ic</code>.</p>
<pre><code>(define-struct ic (id col))
</code></pre>
<p>You will want to require picturing-programs as always.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-76d71848752fc6c776c1a3f2ed4abf4a">15.2.3 - 02 Message</h1>
    
	<p>The message structure gets its name abbreviated to &ldquo;ic-msg&rdquo; because we
type it a lot.</p>
<p>A <code>IC-Msg</code> is a structure.</p>
<pre><code>(make-ic-msg Number Number Color-String)
</code></pre>
<p>Interpretation:</p>
<pre><code>(make-ic-msg from to col)
</code></pre>
<ul>
<li><code>from</code>: the id of the world sending the message</li>
<li><code>to</code>: the id of the world the message is intended for</li>
<li><code>col</code>: the new color that world is to show</li>
</ul>
<h2 id="instructions">Instructions</h2>
<ol>
<li>
<p>Change a new file to Racket language mode, so it says  &ldquo;Determine language from source&rdquo;
at the bottom.</p>
</li>
<li>
<p>The file should contain <em>only</em> these three lines below:</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">#lang </span><span style="color:#000">racket</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">provide</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">all-defined-out</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">ic-msg</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">from</span> <span style="color:#000">to</span> <span style="color:#000">col</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">#:prefab</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>Verify that the file says &ldquo;Determine language from source&rdquo;
after saving!!</p>
<h2 id="common-problems">Common Problems</h2>
<ul>
<li>The file must be in Racket language mode. (Menu: Language -&gt; Choose
Language &hellip; -&gt; The Racket Language)</li>
<li>There should be no space between the <code>#:</code> and <code>prefab</code>.</li>
</ul>
<p>If you have problems creating the file yourself, download it using
<a href="ic-msg.rkt">Save link as&hellip; (ic-msg.rkt)</a>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cbb248449af9985f8061a8651edd333f">15.2.4 - 03 Checkpoint</h1>
    
	<p>Verify that you can require and use your message structure in your
main file.</p>
<p>The following code snippet creates an example showing</p>
<pre><code>(require &quot;ic-msg.rkt&quot;)
(define ex1 (make-ic-msg 1 3 &quot;blue&quot;))
(ic-msg-col ex1) ;; should show &quot;blue&quot;
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-78f10dcafa4ec0c1f12c1a842df37356">15.2.5 - 04 Draw-H</h1>
    
	<p>Write and test the draw handler.</p>
<pre><code>(draw-h (make-ic 2 &quot;light blue&quot;))
</code></pre>
<p>produces:</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/universe/u-walkthrough/04-drawh/blue-2.png"/> 
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1c01078e2cd0e4177e3816006dc1bf66">15.2.6 - 05 Receive H</h1>
    
	<p>The receive handler&rsquo;s job is to update a world&rsquo;s model in response to
receiving a message. The signature of the receive handler is:</p>
<pre><code>receive-h: model message -&gt; model
</code></pre>
<p>In a fancy multi-player system, your world would only receive messages
that were intended for you.</p>
<p>We are using a very &ldquo;generic&rdquo; server, where every world gets messages
for every other world, so the first thing you should do in your
receive handler is to see if your own id matches the &ldquo;to&rdquo; id in the
message.</p>
<h2 id="examples">Examples</h2>
<p>This example is from the perspective of world 1, which is &ldquo;orange&rdquo;
initially. A message comes from world 2 to world 1 with the color
&ldquo;light blue&rdquo;. World 1 should react by changing color.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">receive-h</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#4e9a06">&#34;orange&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic-msg</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#4e9a06">&#34;light blue&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#4e9a06">&#34;light blue&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>Note that other worlds will also &ldquo;hear&rdquo; the same message, and should
ignore it. The check below shows that a &ldquo;green&rdquo; world 3 does not react
to the same message.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">receive-h</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#4e9a06">&#34;light green&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic-msg</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#4e9a06">&#34;light blue&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#4e9a06">&#34;light green&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="coding">Coding</h2>
<p>You should have enough coding experience now to write the code for the
receive handler.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4a6d2476f676652f49389e88a2ebcefa">15.2.7 - 06 Key H</h1>
    
	<p>In this animation, hitting a key could change the color of this world
or send a message:</p>
<ul>
<li>&ldquo;r&rdquo;: Randomizes the color of the current world.</li>
<li>&ldquo;1&rdquo; through &ldquo;5&rdquo;: Send messages to the corresponding world 1 &hellip; 5,
telling them to change to the current world&rsquo;s color.</li>
</ul>
<h2 id="sending-a-message">Sending a Message</h2>
<p>Messages can be sent to the server from any handler by returning a
Package instead of a model. A Package is a special struct whose only
purpose is to allow you to perform two actions from one handler.</p>
<p>Interpretation:</p>
<pre><code>(make-package new-model the-message)
</code></pre>
<ul>
<li><code>new-model</code> is the model that will be used by the current world</li>
<li><code>the-message</code> is a message that will be sent to the server (and
hence broadcast to all of the other worlds, with our server).</li>
</ul>
<h2 id="behavior-of-key-h">Behavior of key-h</h2>
<p>The check below describes the situation from the point of view of
world 2, which is currently &ldquo;light blue&rdquo;. When key &ldquo;1&rdquo; is hit, a
message is sent from world 2 to world 1 with the color &ldquo;light blue&rdquo;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">key-h</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#4e9a06">&#34;light blue&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                     <span style="color:#4e9a06">&#34;1&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-package</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#4e9a06">&#34;light blue&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ic-msg</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#4e9a06">&#34;light blue&#34;</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="exercise-write-key-h">Exercise: Write key-h</h2>
<p>Design and test a key handler with the behavior described above. Use
<code>string-&gt;number</code> to convert the key to a world id number.</p>
<h2 id="add-in-feature-get-color">Add in feature: get-color</h2>
<p>The &ldquo;r&rdquo; key is supposed to randomize the color of the world in which
it is pressed. Design and test this add in feature.  A helper function
to choose the color is suggested.</p>
<p><strong>Annoyance</strong>: You cannot send a <code>make-color</code> as part of a
message. Use color words (like &ldquo;orange&rdquo;) or pick a fixed palette of
colors and remember the number of the color.</p>
<p>Helper: pick three or more colors and write a function <code>get-color: number -&gt; color</code> that takes in a number 0, 1, 2, &hellip;, and puts out a color like
&ldquo;orange&rdquo;, &ldquo;light blue&rdquo;, &ldquo;light green&rdquo;, &hellip;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">get-color</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">=</span> <span style="color:#000">n</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#4e9a06">&#34;orange&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">...</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>Verify in a big-bang that pressing &ldquo;r&rdquo; randomizes the world&rsquo;s
color.</p>
<h2 id="discussion">Discussion</h2>
<p>There are several questions that regularly come up in discussion.</p>
<h3 id="just-updating-the-model">Just updating the model</h3>
<p>When you only want to update the model, just return the updated model
like every other Big Bang handler.</p>
<h3 id="just-sending-a-message">Just sending a message</h3>
<p>It is not possible to have the only action of a handler be to send a
message. When a handler does not want to change the model, it needs to
just return the model it received as input. Use the same idea to
return a package with the unchanged model as the first part.</p>
<p>As an example, the key handler below sends a message claiming to be
from world 1 to world 2 no matter what key is hit, and no matter what
world is running the code.</p>
<pre><code>(define (key-h model key)
  (make-package model (make-ic-msg 1 2 &quot;yellow&quot;)))
</code></pre>
<h3 id="misconceptions">Misconceptions</h3>
<ul>
<li>Can one world change another world&rsquo;s model? <strong>No</strong>. The first world
can only send a message to the second world. It is up to the second
world to perform the change based on the message it receives.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c5890fed992b8ed01878e84c8e4f6754">15.2.8 - 07 Big Bang</h1>
    
	<p>We learn how to launch more than one world at a time using
<code>launch-many-worlds</code>.</p>
<p>The most common way to launch more than one big-bang is by writing a
function that runs a big-bang. The function usually takes in the name
of the world (which is used to title the window) and the initial
model.</p>
<pre><code>(define (start-bang title initial)
   (big-bang initial
      (name title)
      (to-draw draw-h)
      (on-key key-h)))
</code></pre>
<p>You can then launch two worlds like this:</p>
<pre><code>(launch-many-worlds
   (start-bang &quot;first&quot; (make-ic 1 &quot;orange&quot;))
   (start-bang &quot;second&quot; (make-ic 2 &quot;light blue&quot;)))
</code></pre>
<p>Test your setup with two worlds. Make sure each can randomize the
color when you hit &ldquo;r&rdquo; in their window.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-95dcd153344d1c0e6b6acafa6e8641e1">15.2.9 - 08 Server</h1>
    
	<ul>
<li>Download the <a href="generic-server-v1.rkt">generic server code</a>.</li>
<li>Open the code in a new tab and run it.</li>
<li>Without closing, return to your main file.</li>
</ul>
<p>Connecting a big-bang to a server is done by adding a <code>register</code>
clause:</p>
<pre><code>(register LOCALHOST)
</code></pre>
<p>You can name each window by adding a <code>name</code> clause:</p>
<pre><code>(name &quot;My Name&quot;)
</code></pre>
<p>Follow the video, it&rsquo;s pretty straightforward.</p>
<p>The most common error is not having the server running!!</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b1dad60896aaf76189f5d8b59b4d73dc">15.2.10 - 09 Enhance</h1>
    
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<p>Now that you have a working basic program, here are modifications you
can make:</p>
<ol>
<li>
<p>World 3 refuses to change its color.</p>
</li>
<li>
<p>Pick one world (by id number) to the the &ldquo;random world&rdquo;
(R-world). The R-world changes its color randomly when asked to
change. That is, no matter what message is sent to the R-world, it
changes to a random color. This is most interesting with 3 or more
worlds.</p>
</li>
<li>
<p>Add &ldquo;spam&rdquo; functionality (also called &ldquo;broadcast&rdquo;), so that one
world can set the colors of all other worlds at once. Here is one
way to do this:</p>
<ul>
<li>Hitting the &ldquo;spam&rdquo; key (&ldquo;s&rdquo;) sends a message to world number
negative one (-1). That means pick a world number like $-1$ that
no world will actually have, and use it for a special purpose.</li>
<li>Receiving a message to world number $-1$ affects every word. A
conditional in your receive handler can do this.</li>
</ul>
</li>
<li>
<p>Add an &ldquo;all randomize&rdquo; key (&ldquo;t&rdquo;). Send a special message that
causes every world to randomize its color.</p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-40efabd8f5f7267cf70e8573f7eaa5af">15.3 - Money on the Table</h1>
    <div class="lead">Intro to universe.</div>
	<p>Idea: each player can throw money onto the table.</p>
<ul>
<li>Every player sees how much money is on the table.</li>
<li>Hit any key to add $5 to the table.</li>
</ul>
<p>Go into any window and hit a key. Every window&rsquo;s number should change.</p>
<ul>
<li>Next step: if you hit the &ldquo;g&rdquo; key in a window, it &ldquo;greedily&rdquo;
increases its own number by 5, but not the number in every other
window.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c683d4f39c7c6a00a1635c2a55d07b08">15.4 - Universe Mini Projects</h1>
    <div class="lead">Short projects to get used to the Universe code.</div>
	<p>These short projects (1-2 days) will help you get used to writing
code using the Universe.</p>
<ol>
<li>
<p><a href="/teaching--2021-2022/intermediate-cs/universe/u-color/">Color</a>: set everyone&rsquo;s color to yours.</p>
</li>
<li>
<p>Count: add your own number to the total, display your number in a small box and the total big on the screen.</p>
 <figure>
     <img src="count-drawn.png"/> 
 </figure>
</li>
<li>
<p>Color Strip. Modify the color program from above so that the model is a list of colors and hitting a key adds your color to the start of the list. Draw either the whole list of colors or the first 10.</p>
 <figure>
     <img src="color-list-drawn.png"/> 
 </figure>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3a6bf5e2e7a7e255460ff0cf17656552">15.5 - Universe Color</h1>
    <div class="lead">Change the color on all of the clients by hitting a key.</div>
	<p>We will make a client that knows &ldquo;its own color&rdquo; and the color that is showing on the screen. When a key is hit, the client sends its own color to the server. When a client receives a color message, it changes the color that is showing on the screen to that color. This means that hitting a key will change the color on everyone&rsquo;s screen to your color.</p>
<h2 id="model-and-message-structure">Model and Message Structure</h2>
<p>The model needs two colors, one to remember as &ldquo;your color&rdquo; and the
other to show on the screen.</p>
<p>There will only be one kind of message, the color.</p>
<h2 id="process">Process</h2>
<p>Review the <a href="/teaching--2021-2022/intermediate-cs/universe/u-overview/">universe overview</a>.</p>
<ul>
<li>Define the structure.</li>
<li>Make two examples, one which has &ldquo;your color&rdquo; blue and is showing orange, the other which has &ldquo;your color&rdquo; blue and is showing blue.</li>
<li>Write and test the draw handler.</li>
<li>Design and test the message handler (<code>on-receive</code>).</li>
<li>Design and test the key handler.</li>
</ul>
<h2 id="code">Code</h2>
<ul>
<li><a href="generic-server-v1.rkt">Server</a>. You do not need to understand this code now.</li>
<li><a href="color-client.rkt">Color changing client from period 1</a></li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5baf9d8b418ff4f05de17166fcc58ebb">15.6 - Universe Taking Turns</h1>
    <div class="lead">An introduction to taking turns when the universe broadcasts all messages to every client.</div>
	<ol>
<li>
<p><strong>Labeled worlds</strong>. Give each world a unique identity (a string name or a number). Show the world&rsquo;s identity in the upper left corner. When you hit a key in a world, every world also shows the identity of the world you clicked in.</p>
</li>
<li>
<p><strong>Colored worlds</strong>. The world you hit a key in turns green. All other worlds turn yellow. Still show each world&rsquo;s identity.</p>
</li>
<li>
<p><strong>Active stamping</strong>. Add on to your <em>colored worlds</em> program. Hit a key to activate a world. Only one world is active at a time. When you click in the active world, it shows a solid circle. Inactive worlds show an outline circle. (Basic: only one circle at a time, no control over where it appears, disappears when de-/activating. Challenge: show all circles, centered at the location of the click.</p>
</li>
<li>
<p><strong>Spinning</strong>. Each world has a separate image. Only one image spins at a time. When you hit a key in a window, that world&rsquo;s image starts spinning and the other window(s) stop.</p>
</li>
<li>
<p><strong>Chase</strong>. Each world has one image that it controls with the mouse. Hitting a key makes the mouse inactive for about one second. (Use a tick handler to reactivate.) I used a colored bar to indicate whether the window is active or not.</p>
 <figure>
     <img src="chase-drawn-frozen.png"/> 
 </figure>
 <figure>
     <img src="chase-drawn-running.png"/> 
 </figure>
</li>
</ol>


<div class="alert alert-primary" role="alert">


    You cannot send a <code>posn</code> as a message for technical reasons. Reasonable replacements: <a href="/teaching--2021-2022/intermediate-cs/universe/u-resources/">enhanced posn-util</a>, <code>(define-struct msg (x y))</code> or use <code>(list x y)</code> for the message.

</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a9557578e7351e55b5f19686a83bbc32">15.7 - Universe Quiz 4</h1>
    
	<ol>
<li>
<p>Clicking with a mouse in a window cycles the shape showing: nothing
-&gt; circle -&gt; triangle -&gt; square -&gt; nothing (repeatedly).</p>
</li>
<li>
<p>The &ldquo;e&rdquo; key erases all shapes in every window.</p>
</li>
<li>
<p>The &ldquo;n&rdquo; key moves a shape to the &ldquo;next&rdquo; window. If there is already
a shape there it is replaced by the incoming shape.</p>
</li>
<li>
<p>The &ldquo;p&rdquo; key moves a shape to the &ldquo;previous&rdquo; window, as above.</p>
</li>
</ol>
<h2 id="challenges">Challenges</h2>
<ul>
<li>
<p>The shape also has a number indicating which world it originated
in. That number goes with the shape as it moves.</p>
</li>
<li>
<p>Add color of the shape, with &ldquo;c&rdquo; to cycle the color.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f6b21e587cec8b42bab52a8c798b6fdb">15.8 - Universe Slapjack</h1>
    <div class="lead">Once the screen shows green, hit a key fast and get a point.</div>
	<p>A bunch of players connect to the server. (One player per window.) The
screen is yellow for a random amount of time (say 1-10 seconds). When
the screen turns green, the first window to hit a key gets a
point. The others are locked out until the next time the screen turns green.</p>
<ul>
<li>Show points on screen.</li>
<li>Any key hit in a window scores for that window.</li>
<li>Only one point per green screen.</li>
<li>No points can be earned when the screen is yellow.</li>
</ul>
<h2 id="planning">Planning</h2>
<ul>
<li>Model</li>
<li>Message(s)</li>
<li>What will happen when the message is received?</li>
</ul>
<h2 id="images">Images</h2>
<p>The grey background and the line are not part of the animation; they just separate the active worlds.</p>
<figure>
    <img src="slapjack-green.png"/> <figcaption>
            <h4>Ready to score</h4>
        </figcaption>
</figure>
<figure>
    <img src="slapjack-yellow.png"/> <figcaption>
            <h4>Waiting, cannot score</h4>
        </figcaption>
</figure>
<h2 id="hints">Hints</h2>
<ul>
<li>Show the time remaining until someone can score again. (The color gray is unobtrusive.)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-53ca0eb4554e503c96a5d650af74a23c">15.9 - Universe Paint</h1>
    <div class="lead">Multiple users draw on a shared canvas.</div>
	<p>You will build a shared screen paint program, kind of like
&ldquo;/r/place&rdquo;&hellip; barely.</p>
<figure><a href="two-paints.png">
    <img src="/teaching--2021-2022/intermediate-cs/universe/u-paint/two-paints.png" width="400"/> </a>
</figure>
<p>If you examine the full-size version of picture above, you can see I
have modified the program to label each circle with the id of the
world that drew it.</p>
<h2 id="message">Message</h2>
<p>We will all be sending the same message, so it is important that you
get this exactly right (or you will crash other peoples&rsquo; clients).</p>
<pre><code>(define-struct msg (id x y color) #:prefab)
</code></pre>
<p>The fields have to be these types:</p>
<ul>
<li>id: number</li>
<li>x: number</li>
<li>y: number</li>
<li>color: string</li>
</ul>
<p><strong>Note carefully</strong>: you must use a <em>string</em> for the color that you
send. Not a number. Not a <code>make-color</code> structure.</p>
<h2 id="model">Model</h2>
<p>You can choose the information you need, but somehow represent the
coordinates of your mouse, the current color of your pen, and use an
<em>image</em> to represent the picture as drawn so far.</p>
<h2 id="draw-handler">Draw Handler</h2>
<p>You should have a cursor (maybe an outline circle like in the demo
video) showing where the next dot will be placed.</p>
<h2 id="receive-handler">Receive Handler</h2>
<p>Draw on the image part of the model in your receive handler.</p>
<h2 id="keys">Keys</h2>
<ul>
<li>Hit a key to cycle through a sequence of colors. You may want to
make the color in your model a number so it is easier to cycle
through them. Convert to a string in your draw handler and when you
want to send a message.</li>
</ul>
<h2 id="common-problems">Common Problems</h2>
<ul>
<li>
<p>Drawing in only one window? Write a check-expect for your receive
handler. If the check passes, make sure you have added the
<code>on-receive</code> clause to your big-bang.</p>
</li>
<li>
<p>Mouse not responding? Write a check-expect for your mouse
handler. If it passes, check the big-bang for a valid <code>on-mouse</code>
clause.</p>
</li>
</ul>
<h2 id="finding-your-server-address">Finding your server address</h2>
<p>Window: run Powershell, type <code>ipconfig /all</code>, then look through the
output for the &ldquo;(Preferred)&rdquo; IP address. Instead of register
localhost in the big-bang, use the IP address, like this:</p>
<pre><code>(register &quot;192.168.1.8&quot;)
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-757693a7b7c56bedac928cdf040a09f6">15.10 - Gray Rectangles</h1>
    
	<p>There is one colored rectangle in each window, and possibly many gray
rectangles.</p>
<ul>
<li>Clicking moves the center of the colored rectangle to the mouse.</li>
<li>Hitting the space bar projects the shadow of the colored rectangle
from the current window to gray rectangles in the other
windows. (Same center, width, and height; different color.)</li>
<li>The shadow does not move when you click to move the colored
rectangle.</li>
<li>Hitting space a second time replaces the old shadow of the colored
rectangle with a new one.</li>
</ul>
<h2 id="understanding">Understanding</h2>
<p>There are check-expects for all of the behavior described above.</p>
<p>Showing mastery (grade of A): add a modification to the code: hitting
&ldquo;d&rdquo; or backspace (&quot;<code>\b</code>&quot;) removes the shadows of the current world&rsquo;s
rectangle.</p>
<h2 id="demonstrations">Demonstrations</h2>
<p>There is a screen shot and a video link below.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/universe/gray-rect/shadows.png"/> 
</figure>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/Hl7PWAnvqjs" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f2d511ba52331054f45f3765ab86d818">15.11 - Universe Resources</h1>
    <div class="lead">Reference material and tutorials on the Universe.</div>
	<p>This page contains only the bare-bones information.</p>
<!--


<div class="alert alert-primary" role="alert">


    <p>Plain old attachments would go here.</p>
<pre>
<p></pre></p>


</div>

-->
<ul>
<li>
<p>Generic server (see attachment).</p>
</li>
<li>
<p><code>(make-package model message)</code> to update model and send a message.</p>
</li>
<li>
<p>A main function <code>start-big-bang</code> to launch the windows.</p>
<pre><code>  (define (start-big-bang my-name initial-model)
    (big-bang initial-model
      (on-draw draw-h)
      (on-receive receive-h)
      (on-key key-h)

      (register LOCALHOST)
      (name my-name)
      (close-on-stop true)))
</code></pre>
</li>
<li>
<p>The <code>launch-many-worlds</code> command to quickly and easily start several windows.</p>
<pre><code>  (launch-many-worlds
      (start-big-bang &quot;whale&quot; (make-model &quot;blue&quot; &quot;gray&quot;))
      (start-big-bang &quot;squirrel&quot; (make-model &quot;red&quot; &quot;yellow&quot;)))
</code></pre>
</li>
</ul>
<h2 id="sending-posns">Sending Posns</h2>
<p>One possibility is to send the coordinates in a posn as numbers in a list.</p>
<p>You cannot send whole posns without a hack.
The hack is to make a separate file that contains
a little bit of lower level Racket code and require it. The best place
for this code would be in your <code>posn-util.rkt</code> file! You need to use Racket mode for
that file, not Beginning Student.</p>
<pre><code>    #lang racket
    (provide (all-defined-out))
    (define-struct posn (x y) #:prefab)
</code></pre>
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li>
<p><a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html">Universe in Racket Documentation</a>. See especially <a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28part._universe-sample%29">Section 2.4.7, the examples</a>, where a ball-bouncing example is developed.</p>
</li>
<li>
<p><a href="https://drive.google.com/drive/folders/0BypGcwjV5LOHSlF0ZmxQT0VnelU?resourcekey=0-TWJdVL4Vu5fLS4U3S3S7Uw&amp;usp=sharing">Universe tutorial by Sub</a></p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9f603cc279570ad21089b04367512d69">15.12 - Universe Mistakes</h1>
    <div class="lead">A list of common mistakes made when writing universe animations.</div>
	<ul>
<li>
<p>A <code>package</code> must have the entire model as its first argument. You can&rsquo;t put part of the model in the first argument and another part in the second argument (where the message goes).</p>
</li>
<li>
<p>Do not write recursive functions that take a <code>model</code> as an input.
It is a bad idea. Your code gets more complicated and there is no benefit.
Instead, write a helper function that takes in the list part of the model
(along with any other needed information).</p>
</li>
</ul>
<h2 id="advice">Advice</h2>
<ul>
<li>
<p>Send only the minimum amount of information that needs to be sent.</p>
</li>
<li>
<p>Split actions between local key/mouse/tick handlers and the receive handler.</p>
<ul>
<li>
<p>changes affecting only one world&rsquo;s model should be
done in a key or mouse handler (or the first argument of
<code>make-package</code>)</p>
</li>
<li>
<p>changes in every world&rsquo;s model should be done in the receive
handler</p>
</li>
</ul>
</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c054c92f48c0cf7fd0175abfe91bd9cd">16 - Projects</h1>
    <div class="lead">Larger projects with specifications.</div>
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/battleship/" >Battleship</a></li></p>
<p>The classic Battleship game, one player version.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/snake/" >Snake</a></li></p>
<p>Snake Intro
Orientation to the game of snake.
Snake Functions
A walkthrough of the functions needed to make a Snake game.
Snake Multiplayer
Snake with an unlimited number of players.
Snake AI
Writing a computer player for snake.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/" >Reversi</a></li></p>
<p>Reversi is also known as Othello, played with reversible black/white tokens on an 8x8 board.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e1b8ece92651357c8aab878f45d9ca04">16.1 - Battleship</h1>
    <div class="lead">The classic Battleship game, one player version.</div>
	<p>The game of
<a href="https://en.wikipedia.org/wiki/Battleship_(game)">Battleship</a> is a
classic game from the early 20th Century in which you try to guess the
locations of your opponent&rsquo;s ships in a grid.</p>
<p>You may be able to <a href="https://battleship-game.org/en/">play Battleship
online</a> but do not waste much time
doing that kind of research. Playing on paper is better for developing
your understanding of what information needs to be tracked (the
model).</p>
<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/battleship/model/" >Battleship Model</a></li></p>
<p>Play battleship on paper to develop the model.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/battleship/examples/" >Battleship Examples</a></li></p>
<p>An example of how to use the model you defined.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/battleship/outline/" >Battleship Outline</a></li></p>
<p>Game logic, draw handler, mouse handler.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/battleship/checks/" >Battleship Checks</a></li></p>
<p>Check-expects for the tricker functions in battleship.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/battleship/draw/" >Battleship Action</a></li></p>
<p>Warm-ups for the draw and mouse handler.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e417e1576a9cdf76f6fd25fd796c84a3">16.1.1 - Battleship Model</h1>
    <div class="lead">Play battleship on paper to develop the model.</div>
	<p>The process for developing a model is always the same:</p>
<ol>
<li>Background knowledge: understand the rules and decide what you want
your game to look like when you play it. We will play <a href="https://en.wikipedia.org/wiki/File:Battleships_Paper_Game.svg">Battleship on paper</a>.</li>
<li>Draw at least three scenes from different stages of the game. In
this case, you will want more &ndash; include a win screen, a lose
screen, and three others.</li>
<li>List the information necessary to draw the scenes.</li>
<li>Write down the model you will use.</li>
</ol>
<h2 id="step-1-battleship-on-paper">Step 1: Battleship on paper</h2>
<ul>
<li>
<p>Make two 8x8 grids, one for your ships and one for your attacks on the opponent.</p>
</li>
<li>
<p>Number the rows and columns like a computer screen, beginning with
(0,0) in the upper left.</p>
</li>
<li>
<p>Place your ships. Each ship can go either horizontally or vertically. The number and size of ships varies in different versions of the game. Today we will use this list:</p>
<ul>
<li>Aircraft carrier (5 squares)</li>
<li>Battleship (4 squares)</li>
<li>Cruiser (3 squares)</li>
<li>Destroyer (Two, each 2 squares)</li>
<li>Submarine (1 square)</li>
</ul>
</li>
<li>
<p>Play at least ten rounds with a partner. Keep going until at least one ship is sunk.</p>
</li>
</ul>
<h2 id="step-2-develop-the-model">Step 2: Develop the model</h2>
<p>For developing the model we will think about only two ships. Later you can add the rest.</p>
<ul>
<li>Draw five different situations, including a win and lose end game.</li>
<li>List information you need to draw those situations.</li>
<li>Discuss what information must be <em>remembered</em> (the &ldquo;independent variables&rdquo;) and what can be <em>computed</em> (the &ldquo;dependent variables&rdquo;).</li>
<li>Write the model that corresponds to each one of your scenes.</li>
<li>Save this paper! Check in your work and don&rsquo;t lose it.</li>
</ul>
<h2 id="step-3-check-your-model">Step 3: Check your model</h2>
<ul>
<li>How do you represent one ship?</li>
<li>How do you represent one shot fired?</li>
</ul>
<h2 id="interesting-variations">Interesting variations</h2>
<p>You can explore these ideas later in your game.</p>
<ul>
<li>Some games allow you to shoot multiple times in one turn: one shot
for each un-sunk ship you have.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fbf7a5f50b9a32f57c86fdb74ce092f4">16.1.2 - Battleship Examples</h1>
    <div class="lead">An example of how to use the model you defined.</div>
	<p>In order for all of us to be working with a similar model, this page
uses the definitions below for <code>ship</code> and <code>game</code>.</p>
<pre><code>    (define-struct ship (name posns))
    (define-struct game (ships shots))
</code></pre>
<p>How do we represent one ship, a &ldquo;Destroyer&rdquo; that is three squares long?</p>
<pre><code>    (define ex-ship 
            (make-ship &quot;Destroyer&quot; 
                       (list (make-posn 5 1) (make-posn 5 2) (make-posn 5 3))))
</code></pre>
<p>How can we represent a game in which two shots have been fired?</p>
<pre><code>    (define ex-shots (list (make-posn 5 0)
                           (make-posn 5 1)))
    (define ex-game 
            (make-game (list ex-ship)
                       shots))
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-80817c971f05e4bdb36fdbe2185dea85">16.1.3 - Battleship Outline</h1>
    <div class="lead">Game logic, draw handler, mouse handler.</div>
	<p>In order for all of us to be working with a similar model, this page
uses the definitions below for <code>ship</code> and <code>game</code>.</p>
<pre><code>    (define-struct ship (name posns))
    (define-struct game (ships shots))
</code></pre>
<h2 id="game-logic">Game logic</h2>
<ul>
<li>
<p><code>posn-in-list</code>: posn(x) list-of-posns(data) -&gt; boolean. True if x is
one of the posns in data. You may have to write the <code>posn=?</code>
function yourself if it is not in your <code>posn-util</code>.</p>
</li>
<li>
<p><code>shot-hit-ship-ps?</code>: posn(shot) list-of-posns(ps) -&gt; boolean. True if
the shot hit the ship specified by the posns.</p>
</li>
<li>
<p><code>shot-hit-any-ship?</code>: posn(shot) list-of-ships -&gt; boolean. True if
the shot hits any one of the ships.</p>
</li>
<li>
<p><code>ship-ps-sunk?</code>: list-of-posn(ship-ps) list-of-posn(shots) -&gt;
boolean. True if every posn in the ship is hit by a shot. (Helper
function.)</p>
</li>
</ul>
<p>Functions that use the ship struct instead of a list of posns make
the logic look nice (but are not strictly necessary).</p>
<ul>
<li><code>shot-hit-ship?</code>: posn(shot) ship-struct -&gt; boolean</li>
<li><code>ship-sunk?</code>: ship-struct list-of-posn(shots) -&gt; boolean</li>
</ul>
<h2 id="drawing">Drawing</h2>
<ul>
<li>You should have constants defined for the width and height of the board.
Call them <code>COLUMNS</code> and <code>ROWS</code>.</li>
</ul>
<p>There are two different, equally valid, ways to draw:</p>
<ol>
<li>Draw the grid, filling in the correct coloring for each square as you go.</li>
<li>Draw an empty grid, then fill in each shot using <code>place-image</code>.</li>
</ol>
<p>This discussion will use the second method.</p>
<h3 id="sizes">Sizes</h3>
<p>How big should each grid square be? You get to decide, but make a
constant instead of just writing &ldquo;40&rdquo; or &ldquo;50&rdquo; everywhere in your code.</p>
<h3 id="draw-grid">Draw grid</h3>
<p>Hopefully you&rsquo;ve done this before. Usually two functions combine to make a grid.</p>
<ol>
<li>
<p><code>horizontal-stack</code>: number(m) image -&gt; image. Repeat the image
(which will be a grid square) M times.</p>
</li>
<li>
<p><code>vertical-stack</code>: number(n) image -&gt; image. Repeat the image (which
will be a row of squares) N times.</p>
</li>
</ol>
<h3 id="grid-coordinates">Grid coordinates</h3>
<p>When we talk about the square at grid coordinates (0,2), we mean row 0
(the top row) and column 2 (which is the third column, since we start
counting from zero).</p>
<p>Image coordinates are usually numbers like (20,100), representing the
actual location in the image of the center of the grid square.</p>
<h3 id="draw-shots">Draw shots</h3>
<p>Drawing the shots means we have to translate from grid coordinates to image coordinates.</p>
<p>When each square is 40x40, what are the coordinates of the center of grid square (2,1)?
Draw a picture and figure it out now!</p>
<ul>
<li>
<p><code>grid-&gt;image-coords</code>: posn -&gt; posn. Translate the grid coordinates
to image coordinates. The result should depend on the size of the squares in the grid.</p>
</li>
<li>
<p><code>draw-one-shot</code>: game posn(shot) image(bg) -&gt; image. Draw one shot
on the background. You will need to decide if the shot is a hit or
a miss before you draw it.</p>
</li>
<li>
<p><code>draw-all-shots</code>: game list-of-posn(shots) image(bg) -&gt; image. Draw
all shots on the background.</p>
</li>
</ul>
<h2 id="mouse-handler">Mouse handler</h2>
<p>When you click on a square, it should make a &ldquo;shot&rdquo; that hits that square.</p>
<p>Example: grid squares are huge, 100x100. You click on (310, 190). What
board square contains that click?</p>
<p>Answer: (3,1). Just divide each coordinate by the size of one grid square.</p>
<ul>
<li>
<p>Signature: <code>mouse-handler</code>: game(old-model) x y event -&gt; game(new-model).</p>
</li>
<li>
<p>Purpose: when the event is a click, add the corresponding square to
the list of shots in the model.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e8dbd0fde048eb472388002c6c7a5e84">16.1.4 - Battleship Checks</h1>
    <div class="lead">Check-expects for the tricker functions in battleship.</div>
	<p>The ability to write checks independently is important! These checks
are written to help people know when they are off track, but if you
are doing top-level work, you should be analyzing and writing your own
functions (including checks). Check in here when you think your
function works.</p>
<h2 id="basic-definitions">Basic definitions</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">ship</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">name</span> <span style="color:#000">posns</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">ex-ship-1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ship</span> <span style="color:#4e9a06">&#34;Betty&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">ex-ship-2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-ship</span> <span style="color:#4e9a06">&#34;Charlie&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><h2 id="shot-hit-any-ship">shot-hit-any-ship?</h2>
<p>A shot is colored a &ldquo;hit&rdquo; if it hits any ship on the board. The only
way to know a shot is a &ldquo;miss&rdquo; is by checking that it misses every
ship. Any ship you do not check could be placed at the spot where the
shot hits.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; one ship, one shot, shot hits ship</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">shot-hit-any-ship?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                                  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000">ex-ship-1</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; one ship, one shot, shot misses ship</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">shot-hit-any-ship?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                                  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000">ex-ship-1</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; two ship, one shot, shot hits ship #2</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">shot-hit-any-ship?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                                  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000">ex-ship-1</span>
</span></span><span style="display:flex;"><span>                                        <span style="color:#000">ex-ship-2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; two ship, one shot, shot misses everything</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">shot-hit-any-ship?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">9</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                                  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000">ex-ship-1</span>
</span></span><span style="display:flex;"><span>                                        <span style="color:#000">ex-ship-2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h2 id="ship-sunk">ship-sunk?</h2>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">warning</h4>

    A very common mistake is to declare a ship sunk once
it is hit by a single shot.

</div>

<p>This discussion will use a helper function. It is not absolutely
necessary to write your functions this way.</p>
<pre tabindex="0"><code>ship-sunk? : ship list-of-posn(shots) -&gt; boolean
ship-sunk-helper? : list-of-posn(ship-posns)
                    list-of-posn(shots)
                    -&gt; boolean
</code></pre><p>Checks for the helper:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; one shot, and it sinks the ship</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-sunk-helper?</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-posns</span> <span style="color:#000">ex-ship-2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; one shot, and it misses the ship</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-sunk-helper?</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-posns</span> <span style="color:#000">ex-ship-2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; two shots, and first misses, second sinks</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-sunk-helper?</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-posns</span> <span style="color:#000">ex-ship-2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                     <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; one shot hits, but ship has 2 posns, not sunk</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-sunk-helper?</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-posns</span> <span style="color:#000">ex-ship-1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">;; two shots hits, sunk</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-sunk-helper?</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-posns</span> <span style="color:#000">ex-ship-1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                     <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">;; two shots hits, sunk</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-sunk-helper?</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ship-posns</span> <span style="color:#000">ex-ship-1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>This function can be written by going through either the list of posns
in the ship or the shots. I prefer to start with the question &ldquo;is the
first posn in the ship hit by a shot?&rdquo;</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-717e51c204d39880ed36cd4af2da140b">16.1.5 - Battleship Action</h1>
    <div class="lead">Warm-ups for the draw and mouse handler.</div>
	<h2 id="grid-drawing-system">Grid Drawing System</h2>
<p>We are going to set up a system to draw on a grid where each square is
50x50. You have probably done this before.</p>
<p>We want to take the list</p>
<pre><code>(list (make-posn 5 2) (make-posn 4 3) (make-posn 3 2))
</code></pre>
<p>and draw it as</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/projects/battleship/draw/greysquares.png" width="150px"/> 
</figure>
<p>Ingredients:</p>
<ul>
<li>
<p><code>gp-&gt;cp</code>: posn -&gt; posn. A function that takes grid coordinates and
puts out the computer coordinates of the center of the grid
square. You need to decide if the upper left is <code>(0,0)</code> or
<code>(1,1)</code> (both are fine). I chose <code>(0,0)</code> as the upper left, which
corresponds to a computer posn of <code>(25,25)</code>.</p>
<pre><code>  (check-expect (gp-&gt;cp (make-posn 1 2)) (make-posn 75 125))
</code></pre>
</li>
<li>
<p><code>draw-squares</code>: list-of-posn(grid-posns) image(background) -&gt; image. Draw grey squares at
every grid posn, on top of the background image.</p>
<p>The purpose of taking in an image background is to make it easier to
make this function step by step. You can also use smaller
backgrounds for your testing than you want to use for the real game.</p>
</li>
<li>
<p><code>draw-h</code>: list-of-posn(grid-posns) -&gt; image. Same as <code>draw-squares</code>,
but pick a specific background.</p>
</li>
</ul>
<h2 id="interactive-clicking">Interactive Clicking</h2>
<p>Now we want to place a grey square every time we click inside the grid
box. The center of the square we place should be in the center of the
grid square, regardless of whether we click in the middle or on the
edge of the grid square.</p>
<p>Ingredients:</p>
<ul>
<li>
<p><code>cp-&gt;gp</code>: posn -&gt; posn. A function to translate computer coordinates
to grid coordinates. I am using <code>(0,0)</code> as the upper left:</p>
<pre><code>  (check-expect (cp-&gt;gp (make-posn 28 107) (make-posn 0 2)))
</code></pre>
</li>
<li>
<p><code>mouse-h</code>: A mouse handler using a list of posns for the model. Add
the grid posn when you click.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mouse-h</span> <span style="color:#204a87">empty</span> <span style="color:#0000cf;font-weight:bold">28</span> <span style="color:#0000cf;font-weight:bold">107</span> <span style="color:#4e9a06">&#34;button-down&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>              <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><h2 id="combining">Combining</h2>
<p>Put your functions together and make sure they work before you try to
do something more complex.</p>
<pre tabindex="0"><code>(big-bang empty
  (on-draw draw-h)
  (on-mouse mouse-h))
</code></pre><p>Make sure the grid square lights up no matter where in the square you
click.</p>
<h2 id="bonus">Bonus</h2>
<p>Add a key handler so that hitting backspace (key is <code>&quot;\b&quot;</code>) removes
the most recently placed square.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-43bf5ff72413ae1c1c43625d66b3bc9e">16.2 - Snake</h1>
    
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/snake/10-snake-intro/" >Snake Intro</a></li></p>
<p>Orientation to the game of snake.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/snake/100-snake/" >Snake Functions</a></li></p>
<p>A walkthrough of the functions needed to make a Snake game.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/snake/110-multiplayer/" >Snake Multiplayer</a></li></p>
<p>Snake with an unlimited number of players.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/snake/120-ai/" >Snake AI</a></li></p>
<p>Writing a computer player for snake.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-100ec0a6cd961c62621db0b98a4d8a57">16.2.1 - Snake Intro</h1>
    <div class="lead">Orientation to the game of snake.</div>
	<p>In the game of snake, your object is to eat food and get as long as
you can without running into yourself, the walls, or another player.</p>
<ul>
<li>
<p>Wikipedia entry on the
<a href="https://en.wikipedia.org/wiki/Snake_(video_game_genre)">Snake</a>
video game.</p>
</li>
<li>
<p>Play <a href="https://www.google.com/fbx?fbx=snake_arcade">snake</a> online in
one of its <a href="https://playsnake.org/">many</a>
<a href="https://slither.io">forms</a>. You might not be able to access some of
these from the school internet.</p>
</li>
</ul>
<p>The Google version of the game looks like the one below. Make sure you
turn the sound off!</p>
<figure><a href="https://www.google.com/fbx?fbx=snake_arcade">
    <img src="/teaching--2021-2022/intermediate-cs/projects/snake/10-snake-intro/snakeimage.jpeg" width="300"/> </a>
</figure>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e454e4c20413bebf24562beeaf13e77a">16.2.2 - Snake Functions</h1>
    <div class="lead">A walkthrough of the functions needed to make a Snake game.</div>
	<h2 id="draw-handler">Draw-handler</h2>
<ul>
<li>Draw-apple: posn image(background) -&gt; image</li>
<li>Draw-snake: list-of-posns image(background) -&gt; image</li>
</ul>
<h2 id="helper-functions">Helper Functions</h2>
<ul>
<li>Hit-apple? posn(snake-head) posn(apple) -&gt; boolean</li>
<li>Hit-self?: list-of-posns(body) -&gt; boolean</li>
<li>Hit-wall?: posn(snake-head) -&gt; boolean</li>
<li>New-head-position: posn(snake-head) posn(direction) -&gt; posn</li>
<li>Update-snake: list-of-posns(body) posn(direction) -&gt; list-of-posns.
Change the list of posns so the snake moves. Add the direction posn to the first posn in the body. Put that result in front of a list made by dropping the last posn from the list of posns.</li>
</ul>
<h2 id="tick-handler">Tick handler</h2>
<ul>
<li>Tick-apple: model -&gt; model.
Make the apple vanish/move and snake grow longer when it hits the apple.</li>
<li>Tick-snake: model -&gt; model.
Update snake position.</li>
</ul>
<h2 id="key-handler">Key handler</h2>
<ul>
<li>Key-handler: model key -&gt; model.
Straightforward. It is good to add a feature so you can&rsquo;t go back on yourself.</li>
</ul>
<h2 id="update-snake">Update-snake</h2>
<p>The snake appears to move by removing the last body segment and adding
a new segment in the correct location for the head. You should do this
in two separate functions before putting it together.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5242548c638271352915b3ac84470bdc">16.2.3 - Snake Multiplayer</h1>
    <div class="lead">Snake with an unlimited number of players.</div>
	<p>Make sure you have a working <a href="https://maueroats.github.io/teaching--2018-2019/intermediate-cs/projects/snake/">single
player</a>
snake (if not two player snake) before
starting this project!</p>
<p>Overall, people report that the code for multiplayer snake gets
large. You probably want to make a separate folder for your snake game
and break it into separate files using require and provide. I
recommend each file only do one &ldquo;part&rdquo; of the animation. To give you
an idea, I made separate files for:</p>
<ul>
<li>define-struct</li>
<li>examples used in testing</li>
<li>draw handler</li>
<li>key handler</li>
<li>tick handler</li>
<li>collision detection (which is part of the tick handler, but it was
complicated enough that I made another file)</li>
<li>computer player (again, called in tick handler)</li>
</ul>
<h2 id="model">Model</h2>
<p>For many multi-player snake, we will want:</p>
<ul>
<li>a list of apple locations</li>
<li>a list of snakes,</li>
</ul>
<p>where each snake has</p>
<ul>
<li>id - a number to identify the snake to make it easier to control</li>
<li>head - position of the head (could just be first of the body)</li>
<li>body - a list of positions</li>
<li>dir - a posn giving the direction of motion of the head</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">sn</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">id</span> <span style="color:#000">head</span> <span style="color:#000">body</span> <span style="color:#000">dir</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">multi</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">apples</span> <span style="color:#000">snakes</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h2 id="draw-handler">Draw Handler</h2>
<p>Break the job into pieces, draw each piece on a provided background.</p>
<ul>
<li>draw-snake-1: sn image -&gt; image</li>
<li>draw-snakes: list-of-snakes image -&gt; image</li>
<li>draw-apple-1: posn image -&gt; image</li>
<li>draw-apples: list-of-posn image -&gt; image</li>
</ul>
<h2 id="key-handler">Key Handler</h2>
<p>I wrote one function to determine which id number snake certain keys
control and another function to determine which way the snake turns
given the keys.</p>
<p>I then applied the change in direction to the snake with the
appropriate id (going through the whole list of snakes and not
changing the rest of them).</p>
<h2 id="tick-handler">Tick Handler</h2>
<p>There&rsquo;s a lot to the tick handler. I&rsquo;m going to leave planning this up
to you. Email with questions! This sketch is short / incomplete.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f2e250f1ba2556c8fd7712ca1e397d4b">16.2.4 - Snake AI</h1>
    <div class="lead">Writing a computer player for snake.</div>
	<p>We are going to write a computer player (&ldquo;ai&rdquo;) for a snake.</p>
<p>The tick handler will give each computer controlled snake a chance to
choose a new direction just before the game state updates. The key
ai function will have a signature like this:</p>
<pre tabindex="0"><code>ai-function: snake world -&gt; posn(direction)
</code></pre><p>In fact, most of the code will be building up or reducing the list of
possible choices, so expect most AI-related functions to take in a
list of directions in addition to the snake and the world, and put out
a possibly smaller list of directions - the best choices according to
that level of the AI.</p>
<h2 id="levels-of-ai">Levels of AI</h2>
<p>There are different levels of &ldquo;AI&rdquo; that a computer player could
have. We will build up from the simplest to the most complex, making
sure each step along the way works before moving to the next.</p>
<ol start="0">
<li>Randomly choose one of the four possible directions.</li>
<li>Move randomly, just do not go back on yourself.</li>
<li>Avoid the boundary walls in addition to the above.</li>
<li>Get an apple if you are right next to it, in addition to the above.</li>
<li>Move toward the nearest apple, in addition to the above.</li>
</ol>
<p>None of the functions we are thinking of writing will have any &ldquo;global
strategy&rdquo;. Expect these computer snakes to drive themselves in circles
that cause them to die.</p>
<h3 id="level-0">Level 0</h3>
<p>A snake can only move one of four directions.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">DIRECTIONS</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#000;font-weight:bold">)</span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span>  <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span>  <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-1</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div><p>We will need a random choice function.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; random-choice: list-of-things -&gt; thing</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">random-choice</span> <span style="color:#000">things</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list-ref</span> <span style="color:#000">things</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">random</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">length</span> <span style="color:#000">things</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><p>One problem I had was that I needed to be careful to make sure there
was not an error when there were no choices (snake has to crash). My
level 0 AI keeps going straight if there are no possibilities (for not crashing).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">level-0</span> <span style="color:#000">snake</span> <span style="color:#000">world</span> <span style="color:#000">possible</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">empty?</span> <span style="color:#000">possible</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#000">sn-dir</span> <span style="color:#000">snake</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#000">random-choice</span> <span style="color:#000">possible</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">ai-level-0</span> <span style="color:#000">snake-world</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#000">level-0</span> <span style="color:#000">snake</span> <span style="color:#000">world</span> <span style="color:#000">DIRECTIONS</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><h3 id="level-1">Level 1</h3>
<p>The level 1 function just needs to avoid going back on itself. That
means do not pick the move that gives you the first of the
body. There are lots of ways to do this, so if you like the sound of
something just do it.</p>
<p>One way: write a helper function to figure out if a single direction
is safe. Given a direction, find out if moving the head one unit in
that direction will not hit the first position of the body. If so,
consider it one of the possibilities.</p>
<ul>
<li>head-move: snake posn(direction) -&gt; posn(new head posn)</li>
<li>hit-first-body?: posn snake -&gt; boolean</li>
<li>is-safe-dir?: snake posn(direction) -&gt; boolean</li>
<li>only-safe: snake world possible(list of directions) -&gt; list-of-posn(safe directions)
Apply <code>is-safe-dir?</code> to all of the possible directions,
eliminating the unsafe ones.</li>
</ul>
<p>Notice how I build on my <code>level-0</code> function in <code>level-1</code>? That is a
good pattern to use!</p>
<pre tabindex="0"><code>(define (level-1 snake world possible)
  (level-0 snake world
           (only-safe snake world possible)))
</code></pre>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-398f5d0346c54df81601ae7f700333d5">16.3 - Reversi</h1>
    <div class="lead">Reversi is also known as Othello, played with reversible black/white tokens on an 8x8 board.</div>
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/100-overview/" >Reversi Overview</a></li></p>
<p>The game of Reversi, also known as Othello, is played with reversible white/black tokens on an 8x8 board.
Read the rules on Wikipedia. A play must bracket and flip at least one of the opponent&rsquo;s pieces.
You can play reversi online if you need to get familiar with the game. Don&rsquo;t waste a lot of time on. Once you have a working two-player reversi, then you can start thinking about a computer player.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/105-structs/" >Reversi Structs</a></li></p>
<p>Structures used in reversi.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/110-stage1/" >Reversi Placement</a></li></p>
<p>A basic mechanic of placing pieces on the board.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/120-indicator/" >Reversi Indicator</a></li></p>
<p>Instructions to add an indicator showing where you will place a piece.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/130-ray/" >Reversi Ray</a></li></p>
<p>A variant on the true game of Reversi.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/135-board/" >Reversi Board</a></li></p>
<p>The first issue in dealing with &ldquo;true reversi&rdquo; is getting pieces from the board.
Board Access We will write a function to get the piece at a given location on the board. This would be simple, except what should we do when that location is empty?
Unoccupied We will make a special piece that we use to indicate that the location is empty. You should make your own by filling in ZZZ with an appropriate string or number.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/137-plan/" >Reversi Flip Plan</a></li></p>
<p>In &ldquo;true reversi&rdquo;, a play is required to flip one of the opponent&rsquo;s pieces. There are multiple sensible ways for you to program piece flipping, one is explained here.
This outline is just for context; there is nothing to write (yet) using the information on this page.
Flipping Plan Determine how many steps in a given direction should be flipped. In this plan, this is the most important step. It is described below.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/140-flips/" >Reversi Count Flips</a></li></p>
<p>The plan is to count how many pieces will flip in a given direction. The key part of this is a helper function that knows how many pieces would be flipped so far in the analysis and a location (posn) the board to continue analyzing.
Attachments reversi-flip-examples.pdf (1383 kB) The attachments are intended to be used to write check-expects for the count-flip-help.
Count Flip Outline Counting how many pieces flip is done by summing the numbers of pieces that are flipped in each direction.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/projects/reversi/150-stack/" >Reversi Stack</a></li></p>
<p>This page describes a variation called &ldquo;Reversi Stack&rdquo;.
Big Picture A Piece now includes a stack field to count how many pieces are stacked up at that location.
(define-struct piece-stack (team loc stack)) Playing on your own stack increases the number of pieces in your stack by one.
Playing on an empty square makes a stack of one of your own pieces.
Playing on an opponent&rsquo;s stack decreases the size of the stack by one, leaving the square empty if there are zero pieces in the stack.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-38d878eb708d45c292d48751470f1d59">16.3.1 - Reversi Overview</h1>
    
	<p>The game of <a href="https://en.wikipedia.org/wiki/Reversi">Reversi</a>, also
known as Othello, is played with reversible white/black tokens on an
8x8 board.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/projects/reversi/100-overview/reversi-start.png"/> 
</figure>
<p>Read the <a href="https://en.wikipedia.org/wiki/Reversi#Rules">rules on
Wikipedia</a>. A play must
bracket and flip at least one of the opponent&rsquo;s pieces.</p>
<p>You can play <a href="https://cardgames.io/reversi/">reversi online</a> if you
need to get familiar with the game. Don&rsquo;t waste a lot of time on.
Once you have a working two-player reversi, then you can start
thinking about a computer player.</p>
<p>We will start with simpler / stylized versions and work our way up to
something resembling Reversi.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6dd679a15eed9667c5965c931a1e342f">16.3.2 - Reversi Structs</h1>
    <div class="lead">Structures used in reversi.</div>
	<p>One key question is: how do you want to represent your players?</p>
<p>A name (string) or a number both work. Discussion about this
choice is good - write a choice and why you think that will be better</p>
<p>Another question is: in your game model, do you want to represent the
pieces of each player in one list for the entire game, or one list for
each player?</p>
<p>Both of those choices work, and discussion is essential if you want to
understand the implications of each choice.</p>
<p>In the writing below I make one choice to make the guide easier; feel
free to choose a different method if you prefer.</p>
<h2 id="piece">Piece</h2>
<p>A piece holds the information of which player controls it (&ldquo;team&rdquo;) and
the location of the piece on the board.</p>
<pre><code>(define-struct piece (team loc))
</code></pre>
<ul>
<li>The <code>team</code> should be the method you chose, above.</li>
<li>The <code>loc</code> should be a posn in &ldquo;grid coordinates&rdquo;.</li>
</ul>
<h2 id="game">Game</h2>
<p>You can call your game mode <code>game</code> or just <code>m</code> for &ldquo;model&rdquo;.</p>
<pre><code>(define-struct game (board player mode mouse))
</code></pre>
<p>The fields represent:</p>
<ul>
<li><code>board</code>: a list of <code>piece</code>. In this writeup, both players&rsquo; pieces
are stored together in a single list.</li>
<li><code>player</code>: the current player, should be the same type of object as
<code>team</code> in a <code>piece</code>;</li>
<li><code>mode</code>: a number used to change the way placing pieces behaves - to
discuss later;</li>
<li><code>mouse</code>: the most recent position of the mouse, a posn in grid
coordinates.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-72c727d36443e05478dd293a759f46a8">16.3.3 - Reversi Placement</h1>
    <div class="lead">A basic mechanic of placing pieces on the board.</div>
	<p>We are going to make an animation where clicking places a piece and
space bar changes the current player.</p>
<p>You can choose the colors of the pieces yourself.</p>
<h2 id="example-model">Example Model</h2>
<p>Make an example game model showing one piece at (2,5) and the current
player being the opposite of the one who owns the piece. The mode
should be 1.</p>
<h2 id="grid">Grid</h2>
<p>You need a grid and functions to convert to and from grid
coordinates. Those should already be written from earlier
projects. Find them now.</p>
<h2 id="draw-handler">Draw Handler</h2>
<p>Write a draw handler to draw the pieces of the game on the board. If
you are not sure how to do this, break it down into small steps:</p>
<ul>
<li>draw-one: piece image -&gt; image</li>
<li>draw-all: list-of-piece image -&gt; image</li>
<li>draw-h1: game -&gt; image</li>
</ul>
<h2 id="mouse-handler">Mouse Handler</h2>
<p>The mouse handler (version 1) places the piece where you click.</p>
<p>Write a check-expect so you think through what need to do
before you write the function.</p>
<pre><code>mouse-h: game-model x y mouse-event -&gt; game-model
</code></pre>
<h2 id="key-handler">Key Handler</h2>
<p>Hitting the space bar should switch between players.</p>
<p>Surprisingly, I recommend a helper function!</p>
<pre><code>switch-player: game-model -&gt; game-model
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a557b182fec08f01faa268f2988a3d50">16.3.4 - Reversi Indicator</h1>
    <div class="lead">Instructions to add an indicator showing where you will place a piece.</div>
	<p>The indicator should be a somewhat-transparent version of the actual
piece.</p>
<h2 id="draw-handler">Draw Handler</h2>
<ul>
<li>draw-indicator: posn player image -&gt; image.</li>
<li>draw-h2: game-model -&gt; image.
The second draw handler should call the first draw handler to draw
the pieces on the board.</li>
</ul>
<h2 id="mouse-handler">Mouse Handler</h2>
<p>If your mouse handler does not remember the most recent position of
the mouse, you will have to add that now.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7c439ba049b3aaf74830406517deee80">16.3.5 - Reversi Ray</h1>
    <div class="lead">A variant on the true game of Reversi.</div>
	<p>This variation on the game of Reversi is simpler to implement than the
&ldquo;full version&rdquo;, so we will do it first. In this version, we place one
piece on the board and then choose a direction to extend a line of
pieces in one direction.</p>
<p>A line that extends in only one direction is called a ray, so this
version is called the &ldquo;ray&rdquo;.</p>
<p>In this version the <code>mode</code> part of the struct gets used to tell the
difference between the mode of placing the anchor and the mode of
choosing the direction.</p>
<h2 id="anchor-mode">Anchor Mode</h2>
<p>The first piece you place is called the anchor.
The mode for placing an anchor is the same as the normal mode that you
have already written, except that after you place the piece, then it
changes to &ldquo;direction mode&rdquo;.</p>
<p>(Pick a number of &ldquo;anchor mode&rdquo;, I used 3. You could even use 1!)</p>
<pre><code>(define ANCHOR-MODE 3)
</code></pre>
<p>Important: write a check-expect for the mouse-handler showing how a
piece gets placed and the mode gets changed to <code>DIRECTION-MODE</code>.</p>
<h2 id="direction-mode">Direction Mode</h2>
<p>The second click selects a direction for the ray to extend. The action
in this step is quite a bit more complex.</p>
<p>(Pick a number for &ldquo;direction mode&rdquo;, I used 4.)</p>
<pre><code>(define DIRECTION-MODE 4)
</code></pre>
<ul>
<li>Write the helper functions (see below).</li>
<li>Change back to &ldquo;anchor mode&rdquo; after the pieces are placed.</li>
<li>Refuse to place the direction piece if it is not adjacent to the
anchor piece.</li>
</ul>
<h2 id="ray-helpers">Ray Helpers</h2>
<p>Write a helper function <code>ray-one</code> that produces a list of a given
number of posns beginning at a start posn and going in a direction
posn.</p>
<pre><code>ray-one: posn(start) posn(direction) number(steps) -&gt; list-of-posn 
</code></pre>
<p>Hopefully you can do this with your recursive function-writing
skills. Start with a check in a simple case, like steps=1 or even
steps=0.</p>
<p>Then write a helper function that converts these posns to pieces. The
additional information you need is who is playing the pieces.</p>
<pre><code>ray-two: player list-of-posn -&gt; list-of-piece
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-685e2134fd125decc99ae0983a7ffb96">16.3.6 - Reversi Board</h1>
    
	<p>The first issue in dealing with &ldquo;true reversi&rdquo; is getting pieces from
the board.</p>
<h2 id="board-access">Board Access</h2>
<p>We will write a function to get the piece at a given location on the
board. This would be simple, except what should we do when that
location is empty?</p>
<h3 id="unoccupied">Unoccupied</h3>
<p>We will make a special piece that we use to indicate that the location
is empty. You should make your own by filling in <code>ZZZ</code> with an
appropriate string or number.</p>
<pre><code>(define UNOCCUPIED (make-piece ZZZ (make-posn XXX YYY))
</code></pre>
<p>An in-person discussion about how to fill in XXX and YYY would make
sense. Otherwise just pick some huge numbers that are definitely not
on the board.</p>
<p>After those choices, we are ready to write a function that tells if a
posn (location) is occupied.</p>
<pre><code>unoccupied-piece?: piece -&gt; boolean
occupied?: list-of-pieces(board) posn(loc) -&gt; boolean
</code></pre>
<h3 id="get-pieces">Get Pieces</h3>
<p>The <code>get-piece</code> function returns the Piece at a given location on the
board, or <code>UNOCCUPIED</code> if the location is empty.</p>
<pre><code>get-piece: list-of-pieces(board) posn(loc) -&gt; piece
</code></pre>
<p>Notice the signature! Don&rsquo;t get confused and return &ldquo;unoccupied&rdquo; (a
string) instead of the <code>UNOCCUPIED</code> Piece defined above.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3b2ddceea20c2a733b6ab670c4d22e7a">16.3.7 - Reversi Flip Plan</h1>
    
	<p>In &ldquo;true reversi&rdquo;, a play is required to flip one of the opponent&rsquo;s
pieces. There are multiple sensible ways for you to program piece
flipping, one is explained here.</p>
<p>This outline is just for context; there is nothing to write (yet)
using the information on this page.</p>
<h2 id="flipping-plan">Flipping Plan</h2>
<ul>
<li>
<p>Determine how many steps in a given direction should be
flipped. In this plan, this is the most important step. It is
described below.</p>
</li>
<li>
<p>Use <code>ray-one</code> to generate a list of all of the posns of pieces that
should be flipped.</p>
</li>
<li>
<p>Write a helper function (<code>board-flip-some</code>) to update the board by
flipping all of the pieces in a given list. The signature in this
case would be</p>
<pre><code>  board-flip-some: list-of-piece(board) list-of-posn -&gt; list-of-piece
</code></pre>
</li>
</ul>
<h2 id="upcoming">Upcoming</h2>
<p>The next section explains how to create a function that will find how
many pieces are flipped by a certain play.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d986bc6b4d613dab5dc4db413a68e2c3">16.3.8 - Reversi Count Flips</h1>
    
	<p>The plan is to count how many pieces will flip in a given
direction. The key part of this is a helper function that knows how
many pieces would be flipped so far in the analysis and a location (posn)
the board to continue analyzing.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Attachments</h4>

     <section class="article">
<li>
<a href="https://raw.githubusercontent.com/maueroats/teaching--2021-2022/main/intermediate-cs/projects/reversi/140-flips/files/reversi-flip-examples.pdf">reversi-flip-examples.pdf</a>
(1383 kB)
</li>
</section>


</div>

<p>The attachments are intended to be used to write check-expects for the
<code>count-flip-help</code>.</p>
<h2 id="count-flip-outline">Count Flip Outline</h2>
<p>Counting how many pieces flip is done by summing the numbers of pieces
that are flipped in each direction. In a given direction, a helper
function examines a line of squares until it has figured out how many
pieces will flip in that sequence.</p>
<ul>
<li><code>count-flips-all: board player posn(current) -&gt; number</code>: Considering every
direction, how many pieces will a particular play flip?</li>
<li><code>count-flips-one: board player posn(current) posn(direction) -&gt; number</code>: Considering only a single direction, how many pieces will
flip?</li>
<li><code>count-flips-help: board player posn(next) posn(direction) number(flip-so-far) -&gt; number</code>: Given the next square to analyze
and a count of the number of pieces that would be flipped so far,
return the total number of pieces that would flip (in that given direction).</li>
</ul>
<p>The <code>count-flips-one</code> is a &ldquo;wrapper&rdquo; function that starts with the
current position (and direction), and then calls <code>count-flips-help</code>
using zero flips and the next square in that direction.</p>
<h2 id="count-flip-helper">Count Flip Helper</h2>
<p>We will design a helper function to examine a sequence of positions in
a given direction and count how many pieces would flip in that
sequence. Remember: <strong>opponent&rsquo;s pieces only flip if they are &ldquo;sandwiched&rdquo;
between the player&rsquo;s pieces</strong>. Review the rules of &ldquo;true reversi&rdquo; if
you are confused!</p>
<p>Basic information:</p>
<ul>
<li><code>board</code> (list of piece)</li>
<li><code>player</code>: the current player</li>
<li><code>next</code> (posn): a square to examine</li>
<li><code>dir</code> (posn): the direction to continue looking</li>
<li><code>flips-so-far</code> (number)</li>
</ul>
<!--The starting piece is the player's, so there is no need to examine
it. In this explanation, we chose to work with the "next" piece in a
particular direction, that is `(posn-add start direction)`.-->
<p>In order to understand how this function works, it is critical to work
through some examples (check-expects) of particular board setups. See
the <a href="files/reversi-flip-examples.pdf">Reversi flips
attachment</a>. Please go write
check-expects for those examples now.</p>
<p>In each of these cases for logic in the <code>count-flips-help</code> function,
figure out what the correct response should be:</p>
<ol>
<li>The <code>next</code> square is not occupied. <!--The function returns 0.--></li>
<li>A player&rsquo;s own piece occupies the <code>next</code> square.
This means no more pieces flip. <!--, so return `flips-so-far`.--></li>
<li>The opponent&rsquo;s piece occupies the <code>next</code> square. <!--: continue a
recursive function call, adding one to `flips-so-far` and using the
next square in the given direction.--></li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3c61f27fd43e8278ee26acb2513e564f">16.3.9 - Reversi Stack</h1>
    
	<p>This page describes a variation called &ldquo;Reversi Stack&rdquo;.</p>
<h2 id="big-picture">Big Picture</h2>
<ul>
<li>
<p>A Piece now includes a stack field to count how many pieces are
stacked up at that location.</p>
<pre><code>  (define-struct piece-stack (team loc stack))
</code></pre>
</li>
<li>
<p>Playing on your own stack increases the number of
pieces in your stack by one.</p>
</li>
<li>
<p>Playing on an empty square makes a stack of one of your own pieces.</p>
</li>
<li>
<p>Playing on an opponent&rsquo;s stack decreases the size of the stack by
one, leaving the square empty if there are zero pieces in the stack.</p>
</li>
<li>
<p>The draw handler puts a number on each piece drawn, showing how
many pieces in the stack.</p>
</li>
</ul>

</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4af2b0ec09999c43ba7ebe8aeb77fddb">17 - Sem.II Review</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-fa1bec56a1d591615f5281b23b34e93e">17.1 - 2020 Sem.II Final</h1>
    
	<p>You may use the Picturing Programs book and the Racket Help Desk. You
may not use your old work. Please do not discuss this test with other people
until after 1:30pm on the day after the exam.</p>
<h2 id="1-signatures">1. Signatures</h2>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">info</h4>

    <p>MODEL: <code>tstm</code></p>
<ul>
<li><code>p</code>: a posn with number coordinates, like <code>(make-posn 3 4)</code></li>
<li><code>n</code>: a number, like <code>5</code></li>
<li><code>c</code>: a color string, like <code>&quot;red&quot;</code></li>
<li><code>ell</code>: a list of numbers, like <code>(list 8 15 20 21)</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">tstm</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">p</span> <span style="color:#000">n</span> <span style="color:#000">c</span> <span style="color:#000">ell</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div>

</div>

<p>In this section all models are assumed and required to have their
parts with the correct types above. You do not need to check that
models you are given are correct, and models you produce must also
have the correct types in each spot.</p>
<p>1a. Give a signature for this function</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mystery-1a</span> <span style="color:#000">g</span> <span style="color:#000">h</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-tstm</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#000">g</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>             <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">sqrt</span> <span style="color:#000">g</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>             <span style="color:#000">h</span>
</span></span><span style="display:flex;"><span>             <span style="color:#204a87">empty</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>1b. Give a signature for this function</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mystery-1b</span> <span style="color:#000">t</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">empty?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tstm-ell</span> <span style="color:#000">t</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tstm-p</span> <span style="color:#000">t</span><span style="color:#000;font-weight:bold">)]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tstm-n</span> <span style="color:#000">t</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">string-length</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tstm-c</span> <span style="color:#000">t</span><span style="color:#000;font-weight:bold">)))]))</span>
</span></span></code></pre></div><h2 id="2-structures">2. Structures</h2>
<p>Using the same structure <code>tstm</code> from above, write a function to be
used as a tick handler - add 1 to the number in the model.</p>
<p>There are check-expects in the provided starter code.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tstm-tick</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h2 id="3-quality-design">3. Quality Design</h2>
<p>In this section, the model needs to represent a position, speed, and score.
For example: point=(40,75), speed=10, score=13.</p>
<p>Two different students &ldquo;argh&rdquo; and &ldquo;oof&rdquo; present different possible models.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">ex-argh</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">40</span> <span style="color:#0000cf;font-weight:bold">75</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                           <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#0000cf;font-weight:bold">13</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">ex-oof</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">13</span>
</span></span><span style="display:flex;"><span>                          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">10</span>
</span></span><span style="display:flex;"><span>                                     <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">40</span> <span style="color:#0000cf;font-weight:bold">75</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><p>3a. Neither one of these is correct. Write the same example
doing what they should be doing.
Call your approach <code>good</code>.</p>
<p>3b. Write two functions to translate from the argh method to the oof method
using your good method.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">argh-&gt;good</span> <span style="color:#000">a</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;todo&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">good-&gt;oof</span> <span style="color:#000">g</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;fixme&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h2 id="4-check-expects">4. Check-Expects</h2>
<p>The <code>in-triangle?</code> function takes in four posns: the first three
specify corners of a triangle, and the fourth one is a point
<code>Q</code>. The function returns true if <code>Q</code> is in the triangle made by connecting
the other three points, and false otherwise. (On the edge counts as in.)</p>
<p>Write <em>three</em> good check-expects for this function. Do
not write the actual function. You check expects should cover a
range of possible mistakes in the bad function given:</p>
<ul>
<li>bad function gives correct answer true</li>
<li>bad function gives correct answer false</li>
<li>bad function gives true but correct answer is false</li>
</ul>
<p>Draw a picture and/or explain in words why the answers you give
for the checks are correct.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">in-triangle?</span> <span style="color:#000">p1</span> <span style="color:#000">p2</span> <span style="color:#000">p3</span> <span style="color:#000">q</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">;; BAD!</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&lt;=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">p1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">q</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">p3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">&lt;=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">p1</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">q</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">p2</span><span style="color:#000;font-weight:bold">))))</span>
</span></span></code></pre></div><p>Common questions:</p>
<ul>
<li>Does on the edge of the triangle count as &ldquo;in&rdquo; it? Yes.</li>
<li>Is the given <code>in-triangle?</code> function supposed pass all of the
check-expects that I write? NO. Checks are written based on the
purpose statement, not what the function actually does. The third
bullet point above means you should have one failing check.</li>
</ul>
<h2 id="5-lists">5. Lists</h2>
<p>Use the same <code>tstm</code> from question 1 above.</p>
<p>In this section you are writing a function <code>in-tol</code> that takes in a
<code>tstm</code> and a <code>tolerance</code> number. Return all of the numbers from the <code>ell</code>
part of <code>tstm</code> that are within <code>tolerance</code> of the <code>n</code> part</p>
<p>Of course you may use helper functions.</p>
<p>There are check-expects in the starter code provided.</p>
<p>Example: when the model is</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-tstm</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">18</span> <span style="color:#4e9a06">&#34;red&#34;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#0000cf;font-weight:bold">13</span> <span style="color:#0000cf;font-weight:bold">14</span> <span style="color:#0000cf;font-weight:bold">21</span> <span style="color:#0000cf;font-weight:bold">22</span> <span style="color:#0000cf;font-weight:bold">23</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>and the tolerance is 4, your function should output the <code>(list 14 21 22)</code> because those numbers from the list are within 4 of 18. Notice
that the tolerance is from -4 to +4!</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">in-tol</span> <span style="color:#000">model</span> <span style="color:#000">tolerance</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87">empty</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-afa7599b11de21b2d5e2eeed78437093">17.2 - 2022 Review 1</h1>
    
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<ol>
<li>
<p>Multiply all of the coordinates by 5.</p>
<pre><code> m5: (Listof Posn) -&gt; (Listof Posn)
</code></pre>
</li>
<li>
<p>Draw a bunch of radius 15 circles on a 400x300 empty scene.</p>
<pre><code> draw-circles: (Listof Posn) (Listof Color) -&gt; Image
</code></pre>
</li>
<li>
<p>Sum the absolute value of the difference of the x and y coordinates
of the posns in the list.</p>
<pre><code> sumdif: (Listof Posn) -&gt; Number
</code></pre>
</li>
<li>
<p>Remove all of the zeros from a list.</p>
<pre><code> packer: (Listof Number) -&gt; (Listof Number)
</code></pre>
</li>
<li>
<p>(Beware, harder.) Move all of the numbers &lt;= 5 to the end of the list.</p>
<pre><code> mover: (Listof Number) -&gt; (Listof Number)
</code></pre>
</li>
<li>
<p>Change the sign of every even number to its opposite.</p>
<pre><code> eneg: (Listof Number) -&gt; (Listof Number)
</code></pre>
</li>
<li>
<p>Compute this mathematical sum.</p>
<pre><code> zeta: Number -&gt; Number
</code></pre>
<p>$$
\frac{1}{1^w} + \frac{1}{2^w} + \frac{1}{3^w} + \cdots + \frac{1}{1000^w}
$$</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-56c2f960ce7d24117aeb32fbe310b9ad">17.3 - 2022 Review 2</h1>
    
	<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<ol>
<li>What is the difference between <code>for/list</code> and <code>for*/list</code>? Give an
example and explain in a sentence.</li>
</ol>
<p>A traditional checkerboard has alternating red and black squares. It
is oriented so the red (&ldquo;light&rdquo;) square is on the near right from each
player&rsquo;s perspective. Pieces only go on the black (&ldquo;dark&rdquo;) squares.
The squares I use are 50x50.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem2review/2022-02/checkerboard.png" width="200"/> 
</figure>
<ol start="2">
<li>Use <code>for/fold</code> to construct the checkerboard.</li>
</ol>
<p>You will make a model using these structures:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; Piece is a structure containing:</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pos: a Posn, the board coordinates of the center of the piece</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; team: a number, 0 or 1</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">pos</span> <span style="color:#000">team</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; M is a structure containing:</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pieces: a list of Piece, the current state of the board</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; selected: a Posn, the square that is selected, or (-1,-1) for no selection</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">m</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">pieces</span> <span style="color:#000">selected</span><span style="color:#000;font-weight:bold">))</span>
</span></span></code></pre></div><p>If they print out in a way that you cannot see what is inside, like
this: <code>(make-m ...)</code>, add the <code>#:prefab</code> tag you have been using for
messages.. You could use <code>#:transparent</code> instead, it prints out a
little nicer.</p>
<ol start="3">
<li>
<p>Use <code>for/list</code> to create a list of all of the checkers. Here is an
example of a black checker at (x=2, y=1):
<code>(make-piece (make-posn 2 1) 1)</code>. See the diagram below for checker
positions.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem2review/2022-02/checkerboard-checkers.png" width="200"/> 
</figure>
</li>
<li>
<p>Write a draw handler that takes in an <code>m</code> and produces an
<code>Image</code>. As before, use <code>for/fold</code>.</p>
</li>
<li>
<p>Write the <code>move-checker</code> function that takes in a list of pieces, a
start posn, and an end posn. It should move all of the pieces
located at the start posn to the end posn.
Use <code>for/list</code>.</p>
</li>
<li>
<p>(<strong>Coordinate conversions</strong>) Write functions that convert computer
(x,y) coordinates to board (x,y) coordinates and vice-versa. Since my squares are
50x50, any mouse click with $0 \le x &lt; 50$ and $0\le y&lt; 50$ is
considered $(0,0)$ on the board. Another example is that that $(35,
80)$ maps to board coordinates $(1,2)$. You can do this your own</p>
<p>invented way, but make sure clicking off-center still works the same as
clicking in the exact center of a square.</p>
<pre><code> (check-expect (c-&gt;b (make-posn 49 48)) (make-posn 0 0))
 (check-expect (c-&gt;b (make-posn 35 80)) (make-posn 0 1))
 (check-expect (b-&gt;c (make-posn 0 0)) (make-posn 25 25))
 (check-expect (b-&gt;c (make-posn 1 2)) (make-posn 75 125))
</code></pre>
</li>
<li>
<p>(<strong>Mouse Handler</strong>) When the <code>selected</code> field is <code>(make-posn -1 -1)</code>, the mouse handler sets the <code>selected</code> field to be the center
of the square clicked on. When the <code>selected</code> field is not (-1,
-1), then the mouse handler moves the piece using <code>move-checker</code>.</p>
<pre><code> (check-expect
   (mouse-h (make-m (list (make-piece (make-posn 1 3) 1)
                          (make-piece (make-posn 1 5) 0))
                       (make-posn -1 -1))
              80 210
              &quot;button-down&quot;)
    (make-m (list (make-piece (make-posn 1 3) 1)
                  (make-piee (make-posn 1 5) 0))
              (make-posn 1 4)))


 (check-expect
   (mouse-h (make-m (list (make-piece (make-posn 1 3) 1)
                          (make-piece (make-posn 1 5) 0))
                       (make-posn 1 4))
              80 210
              &quot;button-down&quot;)
    (make-m (list (make-piece (make-posn 1 3) 1)
                  (make-piee (make-posn 1 5) 0))
              (make-posn 1 4)))
</code></pre>
</li>
<li>
<p>(<strong>Big Bang</strong>) Put together your animation and verify that you can
move the pieces. You are not asked to follow any rules about what
is a legal move.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ff7ad332d7774e4897386a9abf008a41">17.4 - 2022 Review 3</h1>
    
	<p>(Final for grades 8 and 12.)</p>
<script>
MathJax = {
 tex: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  displayMath: [['$$','$$'], ['\\[','\\]']]
  }};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<h2 id="part-i">Part I</h2>
<p>Day 1 for multi-day classes.</p>
<ol>
<li>
<p>Make an animation where clicking or dragging the mouse makes an
light orange rectangle with one corner at the mouse&rsquo;s position.</p>
<ul>
<li>There is a 40 pixel orange border around the rectangle.</li>
<li>There are a whole number of size 20 stars, positioned as
below.</li>
<li>The number of stars adjusts so they just almost fill
the width and height of the light orange rectangle (so that adding
one more will be wider than the rectangle, for example).</li>
</ul>
<p>See the <a href="https://youtu.be/1LmU90awEQY">video</a> for an animation.</p>
</li>
</ol>
<table>
<tr>
<td>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem2review/2022-03/star-border-1.png" width="200"/> 
</figure>
</td>
<td>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem2review/2022-03/star-border-2.png" width="200"/> 
</figure>
</td>
</tr>
</table>
<ol start="2">
<li>
<p>(<code>twoth</code>) Given a list of numbers, if there are more multiples of two than
multiples of three, change the sign of all of the multiples of
two. Otherwise add one to each multiple of three.</p>
<p>2a. Write two useful check-expects.
2b. Write the function <code>twoth</code>.</p>
</li>
</ol>
<h2 id="part-ii">Part II</h2>
<p>Day 2 for multi-day classes.</p>
<ol start="3">
<li>
<p>A hexagonal grid can be seen as &ldquo;even columns&rdquo; and &ldquo;odd
columns&rdquo;. Let $w=50$ be the side length of a regular hexagon.
Consecutive hexagons have centers separated horizontally by
$3w/2$. The odd
numbered columns also have centers offset vertically by $w
\sqrt{3}/2$, which is half of the height of the hexagon.</p>
<p>3a. Construct this grid any way you can figure out.</p>
<p>3b. Write <code>hex-posn-&gt;xy : posn -&gt; posn</code> by following the design
process. (Check-expects!!)</p>
<p>3c. Construct the grid using <code>for/fold</code>, reworking 3a as needed.</p>
<pre><code> (define hex (regular-polygon 50 6 &quot;outline&quot; &quot;black&quot;))
</code></pre>
 <figure>
     <img src="/teaching--2021-2022/intermediate-cs/sem2review/2022-03/hex-grid.png"/> 
 </figure>
</li>
<li>
<p>(Game of 2048) We will represent one row of the board of 2048
by a list of four numbers, with 0 representing the empty square.
When you &ldquo;slide&rdquo; the board left, pairs
of same-value numbers combine and others move so the zeros are all
on the right. Write the function <code>slide-left</code>.</p>
<pre><code> slide-left: (Listof Number) -&gt; (Listof Number)

 (check-expect (slide-left (list 0 0 0 2))
               (list 2 0 0 0))
 (check-expect (slide-left (list 0 2 0 4))
               (list 2 4 0 0))
 (check-expect (slide-left (list 8 8 0 0))
               (list 16 0 0 0))
 (check-expect (slide-left (list 8 16 16 16))
               (list 8 32 16 0))
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ac1a36dcc6088e5b0b605dcaf49d5992">17.5 - 2022 Review 4</h1>
    
	<ol>
<li>
<p>(Knight Moves.) Given the position of a
<a href="http://www.chesscorner.com/tutorial/basic/knight/knight.htm">knight</a>,
return a list of all of the legal positions the knight can
occupy. Number the board coordinates 0 through 7 for both x and y.</p>
<pre><code> ;; knight: x(number) y(number) -&gt; (Listof Posn)
</code></pre>
</li>
<li>
<p>(Pawn Push.) In a simplified version of chess, a pawn can move
forward unless there is a piece directly in front of it.  When they
move, &ldquo;white&rdquo; pawns increase y by 1 and &ldquo;black&rdquo; pawns decrease y by 1.</p>
<pre><code> (define-struct pawn (team pos))
</code></pre>
<p>You are given a list of posns containing the occupied squares on a
chess board, and a list of Pawns. You produce a new list by
advancing every pawn that you can on a given team. The occupied
squares list is just supposed to make the coding easier.</p>
<pre><code> ;; pawn-push: (Listof Posn) Team (Listof Pawn)
 ;;            -&gt; (Listof Pawn)
 (define WHITE 1) (define BLACK -1)
 (check-expect (pawn-push (list (make-posn 3 2) (make-posn 3 5))
                          BLACK
                          (list (make-pawn BLACK (make-posn 3 5))
                                (make-pawn WHITE (make-posn 3 2))))
     (list (make-pawn BLACK (make-posn 3 4))
           (make-pawn WHITE (make-posn 3 2))))
</code></pre>
</li>
<li>
<p>(Checkers King Jump.) Given a list of pieces, one piece to move, and
ending coordinates (x,y), return true if the move is legal for a
king in checkers, false otherwise. A king can move in <a href="http://www.flyordie.com/games/help/checkers/en/games_rules_checkers.html">any
direction</a>. Do
not consider multiple jumps. Team is either 1 or -1 (representing
red or black). Helper functions are encouraged.</p>
<pre><code> (define-struct piece (team pos))
 ;; team is a number 1 or -1
 ;; x and y are numbers 0 through 7

 ;; checkers-move? : (Listof Piece) Piece Posn
 ;;                   -&gt; boolean
 ;; Here the posn (x,y) is the destination.
</code></pre>
<p>For a move to be legal:</p>
<ul>
<li>Destination square is empty.</li>
<li>Destination square is on the board.</li>
<li>Destination square is not occupied by a piece.</li>
<li><em>Either</em>:
<ul>
<li>Destination square is 1 diagonal step from the original; <em>or</em></li>
<li>Destination square is 2 diagonal steps from the original,
and there is a piece from the opposing team in between.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="tests">Tests</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">picturing-programs</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">team</span> <span style="color:#000">pos</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">RED</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">BLACK</span> <span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">BOARD</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">BLACK</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">RED</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">BLACK</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">RED</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">RED</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">6</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">BLACK</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">7</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">BLACK</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">BLACK</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">))))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">the-p</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000">RED</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">checkers-move?</span> <span style="color:#000">BOARD</span> <span style="color:#000">the-p</span>
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">checkers-move?</span> <span style="color:#000">BOARD</span> <span style="color:#000">the-p</span>
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">;; occupied</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">checkers-move?</span> <span style="color:#000">BOARD</span> <span style="color:#000">the-p</span>
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">;; jump</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">checkers-move?</span> <span style="color:#000">BOARD</span> <span style="color:#000">the-p</span>
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">;; too far</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">checkers-move?</span> <span style="color:#000">BOARD</span> <span style="color:#000">the-p</span>
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>               <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">;; again, too far</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">checkers-move?</span> <span style="color:#000">board</span> <span style="color:#000">piece</span> <span style="color:#000">dest</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-96a3ff491cc523cb297c466f661a5729">17.6 - 2022 Review 5</h1>
    <div class="lead">Make a number grid and animate changing on/off state of multiples of numbers that are clicked. Includes notes for teaching.</div>
	<p>This was given as the final exam in Spring 2022.</p>
<!--
## TEACHER NOTES
Investigate for the future: give more guidance on the process?
Otherwise you will have people who cannot even write the draw handler.
You could require check-expects for certain parts, that might help.
For example: a check-expect for the mouse handler might help
solve the problems where the wrong numbers are selected on a click.
Also - in spite of what I wrote, some people choose an approach that
_cannot_ end up drawing the orange/blue grid patterns shown.

### Common Flaws
* primes resets the state of everything instead of toggling primes
* one click works fine but the second click resets the state,
  forgetting the first click.

-->
<h2 id="instructions">Instructions</h2>
<p>Right away - save with your name in the title.</p>
<p>You may consult the <a href="http://picturingprograms.com/"><em>Picturing Programs</em></a>
book and the <a href="https://docs.racket-lang.org/">Racket Help
Desk</a>. You can even consult <a href="https://docs.google.com/presentation/d/1zObYBioHfX-x_r7rNt2U7qazZkWSR1Pk9_b9tXmi4VA/edit?usp=sharing">the
presentation explaining
<code>for</code></a>. Using
<a href="https://wy-cs.info/intermediate-cs/ch20/posn-util/">the posn utilities</a>, either yours or mine, is fine.
You may not use any of your own work written earlier.
You may not use work written by another student.</p>
<p>(Timing: about 90 minutes to do the animation alone.)</p>
<h2 id="short-answer">Short Answer</h2>
<ol>
<li>
<p><code>num-list: Integer -&gt; (Listof Integer)</code>. Using <code>for/list</code>, create a
list of numbers from 1 up to and including the given number.</p>
<pre><code> (check-expect (num-list 5) (list 1 2 3 4 5))
</code></pre>
</li>
<li>
<p><code>keep-multiples: Integer(m) (Listof Integer) -&gt; (Listof Integer)</code>.
Output all of the numbers in the list (the second input) that are
multiples of the first number.</p>
<pre><code> (check-expect (keep-multiples 7 (list 2 14 22 7 35))
               (list 14 7 35))
</code></pre>
</li>
<li>
<p><code>proper-divisors: Integer(m) -&gt; (Listof Integer)</code>. Given a positive
integer m, produce a list of all numbers between 1 and m (not
including 1 or m) that divide m.</p>
<pre><code> (check-expect (proper-divisors 12) (list 2 3 4 6))
 (check-expect (proper-divisors 3) (list))
</code></pre>
</li>
<li>
<p><code>bishop: Integer(x) Integer(y) -&gt; (Listof Posn)</code>. Suppose you
have a bishop at coordinates (x,y) on an otherwise empty chess
board. What squares can the bishop move to? The bishop <a href="https://www.chess.com/terms/chess-bishop#howbishopmoves">moves on
diagonals</a>
to the end of the board.</p>
<p>We will number the squares starting at
(0,0) in the lower left.</p>
<p>The order that you list the posns does not matter.</p>
<pre><code> (check-expect
    (bishop 2 3)
    (list (make-posn 0 5) (make-posn 1 4) ;; (make-posn 2 3)
          (make-posn 3 2) (make-posn 4 1) (make-posn 5 0)
          (make-posn 1 2) (make-posn 0 1) (make-posn 3 4)
          (make-posn 4 5) (make-posn 5 6) (make-posn 6 7)))
</code></pre>
</li>
</ol>
<h2 id="animation">Animation</h2>
<p>We are going to make a number grid with some mathy features.
See <a href="https://youtu.be/fCJoPtq0syo">the video</a>.</p>
<figure>
    <img src="/teaching--2021-2022/intermediate-cs/sem2review/2022-05/number-grid-1.png" width="250"/> 
</figure>
<h3 id="features">Features</h3>
<ol>
<li>The code has constants for width and height of the number
grid. Shown above is an image using 10 for both width and height.</li>
<li>Clicking on a number flips the colors of all multiples of that
number.</li>
<li>Hitting &ldquo;c&rdquo; clears all of the numbers (resets them back to their
original color).</li>
<li>All of the <em>prime</em> numbers flip when the &ldquo;p&rdquo; key is hit. Notes:
(a) this should work regardless of the size of the grid used; (b)
hitting &ldquo;p&rdquo; twice should return the board to the state it was before
you hit &ldquo;p&rdquo; at all.</li>
<li>The &ldquo;r&rdquo; key begins a time-based animation that simulates clicking
on all of the numbers 1, 2, 3, etc. in succession. Mine looks good
with a 0.3 second delay between each simulated click.</li>
</ol>
<h3 id="starter-code">Starter Code</h3>
<p>I recommend using the <code>Locker</code> structure with</p>
<ul>
<li><code>state</code> is a list of numbers. A positive number k in the list means
that square k is light orange. A negative number k in the list means
that square k is light blue.</li>
<li><code>next</code> is a number. The number is the next one for the simulated
click.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">picturing-programs</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">racket/base</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">locker</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">state</span> <span style="color:#000">next</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">#:transparent</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">SIZE</span> <span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic">;; side length of one square</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">WIDTH</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">HEIGHT</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">computer-&gt;grid</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">quotient</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">SIZE</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>             <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">quotient</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">SIZE</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">grid-&gt;computer</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#000">SIZE</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#0000cf;font-weight:bold">1/2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-x</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span>             <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">*</span> <span style="color:#000">SIZE</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">+</span> <span style="color:#0000cf;font-weight:bold">1/2</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">posn-y</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">)))))</span>
</span></span></code></pre></div><p>Suggested functions:</p>
<ul>
<li><code>render-one-locker: number(k) -&gt; image</code>: Draw a single square in the
correct color with the number on it.</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1d242f2465a06d53315afa61f82df49b">18 - Typed Racket</h1>
    <div class="lead">A version of Racket that enforces signatures. Helps transition to strongly typed languages like Java.</div>
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/typed-intro/" >Typed Intro</a></li></p>
<p>All of the basics you need to start using Typed Racket.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/typed-variables/" >Typed Variables and Functions</a></li></p>
<p>Giving types to variables and functions.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/typed-structures/" >Typed Structures</a></li></p>
<p>Using define-struct in Typed Racket. Additional info on posn-util, struct-copy, and limit for use with make-color.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/typed-bigbang/" >Typed Big Bang</a></li></p>
<p>big-bang works almost exactly the same in Typed Racket. This page explains any differences.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/typed-ex1/" >Typed Exercises 1</a></li></p>
<p>Introductory exercises for learning Typed Racket.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/typed-ex2/" >Typed Exercises 2</a></li></p>
<p>Additional practice writing typed functions, includes lists and recursion.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/typed-ex3/" >Typed Exercises 3</a></li></p>
<p>Exercises to practice using structures in Typed Racket.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/bumper-cars/" >Bumper Cars</a></li></p>
<p>Game struct For bumper boats, we want a struct that contains:
id name position velocity radius color Draw handler For one player bumper cars, just draw the single car (circle) in the right color, with the name shown in the middle of it.
Tick handler Update the position, adding the velocity.
Mouse handler Change the velocity so that the circle moves towards the mouse click with a speed of 10.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/bumper-two-player/" >Bumper Two Player</a></li></p>
<p>Conversion from one player to two player bumper boats.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/checkers/" >Checkers</a></li></p>
<p>Two player checkers in Typed Racket</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2288813b463ff61d9daccd347fb5d237">18.1 - Typed Intro</h1>
    <div class="lead">All of the basics you need to start using Typed Racket.</div>
	<p>Many of the most common languages in use today require you to specify
the types on inputs and outputs of a function. That is to say, they
every function requires a signature.</p>
<p>There are two main benefits to this kind of typing:</p>
<ol>
<li>
<p><strong>Speed</strong>. The code runs faster when the computer has no doubt that
a certain variable always contains a certain kind of value, like a
posn.</p>
</li>
<li>
<p><strong>Reliability</strong>. The computer can check before starting the program
that there is never a time when the <code>posn-x</code> function is called on
a <code>color</code>. In regular Racket, this kind of mistake causes the
program to halt with an error <em>when the mistake runs</em>. In Typed
Racket, the mistake is detected before the program starts running -
there is no suspense and no uncertainty.</p>
</li>
</ol>
<h2 id="initial-setup">Initial Setup</h2>
<ol>
<li>
<p>One time per computer:</p>
<p>File -&gt; &ldquo;Install Package&hellip;&rdquo; -&gt; Enter &ldquo;picturing-programs-typed&rdquo; and choose the
&ldquo;Install&rdquo; button.</p>
</li>
<li>
<p>Beginning of every file:</p>
<pre><code> #lang typed/racket
 (require typed/picturing-programs)
</code></pre>
</li>
<li>
<p>End of the file - you need to run the check-expects manually.</p>
<pre><code> (test)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-888b55853e8e49c17cb05259fd57ae55">18.2 - Typed Variables and Functions</h1>
    <div class="lead">Giving types to variables and functions.</div>
	<p>A quick introduction to types, including how to specify types of
variables and functions.</p>
<h2 id="types-of-everything">Types of Everything</h2>
<ul>
<li>Basic types: <code>String</code>, <code>Number</code>, <code>Boolean</code>, <code>Image</code>.</li>
<li>Function: <code>(-&gt; [input types] [output type])</code></li>
<li>Composite types: <code>(Listof Number)</code> - or even <code>(Listof Any)</code></li>
</ul>
<h2 id="specifying-types-for-variables">Specifying Types for Variables</h2>
<p>There are two ways to specify a type: with inline or with the
colon (<code>:</code>) on a separate line.</p>
<ol>
<li>
<p><code>name : Type</code> notation in place of the plain <code>name</code></p>
<pre><code> (define WIDTH : Integer 400)
</code></pre>
<p>Be careful to put spaces on either side
of the colon. This method becomes <code>[name : Type]</code> when used in
arguments to a function (see below).</p>
</li>
<li>
<p><code>(: name Type)</code> on a separate line before <code>name</code></p>
<pre><code> (: HEIGHT Integer)
 (define HEIGHT 300)
</code></pre>
</li>
</ol>
<h2 id="specifying-types-for-functions">Specifying Types for Functions</h2>
<p>You can use the <code>[name : Type]</code> or <code>(: name Type)</code> method to write the
type of a function as well. You should include the output type, just
like a signature.</p>
<ol>
<li>
<p><code>[name : Type]</code> method: A function that takes in a number and puts
out a number plus 5:</p>
<pre><code> (define (f [x : Number]) : Number
   (+ x 5))
</code></pre>
</li>
<li>
<p><code>(: name Type)</code> method: A function that takes in a string and puts
out double its length:</p>
<pre><code> (: g (-&gt; String Number))
 (define (g str)
   (* 2 (string-length str)))
</code></pre>
</li>
<li>
<p>A function that takes in a number and puts out a that many
repetitions of &ldquo;word&rdquo; (literally):</p>
<pre><code> (define (h [num : Integer]) : (Listof String)
   (make-list num &quot;word&quot;)
</code></pre>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6177adb93be34e17cde6f9b3d3e7817b">18.3 - Typed Structures</h1>
    <div class="lead">Using define-struct in Typed Racket. Additional info on posn-util, struct-copy, and limit for use with make-color.</div>
	<h2 id="picturing-programs-code">Picturing Programs Code</h2>
<p>Code in this section requires the installation of an extra package
<code>picturing-programs-typed</code>, then</p>
<pre tabindex="0"><code>(require typed/picturing-programs)
</code></pre><p>You should also have access to a typed version of the <code>posn-util</code>.</p>
<!--


<div class="alert alert-primary" role="alert">


    <p>Plain old attachments would go here.</p>
<pre>
  
</pre>


</div>

-->
<h2 id="defining-new-structures">Defining new structures</h2>
<p>A new structure need type information just like a function. There are
also some incantations you will want to use.</p>
<ul>
<li><code>#:transparent</code> - Always include this.</li>
<li><code>#:type-name</code> - Usually include, should be name of struct with a
capital letter at the start.</li>
</ul>
<p>Example:</p>
<pre><code>(define-struct ship ([ name : String ]
                     [ pos : (Listof Posn) ])
                    #:transparent
                    #:type-name Ship)
</code></pre>
<h2 id="functions-using-structures">Functions using structures</h2>
<p>A function <code>bn</code> that takes in a ship and produces an image of a box around
the name would be written like this:</p>
<pre><code>(define (bn [s : Ship]) : Image
  (frame (text (ship-name s) 24 &quot;black&quot;)))
</code></pre>
<h2 id="copying-structures">Copying Structures</h2>
<p>Racket has a method called
<a href="https://docs.racket-lang.org/reference/struct-copy.html?q=struct-copy#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct-copy%29%29">struct-copy</a>
for copying a structure and changing some of the entries.</p>
<pre><code> (struct-copy STRUCT-NAME VARIABLE [field NEW-VALUE])
</code></pre>
<p>Example:</p>
<pre><code>(define a-ship1 (make-ship &quot;Dingy&quot; (list (make-posn 5 2))))
(define a-ship2 (struct-copy ship a-ship1 [name &quot;Sailboat&quot;]))
</code></pre>
<h2 id="colors">Colors</h2>
<p>It can be tricky to write the limit function that restricts a number
to the range 0 to 255 for use in a color.</p>
<pre><code>(define (limit [n : Integer])
  : Byte
  (min 255 (max 0 n)))
</code></pre>
<p>If you need to handle real number inputs, add in <code>(round (inexact-&gt;exact n))</code>.</p>
<p>Trivia: the order of the inputs matters, check the type signature of
<code>max</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5220bf9263cd2ea13b2d492737fd33d7">18.4 - Typed Big Bang</h1>
    <div class="lead">big-bang works almost exactly the same in Typed Racket. This page explains any differences.</div>
	<p>Reminder: you need the <code>2htdp-typed</code> package installed.</p>
<h2 id="differences">Differences</h2>
<ul>
<li>
<p>The type of the model must be given in the big-bang.</p>
</li>
<li>
<p>The clause for the draw function is <code>to-draw</code> not <code>on-draw</code>.</p>
</li>
<li>
<p>The last argument to a mouse handler is a <code>Mouse-Event</code> but the last
argument to the key handler is just a <code>String</code>.</p>
<pre><code>  (: draw-circle (-&gt; Real Image))
  (define (draw-circle n) (circle n &quot;solid&quot; &quot;blue&quot;))

  (big-bang 5 : Number
    (on-tick add1 0.2)
    (to-draw draw-number 300 200))
</code></pre>
</li>
</ul>
<h2 id="limitations">Limitations</h2>
<p>As of this writing, the limitations I am aware of are:</p>
<ul>
<li>You cannot <code>stop-with</code> - you must use a <code>stop-when</code> clause in the
<code>big-bang</code>.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-47846b3542800ea97ccf5b9ae4b61b0b">18.5 - Typed Exercises 1</h1>
    <div class="lead">Introductory exercises for learning Typed Racket.</div>
	<ol>
<li>
<p>Use the <code>[ name : Type ]</code> method of specifying a type to write the
function <code>sub7</code> which takes in a number and subtracts 7 from it.l</p>
</li>
<li>
<p>Use the <code>(: name Type)</code> method of specifying a type to write the
function <code>triple</code> which takes in a number and triples it.</p>
</li>
</ol>
<h2 id="write-these-functions">Write these functions</h2>
<p>Use Typed Racket to write these functions. Make sure you write the
output type as well as the input types.</p>
<ol>
<li><code>sq18</code>: take in a number, square it, and subtract 18.</li>
<li><code>sl5</code>: take in a string, return five more than its length.</li>
<li><code>ssl</code>: take in two strings, find the sum of their lengths.</li>
</ol>
<h2 id="technical-details">Technical details</h2>
<p>Sometimes <code>Number</code> is not restrictive enough. If you mean a number on
the number line, you have to tell Racket that you want a <code>Real</code>
number. Racket does know about complex numbers!</p>
<ol start="3">
<li>
<p>Write a function of two inputs that finds the absolute value of the
difference between them.</p>
</li>
<li>
<p>Write a function that takes in two real numbers and returns the one
that is larger (try this using <code>cond</code> or <code>if</code>). Technical: Experiment to see
if you can use <code>Number</code> as the type. (Why not?)</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a61bd0c8fdedc34c039564f2e5079af8">18.6 - Typed Exercises 2</h1>
    <div class="lead">Additional practice writing typed functions, includes lists and recursion.</div>
	<ol>
<li>
<p><code>ezn</code>: Create a list of <code>n</code> numbers, counting from n down to 0.</p>
<pre><code> (check-expect (ezn 5) (list 5 4 3 2 1 0))
 (check-expect (ezn 7) (list 7 6 5 4 3 2 1 0))
</code></pre>
</li>
<li>
<p><code>rpt</code>: Given a word and a number, make a list containing that word
the given number of times, except chop off one more letter at the start
of the word each time you repeat it.</p>
<pre><code> (check-expect (rpt &quot;word&quot; 4) (list &quot;word&quot; &quot;ord&quot; &quot;rd&quot; &quot;d&quot;))
 (check-expect (rpt &quot;cat&quot; 2) (list &quot;cat&quot; &quot;at&quot;))
</code></pre>
</li>
<li>
<p><code>perfect-squares</code>: Given a list of integers, return a list of all
of the perfect squares contained in that list. If you work with
real numbers, you probably want <code>Nonnegative-Real</code> numbers.</p>
</li>
<li>
<p><code>grow-sq</code>: Given a start and end integer, make a list of images,
all outline squares beginning at side length start, and ending at side
length &lt;= end.</p>
  <figure>
      <img src="grow-sq.png"/> <figcaption>
              <h4>(grow-sq 10 17)</h4>
          </figcaption>
  </figure>
</li>
<li>
<p><code>sqc</code>: Given two integers <code>start</code> and <code>end</code>, draw one image which
is an overlay of images as n goes from <code>start</code> to <code>end</code> increasing
by 1 each time. The image is an outline circle of radius <code>10*n</code> when n is even
and an outline square of side length <code>20*n</code> when n is odd.</p>
  <figure>
      <img src="sqc.png"/> <figcaption>
              <h4>(sqc 5 11)</h4>
          </figcaption>
  </figure>
</li>
</ol>
<h2 id="facts-about-numbers">Facts about Numbers</h2>
<p>There are many number types, including:</p>
<ul>
<li><code>Number</code></li>
<li><code>Real</code></li>
<li><code>Integer</code></li>
<li><code>Nonnegative-Real</code></li>
<li><code>Nonnegative-Integer</code></li>
<li><code>Positive-Integer</code></li>
</ul>
<p>Pick the most appropriate one. For example, if you are taking the
square root of a number, <code>Nonnegative-Real</code> might be a good choice. If
that number is also an integer, then use <code>Nonnegative-Integer</code>.</p>
<p>The type <code>Number</code> actually means complex number
(like <code>5+12i</code> from math class), so lots of the time you really want to
use <code>Real</code>.</p>
<h2 id="trouble-spots">Trouble spots</h2>
<p>When you subtract one from a positive integer, Racket no longer knows
it is positive (could have turned into zero). However, adding one to a
positive integer gives you something that is definitely positive. That
means when you are working with positive numbers and you have a choice
between counting up or counting down, count up.</p>
<p>Pro tip: if you have an <code>Integer</code> and the error message tells you that
a <code>Positive-Real</code> is needed, you should change your type to
<code>Positive-Integer</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bba91e529baf49fd4749fe443cce6b07">18.7 - Typed Exercises 3</h1>
    <div class="lead">Exercises to practice using structures in Typed Racket.</div>
	<ol>
<li>
<p>Create a game structure that has a player <code>name</code>, a <code>location</code> Posn,
and a Boolean variable for <code>horizontal?</code>. You can abbreviate field names.</p>
</li>
<li>
<p>Write a draw handler that draws a rectangle with the player&rsquo;s name
inside of it (you pick a size) and then potentially rotates it 90
degrees if <code>horizontal?</code> is false.</p>
</li>
<li>
<p>Write a key handler that flips the image from horizontal to
vertical when you hit space.</p>
</li>
<li>
<p>Add to your key handler so any other (length 1) key that is hit is
added to the end of the existing name. Advanced: make backspace work.</p>
</li>
<li>
<p>Write a mouse handler that changes the location of the image when
you click.</p>
</li>
<li>
<p>Make a <code>big-bang</code> to animate this action.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0856288b52610edac5709488b73cc04d">18.8 - Bumper Cars</h1>
    
	<h2 id="game-struct">Game struct</h2>
<p>For bumper boats, we want a struct that contains:</p>
<ul>
<li>id</li>
<li>name</li>
<li>position</li>
<li>velocity</li>
<li>radius</li>
<li>color</li>
</ul>
<h2 id="draw-handler">Draw handler</h2>
<p>For one player bumper cars, just draw the single car (circle) in the
right color, with the name shown in the middle of it.</p>
<h2 id="tick-handler">Tick handler</h2>
<p>Update the position, adding the velocity.</p>
<h2 id="mouse-handler">Mouse handler</h2>
<p>Change the velocity so that the circle moves towards the mouse click
with a speed of 10.</p>
<h2 id="bounce-off-walls">Bounce off walls</h2>
<h3 id="decide-new-velocity-for-a-bounce">Decide new velocity for a bounce</h3>
<p>Work out bouncing off horizontal and vertical walls separately.</p>
<h3 id="decide-if-you-should-bounce">Decide if you should bounce</h3>
<p>A circle should bounce if it is on a wall and the velocity is moving
toward the wall.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-028755577803b1e43e5617884c5014d8">18.9 - Bumper Two Player</h1>
    <div class="lead">Conversion from one player to two player bumper boats.</div>
	<p>First, a confession: we don&rsquo;t actually make the boats bump each
other. We needed to finish the discussion in one day, so we did not
add any physics that wasn&rsquo;t present in the one-player version.</p>
<!--


<div class="alert alert-primary" role="alert">


    <p>Plain old attachments would go here.</p>
<pre>
  
</pre>


</div>

-->
<h2 id="one-player-review">One Player Review</h2>
<p>The one player code does the following:</p>
<ul>
<li>Bounce off walls</li>
<li>Clicking sets velocity to be toward click at 5 units/tick</li>
<li><code>w</code> / <code>s</code> keys make the radius increase / decrease by 5 units.</li>
<li><code>j</code> / <code>k</code> keys make the speed decrease / increase by 10%.</li>
<li><code>c</code> gives a new random color</li>
</ul>
<p>Requiring <code>bumper-boats-single.rkt</code> gives the following functions:</p>
<ul>
<li><code>WIDTH</code>, <code>HEIGHT</code> of the screen</li>
<li><code>tick-h</code></li>
<li><code>mouse-h</code></li>
<li><code>key-h</code></li>
<li><code>draw-1-fancy: Boat -&gt; Image</code>: Render one boat, ready to place.</li>
<li><code>Boat</code>: the boat structure</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">boat</span> <span style="color:#000;font-weight:bold">([</span><span style="color:#000">id</span> <span style="color:#000">:</span> <span style="color:#000">Integer</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">name</span> <span style="color:#000">:</span> <span style="color:#000">String</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>                     <span style="color:#000;font-weight:bold">[</span><span style="color:#000">pos</span> <span style="color:#000">:</span> <span style="color:#000">Posn</span><span style="color:#000;font-weight:bold">]</span>  <span style="color:#000;font-weight:bold">[</span><span style="color:#000">vel</span> <span style="color:#000">:</span> <span style="color:#000">Posn</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>                     <span style="color:#000;font-weight:bold">[</span><span style="color:#000">color</span> <span style="color:#000">:</span> <span style="color:#000">Color</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>                     <span style="color:#000;font-weight:bold">[</span><span style="color:#000">radius</span> <span style="color:#000">:</span> <span style="color:#000">Positive-Integer</span><span style="color:#000;font-weight:bold">])</span>
</span></span></code></pre></div><h2 id="two-player-conversion">Two Player Conversion</h2>
<p>The <code>Game</code> structure was a number to keep track of whose turn it is
and two <code>Boat</code> structures, one for each player. Require the one player
file so the old functions are available.</p>
<pre tabindex="0"><code>(require &#34;bumper-boats.single.rkt&#34;)
</code></pre><ul>
<li>Draw-Handler:
Place the results from <code>draw-1-fancy</code> of each player&rsquo;s boat.</li>
<li>Key-Handler:
Determine whose turn it is, and replace that boat with the results of
running the one-player key handler on that boat. Update whose turn it
is.</li>
<li>Tick-Handler:
Update both boats simultaneously.</li>
<li>Mouse-Handler:
Like the key handler.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-407f85ffc54e7be43020f700c96676d1">18.10 - Checkers</h1>
    <div class="lead">Two player checkers in Typed Racket</div>
	<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/checkers/outline/" >Checkers Outline</a></li></p>
<p>An outline of all of the functions you could use to make checkers.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/checkers/model/" >Checkers Model</a></li></p>
<p>Illustrations from class discussion listing situations that should happen in the game.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/typed/checkers/legal-moves/" >Checkers Legal Moves</a></li></p>
<p>Allowing only legal moves is the most complex part of checkers.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-646d881889413937fefccbdb7316004b">18.10.1 - Checkers Outline</h1>
    <div class="lead">An outline of all of the functions you could use to make checkers.</div>
	<p>The game development process has several steps:</p>
<ol>
<li>
<p><a href="/teaching--2021-2022/intermediate-cs/typed/checkers/model/">Examples</a>: write down several examples
showing different situations
that will occur in the game. Make sure you consider all of the
possiblities.</p>
</li>
<li>
<p><a href="/teaching--2021-2022/intermediate-cs/typed/checkers/model/#model-structure">Model</a>: decide on the model you will use for the game.</p>
</li>
<li>
<p>Draw handler. Show whose move it is as well as drawing the board.</p>
</li>
<li>
<p><a href="/teaching--2021-2022/intermediate-cs/typed/checkers/legal-moves/">Legal moves</a>. A very important
function: determine if a move is legal!</p>
<pre><code> legal-move?: Game Posn -&gt; Boolean
</code></pre>
</li>
<li>
<p>Support functions: we will practice function design (including
writing check-expects) to make functions we will need.</p>
<ul>
<li><code>get-piece: (Listof Piece) Posn -&gt; Piece</code>: See notes for legal moves.</li>
<li><code>is-occupied?: (Listof Piece) Posn -&gt; Boolean</code></li>
<li><code>take-piece: (Listof Piece) Posn -&gt; (Listof Piece)</code></li>
</ul>
</li>
<li>
<p>Mouse handler. The logic of interacting with the pieces can be a
little complex if you want all of the details.</p>
<ul>
<li><code>click-&gt;board-coord: Posn -&gt; Posn</code>: Convert from screen
coordinates to the board coordinates.</li>
</ul>
</li>
<li>
<p>Problem-solving tips.</p>
<ul>
<li><code>exact-floor</code> takes in a <code>Real</code> number x and puts out the greatest <code>Integer</code>
less than or equal to x. Plain <code>floor</code> does the same thing, but
puts out a <code>Real</code>.</li>
</ul>
</li>
</ol>
<!--
    * `inexact->exact` to convert 2.0 to the integer 2.
-->

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4ad415304eca8abb8a2d263361fac9b5">18.10.2 - Checkers Model</h1>
    <div class="lead">Illustrations from class discussion listing situations that should happen in the game.</div>
	<p>This is the written record of an analysis. You should practice doing
your own analysis of a game, not just copying this one.</p>
<h2 id="examples">Examples</h2>
<p>Begin with pictures of all of the situations that can come up in the
game.</p>
<p>Advanced: enthusiastic software designers may want to read about
how <a href="https://www.alexandercowan.com/best-agile-user-story/">user stories</a>
used in actual software development.</p>
<!-- page 2 of file:: gm convert FILE.pdf[1]  -crop 510x770+20+20 -->
<figure>
    <img src="checkers-planning-1.png"/> 
</figure>
<figure>
    <img src="checkers-planning-2.png"/> 
</figure>
<h2 id="board-coordinates">Board Coordinates</h2>
<p>We considered human-friendly coordinates, like (1,4) as well as
computer-friendly coordinates like (75, 225). Using computer
coordinates would make it easier to write the draw-handler, but
writing checks would be easier with human coordinates. We chose human
coordinates because checks are important to write.</p>
<p>In this writeup, our board coordinates go from 0 through 7 in each
direction.</p>
<h2 id="piece-structure">Piece Structure</h2>
<ul>
<li><code>p</code>: Posn</li>
<li><code>c</code>: Player (Integer)</li>
<li><code>king?</code>: Boolean</li>
</ul>
<h2 id="model-structure">Model Structure</h2>
<p>The model keeps track of whose turn it is, where the pieces are, and
which piece (if any) is currently selected and ready to move.</p>
<ul>
<li><code>turn</code>: Player (Integer)</li>
<li><code>ps</code>: (Listof Piece)</li>
<li><code>selected</code>: Piece</li>
</ul>
<p>When there is no piece selected, we will put a special piece in the
selected location that could not arise in the game: say a king for
player 3 located at (-1000,1000).</p>
<p>The fancier way of representing the selected piece is to use the type
<a href="https://docs.racket-lang.org/ts-reference/type-ref.html?q=Option#%28form._%28%28lib._typed-racket%2Fbase-env%2Fbase-types..rkt%29._.Option%29%29">(Option
Piece)</a>,
but that doesn&rsquo;t simplify the rest of the work.</p>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c0d236169e81fd1cb8ae287cdfdc69de">18.10.3 - Checkers Legal Moves</h1>
    <div class="lead">Allowing only legal moves is the most complex part of checkers.</div>
	<p>The <code>legal-move?</code> function has the purpose of determining whether or
not a move is legal. This function needs to know the current game
state (which includes the currently selected piece) and the position
where the player is considering moving that piece.</p>
<pre><code>legal-move? : Game Posn -&gt; Boolean
</code></pre>
<p>This function is complex, so we break it up into many smaller, simpler
functions.</p>
<ul>
<li><code>on-board? : Posn -&gt; Boolean</code>: True if the position is on the
board.</li>
<li><code>direction-ok? : Piece Posn -&gt; Boolean</code>: This function just makes
sure that ordinary pieces only move the direction they start.</li>
<li><code>space-empty?: (Listof Piece) Posn -&gt; Boolean</code>: Is the given square
empty?</li>
<li><code>distance-nonjump-ok?: Posn Posn -&gt; Boolean</code>: Assuming the move is
not a jump, is it ok?</li>
<li><code>distance-jump-ok?: Posn Posn -&gt; Boolean</code>: Assuming the move is a
jump, is the distance intended going to be ok?</li>
<li><code>get-piece: (Listof Piece) Posn -&gt; Piece</code>: Get the piece at the
given position. Define a fake NO-PIECE to be a piece at (-1000,1000)
to represent not finding a piece there.</li>
<li><code>is-legal-to-jump?: (Listof Piece) Player Posn Posn -&gt; Boolean</code>:
Knowing where the pieces are on the board and who is attempting the
move, is the attempted jump legal? For example, jumping an opponent
is ok, but jumping your own piece or an empty square is
forbidden. Plan to figure out some helper functions for this on your own!</li>
</ul>
<h2 id="examples">Examples</h2>
<p>Each function needs several check-expects before you start to write
the function. Do not start to write a function without a <em>purpose</em> and
at least <em>two checks</em>.</p>
<h3 id="on-board">on-board</h3>
<p>On board just makes sure the position is on the board&hellip; My board
squares are numbered 0 through 7.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-board?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">-10</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-board?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-board?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="direction-ok">direction-ok</h3>
<p>We need to write check-expects for direction. First, we need to decide
which direction each player will move. I decided that player 1 will
move down the board (increasing y) and player 2 will move up
(decreasing y).</p>
<p>The possibilities are:</p>
<ol>
<li>king can move either direction</li>
<li>player 1 can only move &ldquo;down&rdquo; the board</li>
<li>player 2 can only move &ldquo;up&rdquo; the board</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">direction-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">direction-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">direction-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">direction-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">direction-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">direction-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="space-empty">space-empty</h3>
<p>The <code>space-empty?</code> function should find out if a space is empty.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">ex-pieces</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">list</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-piece</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">space-empty?</span> <span style="color:#000">ex-pieces</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">space-empty?</span> <span style="color:#000">ex-pieces</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">space-empty?</span> <span style="color:#000">ex-pieces</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">space-empty?</span> <span style="color:#000">ex-pieces</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="distance-nonjump-ok">distance-nonjump-ok</h3>
<p>The <code>distance-nonjump-ok?</code> function takes two positions and determines
if the distance between them is allowed given that the move is not a
jump.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">distance-nonjump-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>               <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">distance-nonjump-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span> 
</span></span><span style="display:flex;"><span>               <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">distance-nonjump-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>               <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">distance-nonjump-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>               <span style="color:#204a87">true</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">distance-nonjump-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>               <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">check-expect</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">distance-nonjump-ok?</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>                                    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>               <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="distance-jump-ok">distance-jump-ok</h3>
<p>The <code>distance-jump-ok?</code> function returns true when the two positions
differ by enough that there is exactly one diagonal square between
them.</p>
<p>You should write your own checks for this function.</p>
<h3 id="is-legal-to-jump">is-legal-to-jump</h3>
<p>The <code>is-legal-to-jump?</code> determines if the square that is being jumped
over is occupied by the correct kind of piece.</p>

</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a3861a79dace27996b423f78d96d62cc">19 - Resources</h1>
    <div class="lead">General resources for Intermediate CS.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-2bc58bd4312742294d4e8f76cc4ab5ab">19.1 - Why Racket?</h1>
    
	<blockquote>
<p>Many people we encounter tell us they wish they knew how to code and then ask which programming language they should learn. Given the press that some programming languages get, this question is not surprising. But it is also wholly inappropriate. Learning to program in a currently fashionable programming language often sets up students for eventual failure. Fashion in this world is extremely short lived. A typical â€œquick programming in Xâ€ book or course fails to teach principles that transfer to the next fashion language. Worse, the language itself often distracts from the acquisition of transferable skills, at the level of both expressing solutions and dealing with programming mistakes.</p>
<p>&ndash; <a href="http://www.ccs.neu.edu/home/matthias/HtDP2e/part_preface.html">Felleison et al, <em>How to Design Programs</em>, Second Edition</a>.</p>
</blockquote>
<p>To understand why Racket is a good language to learn, one need read no further than <a href="http://www.picturingprograms.com/download/chap00.pdf">Section 0.1</a> of Stephen Bloch&rsquo;s <em>Picturing Programs</em>. Please read it now if you have not.</p>
<p>To summarize, here are major arguments for choosing Racket over a more
&ldquo;popular&rdquo; programming language:</p>
<ul>
<li>
<p>Racket&rsquo;s uniform syntax (everything is in parentheses, no order of
operations, means that everything you do learn is a real
intellectual concept.</p>
</li>
<li>
<p>Racket works without any incantations that cannot be understood by a
beginner. Example: Java&rsquo;s <code>public static void main (String[] args)</code>
incantation.</p>
</li>
<li>
<p>Racket&rsquo;s language levels protects you from advanced features that
could be misunderstood at the start, but lets you continue to
program in the same familiar language with more advanced features
when you are ready.</p>
</li>
<li>
<p>Any language you choose will be obsolete by the time you enter the
workforce in 4-8 years, so effort spent learning language-specific
syntax is not productive. Instead, you need to learn how to learn a
new language. Most programmers find themselves working in a variety
of languages depending on the requirements of their current task.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Paul_Graham_(computer_programmer)">Paul Graham&rsquo;s</a> article <a href="http://www.paulgraham.com/avg.html"><em>Beating the Averages</em></a> explains how they used Lisp to make a very successful business (it was worth almost $50 million when it was purchased by Yahoo!). Lisp is a language very similar to Racket.</p>
</li>
<li>
<p>Racket includes a way to build <a href="https://docs.racket-lang.org/continue/index.html?q=web%20applications">web applications</a> as well as a
<a href="https://docs.racket-lang.org/gui/windowing-overview.html?q=gui">graphical user interface builder</a> that works on any kind of computer.</p>
</li>
<li>
<p>Nobody should pass judgement on Racket until they understand the
<a href="http://www.greghendershott.com/fear-of-macros/Preface.html">macro system</a> that it has! Consider that a challenge if you are an advanced student.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0d182456df17b3b8c9693d06fa645084">19.2 - Online Resources</h1>
    <div class="lead">YouTube videos, online classes, mentions of other areas of discussion.</div>
	<p>The best resource I am aware of is Gregor Kiczales&rsquo; course <a href="https://www.edx.org/course/how-code-simple-data-ubcx-htc1x">How to
Code: Simple
Data</a>. The
course is available for free through edX. (Last checked: Fall 2019.)</p>
<p>There are also groups in Slack, Discord, and Reddit dedicated to
Racket.</p>
<h2 id="kiczales-course-structure">Kiczales Course Structure</h2>
<p>The two most important parts of the course (from my point of view) are:</p>
<ul>
<li>
<p><strong>Module 1b: How to Design Functions.</strong> The design process.</p>
</li>
<li>
<p><strong>Module 3a: How to Design Worlds.</strong> Big-bang.</p>
</li>
</ul>
<h2 id="other-resources">Other Resources</h2>
<p>Signing up for a free online course is too much commitment? You could browse
<a href="https://www.youtube.com/user/gregorkiczales/playlists">the YouTube playlists of Professor Kiczales</a>. The first video of Summer 110 Weeks 3-4 is an introduction to big-bang.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e65dd2779ee30572edb18849774a99c4">19.3 - WeScheme</h1>
    <div class="lead">Notes on how WeScheme is different from DrRacket.</div>
	<p>WeScheme is a browser-based version of Racket. It works well for at
least the first semester of Intermediate Computer Science.</p>
<h2 id="special-notes-for-wescheme-users">Special notes for WeScheme users</h2>
<p>You can use <a href="http://wescheme.org">WeScheme</a> if you cannot install
<a href="https://racket-lang.org">DrRacket</a>.
For example, if you have a Chromebook for your home computer.</p>
<p>There are a few differences:</p>
<ul>
<li>
<p>Omit the <code>(require picturing-programs)</code> line.</p>
</li>
<li>
<p>(<strong>Chapter 1</strong>) See the <a href="/teaching--2021-2022/intermediate-cs/resources/wescheme-ch1/">Chapter 1 WeScheme starter code</a>.</p>
</li>
<li>
<p>(<strong>Chapter 3</strong>) Use the <a href="/teaching--2021-2022/intermediate-cs/resources/wescheme-ch3/">Chapter 3 WeScheme starter</a> code.</p>
<ul>
<li>Instead of copy and pasting in a picture, you need to copy the link for the image and use <code>bitmap/url</code> like this:</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;https://www.what-dog.net/Images/faces2/main004.jpg&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><ul>
<li>(<strong>Chapter 6</strong>) Inside <code>big-bang</code> you need to use the phrase <code>to-draw</code> instead of <code>on-draw</code> that we use in DrRacket.
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">draw-handler</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">overlay</span> <span style="color:#000">model</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">empty-scene</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">tick-handler</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">scale</span> <span style="color:#0000cf;font-weight:bold">1.01</span> <span style="color:#000">model</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">big-bang</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">circle</span> <span style="color:#0000cf;font-weight:bold">10</span> <span style="color:#4e9a06">&#34;solid&#34;</span> <span style="color:#4e9a06">&#34;green&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">on-tick</span> <span style="color:#000">tick-handler</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex; background-color:#dfdfdf"><span>          <span style="color:#000;font-weight:bold">(</span><span style="color:#000">to-draw</span> <span style="color:#000">draw-handler</span><span style="color:#000;font-weight:bold">))</span></span></span></code></pre></div></li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-52056ee4392651fcd62d03a4d963900d">19.4 - </h1>
    
	<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; This code makes variables for each of the images from the book.</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:bloch</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:hieroglyphics</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:hacker</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:book</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:stick-figure</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:scheme-logo</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:calendar</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:train-engine  ; not a variable in DrRacket</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:train-car     ; not a variable in DrRacket</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:bloch</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/bloch.jpg&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:hieroglyphics</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/hieroglyphics.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:hacker</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/mad_hacker.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:book</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/qbook.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:stick-figure</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/stick-figure.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:scheme-logo</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/schemelogo.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:calendar</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/calendar.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:train-engine</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/train_engine.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:train-car</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/train_car.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; This section defines simple functions used in Chapter 1</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; rotate-cw </span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; rotate-ccw</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; rotate-180</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate-cw</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate</span> <span style="color:#0000cf;font-weight:bold">-90</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate-ccw</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate</span> <span style="color:#0000cf;font-weight:bold">90</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate-180</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate</span> <span style="color:#0000cf;font-weight:bold">180</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; Now you are ready to write your programs from Chapter 1 and beyond.</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0f52b2fb30e28815ecc9974a155a5b1a">19.5 - </h1>
    
	<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;;;; WeScheme Starter Code: Chapters 1 and 3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; Chapter 1 Images</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:bloch</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:hieroglyphics</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:hacker</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:book</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:stick-figure</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:scheme-logo</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:calendar</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:train-engine  ; not a variable in DrRacket</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; pic:train-car     ; not a variable in DrRacket</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:bloch</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/bloch.jpg&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:hieroglyphics</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/hieroglyphics.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:hacker</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/mad_hacker.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:book</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/qbook.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:stick-figure</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/stick-figure.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:scheme-logo</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/schemelogo.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:calendar</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/calendar.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:train-engine</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/train_engine.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">pic:train-car</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">bitmap/url</span> <span style="color:#4e9a06">&#34;http://picturingprograms.com/pictures/train_car.png&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; Chapter 1 Functions: rotate-cw rotate-ccw rotate-180</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; This section defines simple functions used in Chapter 1</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; rotate-cw </span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; rotate-ccw</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; rotate-180</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate-cw</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate</span> <span style="color:#0000cf;font-weight:bold">-90</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate-ccw</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate</span> <span style="color:#0000cf;font-weight:bold">90</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate-180</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">rotate</span> <span style="color:#0000cf;font-weight:bold">180</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; Chapter 3 Functions for WeScheme</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; Chapter 3: crop-left crop-right crop-top crop-bottom</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop-left</span> <span style="color:#000">img</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop</span> <span style="color:#000">x</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-width</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-height</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop-right</span> <span style="color:#000">img</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-width</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-height</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop-top</span> <span style="color:#000">img</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000">y</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-width</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-height</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop-bottom</span> <span style="color:#000">img</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">crop</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-width</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">image-height</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000">img</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">;; </span>
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f3caad2ae6b9e66cd2b1c9ebbee88bd8">20 - Pro Features</h1>
    <div class="lead">Brief descriptions of advanced topics that have come up in various individual projects.</div>
	<p>This page contains information about advanced topics that I have been asked.</p>
<ul class="children children-li">
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/pro/pro-string/" >Strings for Experts</a></li></p>
<p>Strings: randomizing and creating by formula.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/pro/build-image/" >Build Image</a></li></p>
<p>Build-image to create images from a formula for the pixel color.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/pro/struct/" >Advanced Structures</a></li></p>
<p>Remember more than one thing at a time.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/pro/match/" >Match</a></li></p>
<p>Take structures apart without repeatedly doing (color-red c), etc.</p>
</span>
<p><span><li>
<a href="/teaching--2021-2022/intermediate-cs/pro/for/" >For</a></li></p>
<p>Looping constructs in Racket.</p>
</span>
</ul>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5261d7a3f863322039b61f6cae26ed53">20.1 - Strings for Experts</h1>
    <div class="lead">Strings: randomizing and creating by formula.</div>
	<p>This page contains information about advanced topics that I have been asked.</p>
<h2 id="randomizing-letters-of-a-string">Randomizing Letters of a String</h2>
<p>The <code>implode</code> and <code>explode</code> functions change strings to and from lists of single letters.
To randomize a list, import <code>racket/list</code> and then use the <code>shuffle</code> function.
If you are actually looking at lists, you should change to Beginning Student with List Abbreviations.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">picturing-programs</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">racket/list</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mix</span> <span style="color:#000">letters</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#000">implode</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">shuffle</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">explode</span> <span style="color:#000">letters</span><span style="color:#000;font-weight:bold">))))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mix</span> <span style="color:#4e9a06">&#34;alphabet soup&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h2 id="advanced-string-making">Advanced String Making</h2>
<ul>
<li>
<p>There is an optional second argument to <code>number-&gt;string</code> that is the base to work in.
<code>(check-expect (number-&gt;string 31 2) &quot;11111&quot;)</code></p>
</li>
<li>
<p>Single characters are different from single letter words. Racket uses <code>#\a</code> to denote the character &ldquo;<code>a</code>&rdquo; and <code>&quot;a&quot;</code> to denote the word containing a single letter a. Usually you do not work with characters, but&hellip;</p>
</li>
<li>
<p>The <code>make-string</code> command takes in a number and a character to repeat (meaning <code>#\a</code> not <code>&quot;a&quot;</code>). Example: <code>(check-expect (make-string 7 #\a) &quot;aaaaaaa&quot;)</code>.</p>
</li>
<li>
<p>The <code>replicate</code> command repeats a string a certain number of times.
Example: <code>(check-expect (replicate 2 &quot;moo&quot;) &quot;moomoo&quot;)</code>.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ab524830dd139661d4fd9db08ce06e34">20.2 - Build Image</h1>
    <div class="lead">Build-image to create images from a formula for the pixel color.</div>
	<p>You should learn how to use <code>build-image</code> to make the pictures in Chapter 15.</p>
<h2 id="advanced-build-image">Advanced: build-image</h2>
<p>The <a href="http://docs.racket-lang.org/picturing-programs/index.html?q=build-image#%28def._%28%28lib._picturing-programs%2Fprivate%2Fmap-image..rkt%29._build-image%29%29">build-image</a> uses a function that specifies the pixel color to create a rectangular image.</p>
<p>The first example is a function that always returns orange, so it makes an orange square:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">pixel-color</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;orange&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">build-image</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#000">pixel-color</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>Notice that <code>pixel-color</code> does not appear in parentheses. The build-image command needs to activate (run) the <code>pixel-color</code> function over and over again, so needs to know the name of the function.</p>
<p>The second example is to give different colors in different circumstances. This example uses a mathematical formula to make a nice picture. Try it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">pixel-color-ii</span> <span style="color:#000">x</span> <span style="color:#000">y</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">cond</span> <span style="color:#000;font-weight:bold">[(</span><span style="color:#204a87">&lt;=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">abs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">-</span> <span style="color:#000">y</span> <span style="color:#000">x</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#0000cf;font-weight:bold">30</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>         <span style="color:#4e9a06">&#34;orange&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">else</span> 
</span></span><span style="display:flex;"><span>         <span style="color:#4e9a06">&#34;blue&#34;</span><span style="color:#000;font-weight:bold">]))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">build-image</span> <span style="color:#0000cf;font-weight:bold">300</span> <span style="color:#0000cf;font-weight:bold">200</span> <span style="color:#000">pixel-color-ii</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ac86bfdd672161ce3e957deb190419a4">20.3 - Advanced Structures</h1>
    <div class="lead">Remember more than one thing at a time.</div>
	<p>You can simplify the writing of lots of &ldquo;struct copying&rdquo; functions by
making a separate file that contains the powerful Racket function
<code>struct-copy</code>, which is disabled in the student modes.</p>
<p>The example file below creates a struct called &ldquo;m&rdquo; that contains a
position, velocity, score, and a boolean for if the game is lost. The
file also creates &ldquo;updating&rdquo; functions that change only one part of
the struct.</p>
<p><strong>NOTE:</strong> In this file you must change the language to racket (Language
-&gt; Choose Language&hellip; -&gt; Racket).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">#lang </span><span style="color:#000">racket</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">lang/posn</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">provide</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">all-defined-out</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define-struct</span> <span style="color:#000">m</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">pos</span> <span style="color:#000">vel</span> <span style="color:#000">score</span> <span style="color:#000">lost?</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">#:transparent</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">m-update-pos</span> <span style="color:#000">x</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">struct-copy</span> <span style="color:#000">m</span> <span style="color:#000">x</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">pos</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">]))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">m-update-vel</span> <span style="color:#000">x</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">struct-copy</span> <span style="color:#000">m</span> <span style="color:#000">x</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">vel</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">]))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">m-update-score</span> <span style="color:#000">x</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">struct-copy</span> <span style="color:#000">m</span> <span style="color:#000">x</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">score</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">]))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">m-update-lost</span> <span style="color:#000">x</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">struct-copy</span> <span style="color:#000">m</span> <span style="color:#000">x</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">lost?</span> <span style="color:#000">w</span><span style="color:#000;font-weight:bold">]))</span>
</span></span></code></pre></div><p>Save this file as &ldquo;m-struct.rkt&rdquo; and then use <code>(require &quot;m-struct.rkt&quot;)</code> in your main program.</p>
<h2 id="summary">Summary</h2>
<ol>
<li>Using <code>#lang racket</code> allows some advanced features at a cost of
some complexity.</li>
<li>Every struct needs <code>#:transparent</code>. This is best explained as a
design mistake in the Racket language.</li>
<li>Read about
<a href="https://docs.racket-lang.org/reference/struct-copy.html?q=struct-copy#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct-copy%29%29"><code>struct-copy</code></a>
or follow the examples below.</li>
</ol>
<h2 id="example">Example</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-racket" data-lang="racket"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#000">picturing-programs</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">require</span> <span style="color:#4e9a06">&#34;m-struct.rkt&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">example-1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-m</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">5</span> <span style="color:#0000cf;font-weight:bold">12</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#000;font-weight:bold">)</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#0000cf;font-weight:bold">120</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#000">#false</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">example-2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">m-update-score</span> <span style="color:#000">example-1</span> <span style="color:#0000cf;font-weight:bold">150</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">define</span> <span style="color:#000">example-3</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">(</span><span style="color:#000">m-update-pos</span> <span style="color:#000">example-1</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">make-posn</span> <span style="color:#0000cf;font-weight:bold">8</span> <span style="color:#0000cf;font-weight:bold">15</span><span style="color:#000;font-weight:bold">)))</span>
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9312861537a8418bd9efcdb42ee8b776">20.4 - Match</h1>
    <div class="lead">Take structures apart without repeatedly doing (color-red c), etc.</div>
	<p>Pattern matching lets you take apart structures into their component
variables in a simple way.</p>
<p>You can use <code>(require racket/match)</code> to activate <a href="https://docs.racket-lang.org/guide/match.html?q=pattern%20match">pattern matching</a>.</p>
<h2 id="matching">Matching</h2>
<p>The <code>match</code> function is like <code>cond</code> except it checks to see if a value
matches a certain &ldquo;literal&rdquo; pattern or question. It can create
variables to use immediately instead of requiring a helper function.</p>
<h3 id="problem">Problem</h3>
<p>Write a function that takes in a number or a posn and returns the
distance to the correct origin (either 0 or (0,0)) depending on which
type it gets.</p>
<h3 id="example-solution-cond">Example Solution: Cond</h3>
<pre><code>(define (cond-to-zero w)
  (cond [(posn? w)    (sqrt (+ (sqr (posn-x w))
                               (sqr (posn-y w))))]
        [(number? w)  (abs w)]))
</code></pre>
<h3 id="example-solution-match">Example Solution: Match</h3>
<pre><code>(define (match-to-zero w)
  (match n
    [(posn x y)  (sqrt (+ (sqr x)
                          (sqr y)))]
    [number?     (abs w)]))
</code></pre>
<h2 id="ignoring-parts-of-a-model">Ignoring parts of a model</h2>
<p>You can use the underscore <code>_</code> to match places that you want to
ignore. This example shows how to pull out two scores from a model and
use them to find the total number of points in the game.</p>
<pre><code>(define-struct game (p1pos p1score p2pos p2score))
(define (total-score model)
  (match model
    [(game _ s1 _ s2)
     (+ s1 s2)]
</code></pre>
<h2 id="list-processing-with-matching">List processing with matching</h2>
<p>Suppose you want to add all of the numbers in a list. You can use the
<code>'()</code> pattern to match the empty list. The pattern <code>(list a more ...)</code>
makes <code>a</code> match the first of the list and <code>more</code> match the rest of the list.</p>
<pre><code>(define (add-all data)
    (match data
      ['()
       0]
      [(list a more ...)
       (+ a (add-add more))]))
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ee17784e979e9fe5593b77ea1f8bff8d">20.5 - For</h1>
    <div class="lead">Looping constructs in Racket.</div>
	<p>All of these are Google Docs.</p>
<ul>
<li><a href="https://docs.google.com/presentation/d/1zObYBioHfX-x_r7rNt2U7qazZkWSR1Pk9_b9tXmi4VA/edit?usp=sharing">Presentation on
For</a>,
includes information and some exercises.</li>
<li><a href="https://drive.google.com/open?id=1GwxJLWv8-jW2pZmCxC0LSrVT8zh5SlsZ5MmQx1g7Mic">For Loop Exercises 1</a></li>
<li><a href="https://drive.google.com/open?id=1salWGYX7mwoTpSNlMXmB0kL53_o6x0wppjWe0NGgVaE">For Loop Exercises 2</a></li>
<li><a href="https://drive.google.com/open?id=1hvwoS-dfkWp6eVfSTep9Z6oMUsHqTTBpuzjr93MhOdw">Learning for/fold</a></li>
</ul>
<h2 id="intermediate-student-mode">Intermediate Student Mode</h2>
<p>You can access the &ldquo;for&rdquo; command inside Intermediate Student Mode by using <code>(require racket/base)</code>.</p>
<p>We used racket/base to get access to the &ldquo;for&rdquo; command. Unfortunately,
this takes away some of the nice things that picturing-programs
does. If you do something like <code>(make-bubble (make-posn 10 20) &quot;red&quot; 30)</code>
and see an output like <code>(make-bubble â€¦)</code>, without being able to see
specific information in the place of the dots, then you need to read
on.</p>
<p>In order for you to be able to see inside your structure in the Racket language, you need to tell Racket to make it &ldquo;transparent&rdquo;. You do that by adding a keyword, like this:</p>
<pre><code>(define-struct person (name grade) #:transparent)
</code></pre>
<p>That takes care of the problem. No more changes are necessary.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9adc1a7eb4eaca8f92329e1e1f344c8b">21 - Online Help</h1>
    
	<p>The best resource I am aware of is Gregor Kiczales&rsquo; course <a href="https://www.edx.org/course/how-code-simple-data-ubcx-htc1x">How to Code: Simple Data</a>. The course is available for free through edX.</p>
<h2 id="kiczales-course-structure">Kiczales Course Structure</h2>
<p>The two most important parts of the course (from my point of view) are:</p>
<ul>
<li>
<p><strong>Module 1b: How to Design Functions.</strong> The design process.</p>
</li>
<li>
<p><strong>Module 3a: How to Design Worlds.</strong> Big-bang.</p>
</li>
</ul>
<h2 id="how-to-design-programs-videos">How to Design Programs Videos</h2>
<p>Professor Matthew Flatt has a <a href="https://my.eng.utah.edu/~cs3520/f20/htdp-videos.html">long list of videos about
Racket fundamentals</a>.
Of course some of them are slightly different from what we learn, but
overall they teach the difficult fundamentals. No graphics when I
checked (Fall 2021).</p>
<h2 id="other-resources">Other Resources</h2>
<p>Signing up for a free online course is too much commitment? You could browse
<a href="https://www.youtube.com/user/gregorkiczales/playlists">the YouTube playlists of Professor Kiczales</a>. The first video of Summer 110 Weeks 3-4 is an introduction to big-bang.</p>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Racket Docs" aria-label="Racket Docs">
    <a class="text-white" target="_blank" rel="noopener" href="https://docs.racket-lang.org/" aria-label="Racket Docs">
      <i class="fab fa-galactic-republic"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Picturing Programs" aria-label="Picturing Programs">
    <a class="text-white" target="_blank" rel="noopener" href="https://picturingprograms.com" aria-label="Picturing Programs">
      <i class="fas fa-book"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Python 3 Docs" aria-label="Python 3 Docs">
    <a class="text-white" target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/index.html" aria-label="Python 3 Docs">
      <i class="fab fa-python"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Lean You a Haskell" aria-label="Lean You a Haskell">
    <a class="text-white" target="_blank" rel="noopener" href="https://learnyouahaskell.com/" aria-label="Lean You a Haskell">
      <i class="fas fa-brain"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 Andrew Mauer-Oats All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/teaching--2021-2022/js/main.min.f76dedb82c2626dc505c0e8ab40cba7bbff47cf7e1d72b235baecccdce24f3c7.js" integrity="sha256-923tuCwmJtxQXA6KtAy6e7/0fPfh1ysjW67Mzc4k88c=" crossorigin="anonymous"></script>




  </body>
</html>
