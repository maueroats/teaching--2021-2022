<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.101.0" />
<link rel="canonical" type="text/html" href="https://maueroats.github.io/teaching--2021-2022/ap-cs/haskell/tic-tac-toe/">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/teaching--2021-2022/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/teaching--2021-2022/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/teaching--2021-2022/favicons/android-192x192.png" sizes="192x192">

<title>Tic-Tac-Toe | WY CS</title>
<meta name="description" content="">
<meta property="og:title" content="Tic-Tac-Toe" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://maueroats.github.io/teaching--2021-2022/ap-cs/haskell/tic-tac-toe/" />

<meta itemprop="name" content="Tic-Tac-Toe">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tic-Tac-Toe"/>
<meta name="twitter:description" content=""/>




<link rel="preload" href="/teaching--2021-2022/scss/main.min.d025e7f93eb7a713039676faaf01ccf911a0435790c00ed7c3e93d0345d088e1.css" as="style">
<link href="/teaching--2021-2022/scss/main.min.d025e7f93eb7a713039676faaf01ccf911a0435790c00ed7c3e93d0345d088e1.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/teaching--2021-2022/">
		<span class="navbar-logo"></span><span class="font-weight-bold">WY CS</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/ecs/" ><span>ECS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/intermediate-cs/" ><span>IntermediateCS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/teaching--2021-2022/ap-cs/" ><span class="active">AP CS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/ai/" ><span>AI</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/teaching--2021-2022/resources/" ><span>Resources</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"></div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/teaching--2021-2022/ap-cs/haskell/tic-tac-toe/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Tic-Tac-Toe</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-90f721870c6b8b56c7af678bf8c618a6">Overview</a></li>


    
  
    
    
	
<li>2: <a href="#pg-69d86f5126bfed2f68f92517c02f665a">Draw Handler</a></li>


    
  
    
    
	
<li>3: <a href="#pg-6c7dbad53477bcb474c05ad51abb3eee">Mouse Handler</a></li>


    
  
    
    
	
<li>4: <a href="#pg-e0ebcab44c61b267715a564f09e81e23">Troubleshooting</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-90f721870c6b8b56c7af678bf8c618a6">1 - Overview</h1>
    
	<p>We will start by writing a draw handler to render a Tic-Tac-Toe board,
then add in an event handler.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Every function you write should have a signature. Lack of signatures
makes error messages very hard to understand.

</div>

<h2 id="basic-definitions">Basic Definitions</h2>
<p>We will use the definitions below.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-haskell" data-lang="haskell"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">type</span> <span style="color:#204a87;font-weight:bold">Posn</span> <span style="color:#204a87;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">Int</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">Int</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">type</span> <span style="color:#204a87;font-weight:bold">Player</span> <span style="color:#204a87;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">Int</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">type</span> <span style="color:#204a87;font-weight:bold">Piece</span> <span style="color:#204a87;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">Player</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">Posn</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">type</span> <span style="color:#204a87;font-weight:bold">Board</span> <span style="color:#204a87;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">Piece</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><p>Danger: using <code>(Double, Double)</code> for <code>Posn</code> makes the draw handler
easier but the event handler harder.</p>
<p>The coordinates (0,0) will represent the lower left square on the
tic-tac-toe board, and (0,1) will be the middle left square.</p>
<h2 id="timing">Timing</h2>
<p>If this is not your first project in CodeWorld, it should take about a
week.</p>
<p>Class days usage:</p>
<ol>
<li>Learn how to draw images in CodeWorld.</li>
<li>Write the draw handler.</li>
<li>Write the mouse handler.</li>
<li>GameState and integration, troubleshooting.</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-69d86f5126bfed2f68f92517c02f665a">2 - Draw Handler</h1>
    
	<h2 id="assumed-knowledge">Assumed knowledge</h2>
<p>If you have never drawn anything in <a href="https://code.world/haskell">CodeWorld</a>, take half an hour and
learn how to draw outline and solid shapes in various colors. You can
read about
<a href="https://code.world/doc.html?shelf=help/haskell.shelf#2">Pictures in the
Guide</a>..</p>
<p>Minimum:</p>
<ul>
<li><code>import CodeWorld</code></li>
<li>circle</li>
<li>solidCircle</li>
<li>rectangle</li>
<li>solidRectangle</li>
<li>translated</li>
<li>colored</li>
<li>pictures</li>
</ul>
<p>It is also helpful to know about <code>coordinatePlane</code> so you understand
what numbers will appear as x and y coordinates of the mouse.</p>
<h2 id="step-0-warmup">Step 0: warmup</h2>
<p>Make a picture showing all of the following, together:</p>
<ul>
<li>a 3x2 solid blue rectangle centered at (4,5)</li>
<li>a radius 3.5 circle centered at (-2,1)</li>
<li>the coordinate plane</li>
</ul>
<p>If you are &ldquo;advanced&rdquo;, add in a solid green triangle with vertices
(-4,1), (0,-7), and (8,-5).</p>
<figure>
    <img src="/teaching--2021-2022/ap-cs/haskell/tic-tac-toe/drawhandler/threeshapes.png" width="150px"/> 
</figure>
<h2 id="step-1-background">Step 1: background</h2>
<p>The first step is to create the lines for the tic-tac-toe board. Draw
a careful picture labeling coordinates and the width and height of
everything, then the rest of the functions will be easier.</p>
<p>You should try this step yourself! As motivation, here is one possible
board sketch:</p>
<figure><a href="dhsketch.png">
    <img src="/teaching--2021-2022/ap-cs/haskell/tic-tac-toe/drawhandler/dhsketch.png" width="200"/> </a>
</figure>
<!-- heavyweight image, shrink it for this page? -->
<h2 id="step-2a-warmup-for-single-piece">Step 2a: warmup for single piece</h2>
<p>&ldquo;Board coordinates&rdquo; of (0,2) correspond to &ldquo;computer coordinates&rdquo; of
(-2,2) using the board sketch above. Write a function whose input is
the board coordinate of a square and whose output is the computer
coordinate of that square (use your drawing from step 1).</p>
<p>Of course you could just write nine different statements like the one
below, but a little bit of math makes it a lot less annoying.</p>
<pre><code>compcoord :: Posn -&gt; Posn
compcoord (0,2) == (-2,2)
compcoord (1,0) == (0,-2)
-- write a math function!
</code></pre>
<h2 id="step-2b-draw-single-piece">Step 2b: draw single piece</h2>
<p>The second step is to write a function that renders a single piece.</p>
<pre><code>drawPiece :: Piece -&gt; Picture
</code></pre>
<p>The most common problem here is that the coordinates given in the
piece are integers like (0,2) but <code>translated</code> wants decimals
(<code>Double</code>). Use the <code>fromIntegral</code> function.</p>
<p>Example: the demo function below shows how to draw a 50x50 blue square at
coordinates (-3,1), (0,1) or (3,1) depending on what number comes in.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-haskell" data-lang="haskell"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">CodeWorld</span>
</span></span><span style="display:flex;"><span><span style="color:#000">demo</span> <span style="color:#204a87;font-weight:bold">::</span> <span style="color:#204a87;font-weight:bold">Int</span> <span style="color:#204a87;font-weight:bold">-&gt;</span> <span style="color:#204a87;font-weight:bold">Picture</span>
</span></span><span style="display:flex;"><span><span style="color:#000">demo</span> <span style="color:#000">n</span> <span style="color:#204a87;font-weight:bold">=</span> <span style="color:#000">translated</span> <span style="color:#000">newx</span> <span style="color:#0000cf;font-weight:bold">1.0</span> <span style="color:#ce5c00;font-weight:bold">$</span> <span style="color:#000">colored</span> <span style="color:#000">blue</span> <span style="color:#ce5c00;font-weight:bold">$</span> <span style="color:#000">solidRectangle</span> <span style="color:#0000cf;font-weight:bold">0.5</span> <span style="color:#0000cf;font-weight:bold">0.5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">where</span> <span style="color:#000">newx</span> <span style="color:#204a87;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">3.0</span> <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">fromIntegral</span> <span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">main</span> <span style="color:#204a87;font-weight:bold">=</span> <span style="color:#000">drawingOf</span> <span style="color:#ce5c00;font-weight:bold">$</span> <span style="color:#000">pictures</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">demo</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">coordinatePlane</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><h2 id="step-3-draw-a-list-of-pieces">Step 3: draw a list of pieces</h2>
<p>The final step is to render a whole list of pieces. Don&rsquo;t try to write
this function until you are happy with your one piece drawing. After
that it should be a small step.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6c7dbad53477bcb474c05ad51abb3eee">3 - Mouse Handler</h1>
    
	<p>Read about <a href="https://code.world/doc.html?shelf=help/haskell.shelf#4">event system in
CodeWorld</a> and
possibly consult some <a href="demo-drawcircle.txt">demonstration code</a>.</p>
<h2 id="essential-warmup">Essential Warmup</h2>
<p>Mouse location is reported in &ldquo;computer coordinates&rdquo;, <code>Double</code>s in the
range [-10,10] for both x and y. We will do some math to change these
into the board coordinates.</p>
<p>You need to have made decisions about the size of your board squares
and their location. Consult your diagram for the draw handler. Here, I
will use the numbers from my drawing, but any method works.</p>
<pre><code>toBoard :: (Double, Double) -&gt; Posn
</code></pre>
<p>Tests, written while looking at my diagram:</p>
<pre><code>testToBoard = [
  toBoard (-2,-2) == (0,0)
  ,toBoard (-1.9, -2.8) == (0,0)
  ,toBoard (-2,0) == (0,1)
  ,toBoard (2,-2) == (2,0)
  ]
</code></pre>
<p>The formula is the same for both x and y, so you might just try
writing a function for x.</p>
<pre><code>warm :: Double -&gt; Int

testWarm = [
  warm (-2) == 0
  ,warm (-1.9) == 0
  ,warm (-1.1) == 0
  ,warm (0.9) == 1
  ,warm (1.2) == 2
  ]
</code></pre>
<p>Expect to use <code>round</code> or <code>floor</code> along with some addition,
subtraction, multiplication, or division.</p>
<h2 id="mouse-handler">Mouse Handler</h2>
<p>Hopefully you have learned from class or the examples how the event
handler works. Here is a skeleton and some do-nothing starter code.</p>
<pre><code>event_h :: Event -&gt; GameState -&gt; GameState
event_h (PointerPress (x,y)) state = state
event_h _ state = state
</code></pre>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e0ebcab44c61b267715a564f09e81e23">4 - Troubleshooting</h1>
    
	<p>Common issues:</p>
<ul>
<li>
<p><code>translated</code> generates an error:</p>
<pre><code>  Couldn't match expected type ‘Double’ with actual type ‘Int’
  In the first argument of ‘translated’, namely ‘x’
</code></pre>
<p>The <code>translated</code> function needs decimals (<code>Double</code>) for inputs.
Solution: use <code>(fromIntegral x)</code> to treat the int as a decimal.</p>
</li>
<li>
<p>Need to convert an Int to a Double: use <code>fromIntegral</code>.</p>
</li>
<li>
<p>Error about <code>No instance for (Integral Double)</code>: you rounded a
double and now you have an integer. Put in <code>fromIntegral</code> to allow
the integer to change back to a Double.</p>
</li>
</ul>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Racket Docs" aria-label="Racket Docs">
    <a class="text-white" target="_blank" rel="noopener" href="https://docs.racket-lang.org/" aria-label="Racket Docs">
      <i class="fab fa-galactic-republic"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Picturing Programs" aria-label="Picturing Programs">
    <a class="text-white" target="_blank" rel="noopener" href="https://picturingprograms.com" aria-label="Picturing Programs">
      <i class="fas fa-book"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Python 3 Docs" aria-label="Python 3 Docs">
    <a class="text-white" target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/index.html" aria-label="Python 3 Docs">
      <i class="fab fa-python"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Lean You a Haskell" aria-label="Lean You a Haskell">
    <a class="text-white" target="_blank" rel="noopener" href="https://learnyouahaskell.com/" aria-label="Lean You a Haskell">
      <i class="fas fa-brain"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 Andrew Mauer-Oats All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/teaching--2021-2022/js/main.min.f76dedb82c2626dc505c0e8ab40cba7bbff47cf7e1d72b235baecccdce24f3c7.js" integrity="sha256-923tuCwmJtxQXA6KtAy6e7/0fPfh1ysjW67Mzc4k88c=" crossorigin="anonymous"></script>




  </body>
</html>
